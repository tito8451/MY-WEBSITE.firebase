function nA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q0={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),rA=Symbol.for("react.portal"),iA=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),sA=Symbol.for("react.profiler"),aA=Symbol.for("react.provider"),lA=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),cA=Symbol.for("react.suspense"),hA=Symbol.for("react.memo"),dA=Symbol.for("react.lazy"),ky=Symbol.iterator;function fA(t){return t===null||typeof t!="object"?null:(t=ky&&t[ky]||t["@@iterator"],typeof t=="function"?t:null)}var Y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X0=Object.assign,J0={};function is(t,e,n){this.props=t,this.context=e,this.refs=J0,this.updater=n||Y0}is.prototype.isReactComponent={};is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z0(){}Z0.prototype=is.prototype;function Tp(t,e,n){this.props=t,this.context=e,this.refs=J0,this.updater=n||Y0}var Ip=Tp.prototype=new Z0;Ip.constructor=Tp;X0(Ip,is.prototype);Ip.isPureReactComponent=!0;var xy=Array.isArray,eE=Object.prototype.hasOwnProperty,Cp={current:null},tE={key:!0,ref:!0,__self:!0,__source:!0};function nE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)eE.call(e,r)&&!tE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ba,type:t,key:o,ref:s,props:i,_owner:Cp.current}}function pA(t,e){return{$$typeof:Ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ba}function mA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ny=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mA(""+t.key):e.toString(36)}function Jl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ba:case rA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Jh(s,0):r,xy(i)?(n="",t!=null&&(n=t.replace(Ny,"$&/")+"/"),Jl(i,e,n,"",function(c){return c})):i!=null&&(Ap(i)&&(i=pA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ny,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",xy(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Jh(o,l);s+=Jl(o,e,n,u,i)}else if(u=fA(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Jh(o,l++),s+=Jl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Al(t,e,n){if(t==null)return t;var r=[],i=0;return Jl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Zl={transition:null},yA={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:Cp};function rE(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=is;ye.Fragment=iA;ye.Profiler=sA;ye.PureComponent=Tp;ye.StrictMode=oA;ye.Suspense=cA;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;ye.act=rE;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Cp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)eE.call(e,u)&&!tE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ba,type:t.type,key:i,ref:o,props:r,_owner:s}};ye.createContext=function(t){return t={$$typeof:lA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aA,_context:t},t.Consumer=t};ye.createElement=nE;ye.createFactory=function(t){var e=nE.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:uA,render:t}};ye.isValidElement=Ap;ye.lazy=function(t){return{$$typeof:dA,_payload:{_status:-1,_result:t},_init:gA}};ye.memo=function(t,e){return{$$typeof:hA,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Zl.transition;Zl.transition={};try{t()}finally{Zl.transition=e}};ye.unstable_act=rE;ye.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ye.useContext=function(t){return Gt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ye.useId=function(){return Gt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};ye.useRef=function(t){return Gt.current.useRef(t)};ye.useState=function(t){return Gt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Gt.current.useTransition()};ye.version="18.3.1";Q0.exports=ye;var B=Q0.exports;const Re=Sp(B),vA=nA({__proto__:null,default:Re},[B]);var iE={exports:{}},hn={},oE={exports:{}},sE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var ne=K.length;K.push(te);e:for(;0<ne;){var O=ne-1>>>1,b=K[O];if(0<i(b,te))K[O]=te,K[ne]=b,ne=O;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],ne=K.pop();if(ne!==te){K[0]=ne;e:for(var O=0,b=K.length,k=b>>>1;O<k;){var M=2*(O+1)-1,q=K[M],L=M+1,Y=K[L];if(0>i(q,ne))L<b&&0>i(Y,q)?(K[O]=Y,K[L]=ne,O=L):(K[O]=q,K[M]=ne,O=M);else if(L<b&&0>i(Y,ne))K[O]=Y,K[L]=ne,O=L;else break e}}return te}function i(K,te){var ne=K.sortIndex-te.sortIndex;return ne!==0?ne:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,m=3,E=!1,C=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=K)r(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function x(K){if(T=!1,I(K),!C)if(n(u)!==null)C=!0,kt(U);else{var te=n(c);te!==null&&ve(x,te.startTime-K)}}function U(K,te){C=!1,T&&(T=!1,_(v),v=-1),E=!0;var ne=m;try{for(I(te),f=n(u);f!==null&&(!(f.expirationTime>te)||K&&!N());){var O=f.callback;if(typeof O=="function"){f.callback=null,m=f.priorityLevel;var b=O(f.expirationTime<=te);te=t.unstable_now(),typeof b=="function"?f.callback=b:f===n(u)&&r(u),I(te)}else r(u);f=n(u)}if(f!==null)var k=!0;else{var M=n(c);M!==null&&ve(x,M.startTime-te),k=!1}return k}finally{f=null,m=ne,E=!1}}var j=!1,S=null,v=-1,w=5,A=-1;function N(){return!(t.unstable_now()-A<w)}function D(){if(S!==null){var K=t.unstable_now();A=K;var te=!0;try{te=S(!0,K)}finally{te?R():(j=!1,S=null)}}else j=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,fe=ke.port2;ke.port1.onmessage=D,R=function(){fe.postMessage(null)}}else R=function(){P(D,0)};function kt(K){S=K,j||(j=!0,R())}function ve(K,te){v=P(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,kt(U))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var ne=m;m=te;try{return K()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=m;m=K;try{return te()}finally{m=ne}},t.unstable_scheduleCallback=function(K,te,ne){var O=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,K){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ne+b,K={id:d++,callback:te,priorityLevel:K,startTime:ne,expirationTime:b,sortIndex:-1},ne>O?(K.sortIndex=ne,e(c,K),n(u)===null&&K===n(c)&&(T?(_(v),v=-1):T=!0,ve(x,ne-O))):(K.sortIndex=b,e(u,K),C||E||(C=!0,kt(U))),K},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(K){var te=m;return function(){var ne=m;m=te;try{return K.apply(this,arguments)}finally{m=ne}}}})(sE);oE.exports=sE;var _A=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=B,cn=_A;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aE=new Set,fa={};function Hi(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(fa[t]=e,t=0;t<e.length;t++)aE.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=Object.prototype.hasOwnProperty,wA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,by={},Oy={};function SA(t){return Wd.call(Oy,t)?!0:Wd.call(by,t)?!1:wA.test(t)?Oy[t]=!0:(by[t]=!0,!1)}function TA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IA(t,e,n,r){if(e===null||typeof e>"u"||TA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function Pp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rp,Pp);Rt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rp,Pp);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rp,Pp);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IA(e,n,i,r)&&(n=null),r||i===null?SA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=EA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rl=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),xp=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),bp=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),cE=Symbol.for("react.offscreen"),Dy=Symbol.iterator;function Ns(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Zh;function js(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?js(t):""}function CA(t){switch(t.tag){case 5:return js(t.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function Kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Hd:return"Profiler";case xp:return"StrictMode";case qd:return"Suspense";case Gd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uE:return(t.displayName||"Context")+".Consumer";case lE:return(t._context.displayName||"Context")+".Provider";case Np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bp:return e=t.displayName||null,e!==null?e:Kd(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return Kd(t(e))}catch{}}return null}function AA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kd(e);case 8:return e===xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RA(t){var e=hE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=RA(t))}function dE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qd(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ly(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fE(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function Yd(t,e){fE(t,e);var n=ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xd(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xd(t,e,n){(e!=="number"||xu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $s=Array.isArray;function Ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function My(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if($s(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ei(n)}}function pE(t,e){var n=ei(e.value),r=ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kl,gE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PA=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(t){PA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ys[e]=Ys[t]})});function yE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ys.hasOwnProperty(t)&&Ys[t]?(""+e).trim():e+"px"}function vE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kA=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ef(t,e){if(e){if(kA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function tf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rf=null,Ro=null,Po=null;function Fy(t){if(t=qa(t)){if(typeof rf!="function")throw Error(G(280));var e=t.stateNode;e&&(e=kc(e),rf(t.stateNode,t.type,e))}}function _E(t){Ro?Po?Po.push(t):Po=[t]:Ro=t}function EE(){if(Ro){var t=Ro,e=Po;if(Po=Ro=null,Fy(t),e)for(t=0;t<e.length;t++)Fy(e[t])}}function wE(t,e){return t(e)}function SE(){}var nd=!1;function TE(t,e,n){if(nd)return t(e,n);nd=!0;try{return wE(t,e,n)}finally{nd=!1,(Ro!==null||Po!==null)&&(SE(),EE())}}function ma(t,e){var n=t.stateNode;if(n===null)return null;var r=kc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var of=!1;if(hr)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){of=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{of=!1}function xA(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Xs=!1,Nu=null,bu=!1,sf=null,NA={onError:function(t){Xs=!0,Nu=t}};function bA(t,e,n,r,i,o,s,l,u){Xs=!1,Nu=null,xA.apply(NA,arguments)}function OA(t,e,n,r,i,o,s,l,u){if(bA.apply(this,arguments),Xs){if(Xs){var c=Nu;Xs=!1,Nu=null}else throw Error(G(198));bu||(bu=!0,sf=c)}}function qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jy(t){if(qi(t)!==t)throw Error(G(188))}function DA(t){var e=t.alternate;if(!e){if(e=qi(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return jy(i),t;if(o===r)return jy(i),e;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function CE(t){return t=DA(t),t!==null?AE(t):null}function AE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AE(t);if(e!==null)return e;t=t.sibling}return null}var RE=cn.unstable_scheduleCallback,$y=cn.unstable_cancelCallback,LA=cn.unstable_shouldYield,VA=cn.unstable_requestPaint,tt=cn.unstable_now,MA=cn.unstable_getCurrentPriorityLevel,Dp=cn.unstable_ImmediatePriority,PE=cn.unstable_UserBlockingPriority,Ou=cn.unstable_NormalPriority,UA=cn.unstable_LowPriority,kE=cn.unstable_IdlePriority,Cc=null,$n=null;function FA(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Cc,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:zA,jA=Math.log,$A=Math.LN2;function zA(t){return t>>>=0,t===0?32:31-(jA(t)/$A|0)|0}var xl=64,Nl=4194304;function zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Du(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=zs(l):(o&=s,o!==0&&(r=zs(o)))}else s=n&~i,s!==0?r=zs(s):o!==0&&(r=zs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),i=1<<n,r|=t[n],e&=~i;return r}function BA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-bn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=BA(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function af(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xE(){var t=xl;return xl<<=1,!(xl&4194240)&&(xl=64),t}function rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function HA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function NE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bE,Vp,OE,DE,LE,lf=!1,bl=[],Fr=null,jr=null,$r=null,ga=new Map,ya=new Map,kr=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zy(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(e.pointerId)}}function Os(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=qa(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GA(t,e,n,r,i){switch(e){case"focusin":return Fr=Os(Fr,t,e,n,r,i),!0;case"dragenter":return jr=Os(jr,t,e,n,r,i),!0;case"mouseover":return $r=Os($r,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ga.set(o,Os(ga.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ya.set(o,Os(ya.get(o)||null,t,e,n,r,i)),!0}return!1}function VE(t){var e=Ci(t.target);if(e!==null){var n=qi(e);if(n!==null){if(e=n.tag,e===13){if(e=IE(n),e!==null){t.blockedOn=e,LE(t.priority,function(){OE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nf=r,n.target.dispatchEvent(r),nf=null}else return e=qa(n),e!==null&&Vp(e),t.blockedOn=n,!1;e.shift()}return!0}function By(t,e,n){eu(t)&&n.delete(e)}function KA(){lf=!1,Fr!==null&&eu(Fr)&&(Fr=null),jr!==null&&eu(jr)&&(jr=null),$r!==null&&eu($r)&&($r=null),ga.forEach(By),ya.forEach(By)}function Ds(t,e){t.blockedOn===e&&(t.blockedOn=null,lf||(lf=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,KA)))}function va(t){function e(i){return Ds(i,t)}if(0<bl.length){Ds(bl[0],t);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&Ds(Fr,t),jr!==null&&Ds(jr,t),$r!==null&&Ds($r,t),ga.forEach(e),ya.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)VE(n),n.blockedOn===null&&kr.shift()}var ko=_r.ReactCurrentBatchConfig,Lu=!0;function QA(t,e,n,r){var i=be,o=ko.transition;ko.transition=null;try{be=1,Mp(t,e,n,r)}finally{be=i,ko.transition=o}}function YA(t,e,n,r){var i=be,o=ko.transition;ko.transition=null;try{be=4,Mp(t,e,n,r)}finally{be=i,ko.transition=o}}function Mp(t,e,n,r){if(Lu){var i=uf(t,e,n,r);if(i===null)fd(t,e,r,Vu,n),zy(t,r);else if(GA(i,t,e,n,r))r.stopPropagation();else if(zy(t,r),e&4&&-1<qA.indexOf(t)){for(;i!==null;){var o=qa(i);if(o!==null&&bE(o),o=uf(t,e,n,r),o===null&&fd(t,e,r,Vu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fd(t,e,r,null,n)}}var Vu=null;function uf(t,e,n,r){if(Vu=null,t=Op(r),t=Ci(t),t!==null)if(e=qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vu=t,null}function ME(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MA()){case Dp:return 1;case PE:return 4;case Ou:case UA:return 16;case kE:return 536870912;default:return 16}default:return 16}}var Lr=null,Up=null,tu=null;function UE(){if(tu)return tu;var t,e=Up,n=e.length,r,i="value"in Lr?Lr.value:Lr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return tu=i.slice(t,1<r?1-r:void 0)}function nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function Wy(){return!1}function dn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ol:Wy,this.isPropagationStopped=Wy,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),e}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=dn(os),Ha=Qe({},os,{view:0,detail:0}),XA=dn(Ha),id,od,Ls,Ac=Qe({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ls&&(Ls&&t.type==="mousemove"?(id=t.screenX-Ls.screenX,od=t.screenY-Ls.screenY):od=id=0,Ls=t),id)},movementY:function(t){return"movementY"in t?t.movementY:od}}),Hy=dn(Ac),JA=Qe({},Ac,{dataTransfer:0}),ZA=dn(JA),eR=Qe({},Ha,{relatedTarget:0}),sd=dn(eR),tR=Qe({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),nR=dn(tR),rR=Qe({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iR=dn(rR),oR=Qe({},os,{data:0}),qy=dn(oR),sR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lR[t])?!!e[t]:!1}function jp(){return uR}var cR=Qe({},Ha,{key:function(t){if(t.key){var e=sR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(t){return t.type==="keypress"?nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hR=dn(cR),dR=Qe({},Ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gy=dn(dR),fR=Qe({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),pR=dn(fR),mR=Qe({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=dn(mR),yR=Qe({},Ac,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vR=dn(yR),_R=[9,13,27,32],$p=hr&&"CompositionEvent"in window,Js=null;hr&&"documentMode"in document&&(Js=document.documentMode);var ER=hr&&"TextEvent"in window&&!Js,FE=hr&&(!$p||Js&&8<Js&&11>=Js),Ky=" ",Qy=!1;function jE(t,e){switch(t){case"keyup":return _R.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function wR(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(Qy=!0,Ky);case"textInput":return t=e.data,t===Ky&&Qy?null:t;default:return null}}function SR(t,e){if(po)return t==="compositionend"||!$p&&jE(t,e)?(t=UE(),tu=Up=Lr=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TR[t.type]:e==="textarea"}function zE(t,e,n,r){_E(r),e=Mu(e,"onChange"),0<e.length&&(n=new Fp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zs=null,_a=null;function IR(t){ZE(t,0)}function Rc(t){var e=yo(t);if(dE(e))return t}function CR(t,e){if(t==="change")return e}var BE=!1;if(hr){var ad;if(hr){var ld="oninput"in document;if(!ld){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),ld=typeof Xy.oninput=="function"}ad=ld}else ad=!1;BE=ad&&(!document.documentMode||9<document.documentMode)}function Jy(){Zs&&(Zs.detachEvent("onpropertychange",WE),_a=Zs=null)}function WE(t){if(t.propertyName==="value"&&Rc(_a)){var e=[];zE(e,_a,t,Op(t)),TE(IR,e)}}function AR(t,e,n){t==="focusin"?(Jy(),Zs=e,_a=n,Zs.attachEvent("onpropertychange",WE)):t==="focusout"&&Jy()}function RR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rc(_a)}function PR(t,e){if(t==="click")return Rc(e)}function kR(t,e){if(t==="input"||t==="change")return Rc(e)}function xR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:xR;function Ea(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wd.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function Zy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ev(t,e){var n=Zy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zy(n)}}function HE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qE(){for(var t=window,e=xu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xu(t.document)}return e}function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NR(t){var e=qE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HE(n.ownerDocument.documentElement,n)){if(r!==null&&zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ev(n,o);var s=ev(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bR=hr&&"documentMode"in document&&11>=document.documentMode,mo=null,cf=null,ea=null,hf=!1;function tv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hf||mo==null||mo!==xu(r)||(r=mo,"selectionStart"in r&&zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ea&&Ea(ea,r)||(ea=r,r=Mu(cf,"onSelect"),0<r.length&&(e=new Fp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function Dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},ud={},GE={};hr&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Pc(t){if(ud[t])return ud[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GE)return ud[t]=e[n];return t}var KE=Pc("animationend"),QE=Pc("animationiteration"),YE=Pc("animationstart"),XE=Pc("transitionend"),JE=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){JE.set(t,e),Hi(e,[t])}for(var cd=0;cd<nv.length;cd++){var hd=nv[cd],OR=hd.toLowerCase(),DR=hd[0].toUpperCase()+hd.slice(1);li(OR,"on"+DR)}li(KE,"onAnimationEnd");li(QE,"onAnimationIteration");li(YE,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(XE,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function rv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OA(r,e,void 0,t),t.currentTarget=null}function ZE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;rv(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;rv(i,l,c),o=u}}}if(bu)throw t=sf,bu=!1,sf=null,t}function ze(t,e){var n=e[gf];n===void 0&&(n=e[gf]=new Set);var r=t+"__bubble";n.has(r)||(ew(e,t,2,!1),n.add(r))}function dd(t,e,n){var r=0;e&&(r|=4),ew(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function wa(t){if(!t[Ll]){t[Ll]=!0,aE.forEach(function(n){n!=="selectionchange"&&(LR.has(n)||dd(n,!1,t),dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,dd("selectionchange",!1,e))}}function ew(t,e,n,r){switch(ME(e)){case 1:var i=QA;break;case 4:i=YA;break;default:i=Mp}n=i.bind(null,e,n,t),i=void 0,!of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ci(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}TE(function(){var c=o,d=Op(n),f=[];e:{var m=JE.get(t);if(m!==void 0){var E=Fp,C=t;switch(t){case"keypress":if(nu(n)===0)break e;case"keydown":case"keyup":E=hR;break;case"focusin":C="focus",E=sd;break;case"focusout":C="blur",E=sd;break;case"beforeblur":case"afterblur":E=sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=ZA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=pR;break;case KE:case QE:case YE:E=nR;break;case XE:E=gR;break;case"scroll":E=XA;break;case"wheel":E=vR;break;case"copy":case"cut":case"paste":E=iR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Gy}var T=(e&4)!==0,P=!T&&t==="scroll",_=T?m!==null?m+"Capture":null:m;T=[];for(var y=c,I;y!==null;){I=y;var x=I.stateNode;if(I.tag===5&&x!==null&&(I=x,_!==null&&(x=ma(y,_),x!=null&&T.push(Sa(y,x,I)))),P)break;y=y.return}0<T.length&&(m=new E(m,C,null,n,d),f.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==nf&&(C=n.relatedTarget||n.fromElement)&&(Ci(C)||C[dr]))break e;if((E||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=c,C=C?Ci(C):null,C!==null&&(P=qi(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=c),E!==C)){if(T=Hy,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=Gy,x="onPointerLeave",_="onPointerEnter",y="pointer"),P=E==null?m:yo(E),I=C==null?m:yo(C),m=new T(x,y+"leave",E,n,d),m.target=P,m.relatedTarget=I,x=null,Ci(d)===c&&(T=new T(_,y+"enter",C,n,d),T.target=I,T.relatedTarget=P,x=T),P=x,E&&C)t:{for(T=E,_=C,y=0,I=T;I;I=so(I))y++;for(I=0,x=_;x;x=so(x))I++;for(;0<y-I;)T=so(T),y--;for(;0<I-y;)_=so(_),I--;for(;y--;){if(T===_||_!==null&&T===_.alternate)break t;T=so(T),_=so(_)}T=null}else T=null;E!==null&&iv(f,m,E,T,!1),C!==null&&P!==null&&iv(f,P,C,T,!0)}}e:{if(m=c?yo(c):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var U=CR;else if(Yy(m))if(BE)U=kR;else{U=RR;var j=AR}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=PR);if(U&&(U=U(t,c))){zE(f,U,n,d);break e}j&&j(t,m,c),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Xd(m,"number",m.value)}switch(j=c?yo(c):window,t){case"focusin":(Yy(j)||j.contentEditable==="true")&&(mo=j,cf=c,ea=null);break;case"focusout":ea=cf=mo=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,tv(f,n,d);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":tv(f,n,d)}var S;if($p)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else po?jE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(FE&&n.locale!=="ko"&&(po||v!=="onCompositionStart"?v==="onCompositionEnd"&&po&&(S=UE()):(Lr=d,Up="value"in Lr?Lr.value:Lr.textContent,po=!0)),j=Mu(c,v),0<j.length&&(v=new qy(v,t,null,n,d),f.push({event:v,listeners:j}),S?v.data=S:(S=$E(n),S!==null&&(v.data=S)))),(S=ER?wR(t,n):SR(t,n))&&(c=Mu(c,"onBeforeInput"),0<c.length&&(d=new qy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}ZE(f,e)})}function Sa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ma(t,n),o!=null&&r.unshift(Sa(t,o,i)),o=ma(t,e),o!=null&&r.push(Sa(t,o,i))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=ma(n,o),u!=null&&s.unshift(Sa(n,u,l))):i||(u=ma(n,o),u!=null&&s.push(Sa(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var VR=/\r\n?/g,MR=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(VR,`
`).replace(MR,"")}function Vl(t,e,n){if(e=ov(e),ov(t)!==e&&n)throw Error(G(425))}function Uu(){}var df=null,ff=null;function pf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mf=typeof setTimeout=="function"?setTimeout:void 0,UR=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(jR)}:mf;function jR(t){setTimeout(function(){throw t})}function pd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),va(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);va(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ss=Math.random().toString(36).slice(2),jn="__reactFiber$"+ss,Ta="__reactProps$"+ss,dr="__reactContainer$"+ss,gf="__reactEvents$"+ss,$R="__reactListeners$"+ss,zR="__reactHandles$"+ss;function Ci(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=av(t);t!==null;){if(n=t[jn])return n;t=av(t)}return e}t=n,n=t.parentNode}return null}function qa(t){return t=t[jn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function kc(t){return t[Ta]||null}var yf=[],vo=-1;function ui(t){return{current:t}}function We(t){0>vo||(t.current=yf[vo],yf[vo]=null,vo--)}function Fe(t,e){vo++,yf[vo]=t.current,t.current=e}var ti={},Ft=ui(ti),Zt=ui(!1),Li=ti;function Uo(t,e){var n=t.type.contextTypes;if(!n)return ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function Fu(){We(Zt),We(Ft)}function lv(t,e,n){if(Ft.current!==ti)throw Error(G(168));Fe(Ft,e),Fe(Zt,n)}function tw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,AA(t)||"Unknown",i));return Qe({},n,r)}function ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,Li=Ft.current,Fe(Ft,t),Fe(Zt,Zt.current),!0}function uv(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=tw(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,We(Zt),We(Ft),Fe(Ft,t)):We(Zt),Fe(Zt,n)}var Jn=null,xc=!1,md=!1;function nw(t){Jn===null?Jn=[t]:Jn.push(t)}function BR(t){xc=!0,nw(t)}function ci(){if(!md&&Jn!==null){md=!0;var t=0,e=be;try{var n=Jn;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,xc=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(t+1)),RE(Dp,ci),i}finally{be=e,md=!1}}return null}var _o=[],Eo=0,$u=null,zu=0,mn=[],gn=0,Vi=null,tr=1,nr="";function wi(t,e){_o[Eo++]=zu,_o[Eo++]=$u,$u=t,zu=e}function rw(t,e,n){mn[gn++]=tr,mn[gn++]=nr,mn[gn++]=Vi,Vi=t;var r=tr;t=nr;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var o=32-bn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,tr=1<<32-bn(e)+i|n<<i|r,nr=o+t}else tr=1<<o|n<<i|r,nr=t}function Bp(t){t.return!==null&&(wi(t,1),rw(t,1,0))}function Wp(t){for(;t===$u;)$u=_o[--Eo],_o[Eo]=null,zu=_o[--Eo],_o[Eo]=null;for(;t===Vi;)Vi=mn[--gn],mn[gn]=null,nr=mn[--gn],mn[gn]=null,tr=mn[--gn],mn[gn]=null}var un=null,ln=null,He=!1,kn=null;function iw(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vi!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,ln=null,!0):!1;default:return!1}}function vf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _f(t){if(He){var e=ln;if(e){var n=e;if(!cv(t,e)){if(vf(t))throw Error(G(418));e=zr(n.nextSibling);var r=un;e&&cv(t,e)?iw(r,n):(t.flags=t.flags&-4097|2,He=!1,un=t)}}else{if(vf(t))throw Error(G(418));t.flags=t.flags&-4097|2,He=!1,un=t}}}function hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Ml(t){if(t!==un)return!1;if(!He)return hv(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pf(t.type,t.memoizedProps)),e&&(e=ln)){if(vf(t))throw ow(),Error(G(418));for(;e;)iw(t,e),e=zr(e.nextSibling)}if(hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?zr(t.stateNode.nextSibling):null;return!0}function ow(){for(var t=ln;t;)t=zr(t.nextSibling)}function Fo(){ln=un=null,He=!1}function Hp(t){kn===null?kn=[t]:kn.push(t)}var WR=_r.ReactCurrentBatchConfig;function Vs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function sw(t){function e(_,y){if(t){var I=_.deletions;I===null?(_.deletions=[y],_.flags|=16):I.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=qr(_,y),_.index=0,_.sibling=null,_}function o(_,y,I){return _.index=I,t?(I=_.alternate,I!==null?(I=I.index,I<y?(_.flags|=2,y):I):(_.flags|=2,y)):(_.flags|=1048576,y)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,y,I,x){return y===null||y.tag!==6?(y=Sd(I,_.mode,x),y.return=_,y):(y=i(y,I),y.return=_,y)}function u(_,y,I,x){var U=I.type;return U===fo?d(_,y,I.props.children,x,I.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Rr&&dv(U)===y.type)?(x=i(y,I.props),x.ref=Vs(_,y,I),x.return=_,x):(x=uu(I.type,I.key,I.props,null,_.mode,x),x.ref=Vs(_,y,I),x.return=_,x)}function c(_,y,I,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=Td(I,_.mode,x),y.return=_,y):(y=i(y,I.children||[]),y.return=_,y)}function d(_,y,I,x,U){return y===null||y.tag!==7?(y=bi(I,_.mode,x,U),y.return=_,y):(y=i(y,I),y.return=_,y)}function f(_,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sd(""+y,_.mode,I),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rl:return I=uu(y.type,y.key,y.props,null,_.mode,I),I.ref=Vs(_,null,y),I.return=_,I;case ho:return y=Td(y,_.mode,I),y.return=_,y;case Rr:var x=y._init;return f(_,x(y._payload),I)}if($s(y)||Ns(y))return y=bi(y,_.mode,I,null),y.return=_,y;Ul(_,y)}return null}function m(_,y,I,x){var U=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:l(_,y,""+I,x);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Rl:return I.key===U?u(_,y,I,x):null;case ho:return I.key===U?c(_,y,I,x):null;case Rr:return U=I._init,m(_,y,U(I._payload),x)}if($s(I)||Ns(I))return U!==null?null:d(_,y,I,x,null);Ul(_,I)}return null}function E(_,y,I,x,U){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(I)||null,l(y,_,""+x,U);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rl:return _=_.get(x.key===null?I:x.key)||null,u(y,_,x,U);case ho:return _=_.get(x.key===null?I:x.key)||null,c(y,_,x,U);case Rr:var j=x._init;return E(_,y,I,j(x._payload),U)}if($s(x)||Ns(x))return _=_.get(I)||null,d(y,_,x,U,null);Ul(y,x)}return null}function C(_,y,I,x){for(var U=null,j=null,S=y,v=y=0,w=null;S!==null&&v<I.length;v++){S.index>v?(w=S,S=null):w=S.sibling;var A=m(_,S,I[v],x);if(A===null){S===null&&(S=w);break}t&&S&&A.alternate===null&&e(_,S),y=o(A,y,v),j===null?U=A:j.sibling=A,j=A,S=w}if(v===I.length)return n(_,S),He&&wi(_,v),U;if(S===null){for(;v<I.length;v++)S=f(_,I[v],x),S!==null&&(y=o(S,y,v),j===null?U=S:j.sibling=S,j=S);return He&&wi(_,v),U}for(S=r(_,S);v<I.length;v++)w=E(S,_,v,I[v],x),w!==null&&(t&&w.alternate!==null&&S.delete(w.key===null?v:w.key),y=o(w,y,v),j===null?U=w:j.sibling=w,j=w);return t&&S.forEach(function(N){return e(_,N)}),He&&wi(_,v),U}function T(_,y,I,x){var U=Ns(I);if(typeof U!="function")throw Error(G(150));if(I=U.call(I),I==null)throw Error(G(151));for(var j=U=null,S=y,v=y=0,w=null,A=I.next();S!==null&&!A.done;v++,A=I.next()){S.index>v?(w=S,S=null):w=S.sibling;var N=m(_,S,A.value,x);if(N===null){S===null&&(S=w);break}t&&S&&N.alternate===null&&e(_,S),y=o(N,y,v),j===null?U=N:j.sibling=N,j=N,S=w}if(A.done)return n(_,S),He&&wi(_,v),U;if(S===null){for(;!A.done;v++,A=I.next())A=f(_,A.value,x),A!==null&&(y=o(A,y,v),j===null?U=A:j.sibling=A,j=A);return He&&wi(_,v),U}for(S=r(_,S);!A.done;v++,A=I.next())A=E(S,_,v,A.value,x),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?v:A.key),y=o(A,y,v),j===null?U=A:j.sibling=A,j=A);return t&&S.forEach(function(D){return e(_,D)}),He&&wi(_,v),U}function P(_,y,I,x){if(typeof I=="object"&&I!==null&&I.type===fo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Rl:e:{for(var U=I.key,j=y;j!==null;){if(j.key===U){if(U=I.type,U===fo){if(j.tag===7){n(_,j.sibling),y=i(j,I.props.children),y.return=_,_=y;break e}}else if(j.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Rr&&dv(U)===j.type){n(_,j.sibling),y=i(j,I.props),y.ref=Vs(_,j,I),y.return=_,_=y;break e}n(_,j);break}else e(_,j);j=j.sibling}I.type===fo?(y=bi(I.props.children,_.mode,x,I.key),y.return=_,_=y):(x=uu(I.type,I.key,I.props,null,_.mode,x),x.ref=Vs(_,y,I),x.return=_,_=x)}return s(_);case ho:e:{for(j=I.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(_,y.sibling),y=i(y,I.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Td(I,_.mode,x),y.return=_,_=y}return s(_);case Rr:return j=I._init,P(_,y,j(I._payload),x)}if($s(I))return C(_,y,I,x);if(Ns(I))return T(_,y,I,x);Ul(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,I),y.return=_,_=y):(n(_,y),y=Sd(I,_.mode,x),y.return=_,_=y),s(_)):n(_,y)}return P}var jo=sw(!0),aw=sw(!1),Bu=ui(null),Wu=null,wo=null,qp=null;function Gp(){qp=wo=Wu=null}function Kp(t){var e=Bu.current;We(Bu),t._currentValue=e}function Ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){Wu=t,qp=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(qp!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Wu===null)throw Error(G(308));wo=t,Wu.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var Ai=null;function Qp(t){Ai===null?Ai=[t]:Ai.push(t)}function lw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qp(e)):(n.next=i.next,i.next=n),e.interleaved=n,fr(t,r)}function fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Yp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fr(t,n)}return i=r.interleaved,i===null?(e.next=e,Qp(r)):(e.next=i.next,i.next=e),r.interleaved=e,fr(t,n)}function ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function fv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hu(t,e,n,r){var i=t.updateQueue;Pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,d=c=u=null,l=o;do{var m=l.lane,E=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,T=l;switch(m=e,E=n,T.tag){case 1:if(C=T.payload,typeof C=="function"){f=C.call(E,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,m=typeof C=="function"?C.call(E,f,m):C,m==null)break e;f=Qe({},f,m);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else E={eventTime:E,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=E,u=f):d=d.next=E,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ui|=s,t.lanes=s,t.memoizedState=f}}function pv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Ga={},zn=ui(Ga),Ia=ui(Ga),Ca=ui(Ga);function Ri(t){if(t===Ga)throw Error(G(174));return t}function Xp(t,e){switch(Fe(Ca,e),Fe(Ia,t),Fe(zn,Ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zd(e,t)}We(zn),Fe(zn,e)}function $o(){We(zn),We(Ia),We(Ca)}function cw(t){Ri(Ca.current);var e=Ri(zn.current),n=Zd(e,t.type);e!==n&&(Fe(Ia,t),Fe(zn,n))}function Jp(t){Ia.current===t&&(We(zn),We(Ia))}var Ge=ui(0);function qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function Zp(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var iu=_r.ReactCurrentDispatcher,yd=_r.ReactCurrentBatchConfig,Mi=0,Ke=null,ut=null,gt=null,Gu=!1,ta=!1,Aa=0,HR=0;function bt(){throw Error(G(321))}function em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function tm(t,e,n,r,i,o){if(Mi=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,iu.current=t===null||t.memoizedState===null?QR:YR,t=n(r,i),ta){o=0;do{if(ta=!1,Aa=0,25<=o)throw Error(G(301));o+=1,gt=ut=null,e.updateQueue=null,iu.current=XR,t=n(r,i)}while(ta)}if(iu.current=Ku,e=ut!==null&&ut.next!==null,Mi=0,gt=ut=Ke=null,Gu=!1,e)throw Error(G(300));return t}function nm(){var t=Aa!==0;return Aa=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function wn(){if(ut===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=gt===null?Ke.memoizedState:gt.next;if(e!==null)gt=e,ut=t;else{if(t===null)throw Error(G(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function Ra(t,e){return typeof e=="function"?e(t):e}function vd(t){var e=wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((Mi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,s=r):u=u.next=f,Ke.lanes|=d,Ui|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,Ln(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ke.lanes|=o,Ui|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _d(t){var e=wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ln(o,e.memoizedState)||(Jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function hw(){}function dw(t,e){var n=Ke,r=wn(),i=e(),o=!Ln(r.memoizedState,i);if(o&&(r.memoizedState=i,Jt=!0),r=r.queue,rm(mw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Pa(9,pw.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(G(349));Mi&30||fw(n,e,i)}return i}function fw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pw(t,e,n,r){e.value=n,e.getSnapshot=r,gw(e)&&yw(t)}function mw(t,e,n){return n(function(){gw(e)&&yw(t)})}function gw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function yw(t){var e=fr(t,1);e!==null&&On(e,t,1,-1)}function mv(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:t},e.queue=t,t=t.dispatch=KR.bind(null,Ke,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vw(){return wn().memoizedState}function ou(t,e,n,r){var i=Fn();Ke.flags|=t,i.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function Nc(t,e,n,r){var i=wn();r=r===void 0?null:r;var o=void 0;if(ut!==null){var s=ut.memoizedState;if(o=s.destroy,r!==null&&em(r,s.deps)){i.memoizedState=Pa(e,n,o,r);return}}Ke.flags|=t,i.memoizedState=Pa(1|e,n,o,r)}function gv(t,e){return ou(8390656,8,t,e)}function rm(t,e){return Nc(2048,8,t,e)}function _w(t,e){return Nc(4,2,t,e)}function Ew(t,e){return Nc(4,4,t,e)}function ww(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sw(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,ww.bind(null,e,t),n)}function im(){}function Tw(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&em(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iw(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&em(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cw(t,e,n){return Mi&21?(Ln(n,e)||(n=xE(),Ke.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function qR(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=yd.transition;yd.transition={};try{t(!1),e()}finally{be=n,yd.transition=r}}function Aw(){return wn().memoizedState}function GR(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rw(t))Pw(e,n);else if(n=lw(t,e,n,r),n!==null){var i=Wt();On(n,t,r,i),kw(n,e,r)}}function KR(t,e,n){var r=Hr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rw(t))Pw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ln(l,s)){var u=e.interleaved;u===null?(i.next=i,Qp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=lw(t,e,i,r),n!==null&&(i=Wt(),On(n,t,r,i),kw(n,e,r))}}function Rw(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function Pw(t,e){ta=Gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var Ku={readContext:En,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},QR={readContext:En,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:gv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ou(4194308,4,ww.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return ou(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GR.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:mv,useDebugValue:im,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=mv(!1),e=t[0];return t=qR.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Fn();if(He){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),yt===null)throw Error(G(349));Mi&30||fw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gv(mw.bind(null,r,o,t),[t]),r.flags|=2048,Pa(9,pw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fn(),e=yt.identifierPrefix;if(He){var n=nr,r=tr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YR={readContext:En,useCallback:Tw,useContext:En,useEffect:rm,useImperativeHandle:Sw,useInsertionEffect:_w,useLayoutEffect:Ew,useMemo:Iw,useReducer:vd,useRef:vw,useState:function(){return vd(Ra)},useDebugValue:im,useDeferredValue:function(t){var e=wn();return Cw(e,ut.memoizedState,t)},useTransition:function(){var t=vd(Ra)[0],e=wn().memoizedState;return[t,e]},useMutableSource:hw,useSyncExternalStore:dw,useId:Aw,unstable_isNewReconciler:!1},XR={readContext:En,useCallback:Tw,useContext:En,useEffect:rm,useImperativeHandle:Sw,useInsertionEffect:_w,useLayoutEffect:Ew,useMemo:Iw,useReducer:_d,useRef:vw,useState:function(){return _d(Ra)},useDebugValue:im,useDeferredValue:function(t){var e=wn();return ut===null?e.memoizedState=t:Cw(e,ut.memoizedState,t)},useTransition:function(){var t=_d(Ra)[0],e=wn().memoizedState;return[t,e]},useMutableSource:hw,useSyncExternalStore:dw,useId:Aw,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bc={isMounted:function(t){return(t=t._reactInternals)?qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Hr(t),o=ar(r,i);o.payload=e,n!=null&&(o.callback=n),e=Br(t,o,i),e!==null&&(On(e,t,i,r),ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Hr(t),o=ar(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Br(t,o,i),e!==null&&(On(e,t,i,r),ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Hr(t),i=ar(n,r);i.tag=2,e!=null&&(i.callback=e),e=Br(t,i,r),e!==null&&(On(e,t,r,n),ru(e,t,r))}};function yv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ea(n,r)||!Ea(i,o):!0}function xw(t,e,n){var r=!1,i=ti,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=en(e)?Li:Ft.current,r=e.contextTypes,o=(r=r!=null)?Uo(t,i):ti),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bc.enqueueReplaceState(e,e.state,null)}function Sf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=en(e)?Li:Ft.current,i.context=Uo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bc.enqueueReplaceState(i,i.state,null),Hu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e){try{var n="",r=e;do n+=CA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JR=typeof WeakMap=="function"?WeakMap:Map;function Nw(t,e,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yu||(Yu=!0,Of=r),Tf(t,e)},n}function bw(t,e,n){n=ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tf(t,e),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _v(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dP.bind(null,t,e,n),e.then(t,t))}function Ev(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ar(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var ZR=_r.ReactCurrentOwner,Jt=!1;function zt(t,e,n,r){e.child=t===null?aw(e,null,n,r):jo(e,t.child,n,r)}function Sv(t,e,n,r,i){n=n.render;var o=e.ref;return xo(e,i),r=tm(t,e,n,r,o,i),n=nm(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(He&&n&&Bp(e),e.flags|=1,zt(t,e,r,i),e.child)}function Tv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!dm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ow(t,e,o,r,i)):(t=uu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ea,n(s,r)&&t.ref===e.ref)return pr(t,e,i)}return e.flags|=1,t=qr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ow(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ea(o,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,pr(t,e,i)}return If(t,e,n,r,i)}function Dw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(To,an),an|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(To,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(To,an),an|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(To,an),an|=r;return zt(t,e,i,n),e.child}function Lw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function If(t,e,n,r,i){var o=en(n)?Li:Ft.current;return o=Uo(e,o),xo(e,i),n=tm(t,e,n,r,o,i),r=nm(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(He&&r&&Bp(e),e.flags|=1,zt(t,e,n,i),e.child)}function Iv(t,e,n,r,i){if(en(n)){var o=!0;ju(e)}else o=!1;if(xo(e,i),e.stateNode===null)su(t,e),xw(e,n,r),Sf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=En(c):(c=en(n)?Li:Ft.current,c=Uo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&vv(e,s,r,c),Pr=!1;var m=e.memoizedState;s.state=m,Hu(e,r,s,i),u=e.memoizedState,l!==r||m!==u||Zt.current||Pr?(typeof d=="function"&&(wf(e,n,d,r),u=e.memoizedState),(l=Pr||yv(e,n,l,r,m,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,uw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Rn(e.type,l),s.props=c,f=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=en(n)?Li:Ft.current,u=Uo(e,u));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||m!==u)&&vv(e,s,r,u),Pr=!1,m=e.memoizedState,s.state=m,Hu(e,r,s,i);var C=e.memoizedState;l!==f||m!==C||Zt.current||Pr?(typeof E=="function"&&(wf(e,n,E,r),C=e.memoizedState),(c=Pr||yv(e,n,c,r,m,C,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Cf(t,e,n,r,o,i)}function Cf(t,e,n,r,i,o){Lw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&uv(e,n,!1),pr(t,e,o);r=e.stateNode,ZR.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=jo(e,t.child,null,o),e.child=jo(e,null,l,o)):zt(t,e,l,o),e.memoizedState=r.state,i&&uv(e,n,!0),e.child}function Vw(t){var e=t.stateNode;e.pendingContext?lv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lv(t,e.context,!1),Xp(t,e.containerInfo)}function Cv(t,e,n,r,i){return Fo(),Hp(i),e.flags|=256,zt(t,e,n,r),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Rf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mw(t,e,n){var r=e.pendingProps,i=Ge.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ge,i&1),t===null)return _f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Lc(s,r,0,null),t=bi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Rf(n),e.memoizedState=Af,t):om(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return eP(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=qr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=qr(l,o):(o=bi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Rf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Af,r}return o=t.child,t=o.sibling,r=qr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function om(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fl(t,e,n,r){return r!==null&&Hp(r),jo(e,t.child,null,n),t=om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ed(Error(G(422))),Fl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),o=bi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&jo(e,t.child,null,s),e.child.memoizedState=Rf(s),e.memoizedState=Af,o);if(!(e.mode&1))return Fl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(G(419)),r=Ed(o,r,void 0),Fl(t,e,s,r)}if(l=(s&t.childLanes)!==0,Jt||l){if(r=yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fr(t,i),On(r,t,i,-1))}return hm(),r=Ed(Error(G(421))),Fl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ln=zr(i.nextSibling),un=e,He=!0,kn=null,t!==null&&(mn[gn++]=tr,mn[gn++]=nr,mn[gn++]=Vi,tr=t.id,nr=t.overflow,Vi=e),e=om(e,r.children),e.flags|=4096,e)}function Av(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ef(t.return,e,n)}function wd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Uw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Av(t,n,e);else if(t.tag===19)Av(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wd(e,!0,n,null,o);break;case"together":wd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tP(t,e,n){switch(e.tag){case 3:Vw(e),Fo();break;case 5:cw(e);break;case 1:en(e.type)&&ju(e);break;case 4:Xp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Bu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?Mw(t,e,n):(Fe(Ge,Ge.current&1),t=pr(t,e,n),t!==null?t.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,Dw(t,e,n)}return pr(t,e,n)}var Fw,Pf,jw,$w;Fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pf=function(){};jw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ri(zn.current);var o=null;switch(n){case"input":i=Qd(t,i),r=Qd(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=Jd(t,i),r=Jd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uu)}ef(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fa.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ze("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$w=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ms(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nP(t,e,n){var r=e.pendingProps;switch(Wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return en(e.type)&&Fu(),Ot(e),null;case 3:return r=e.stateNode,$o(),We(Zt),We(Ft),Zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Vf(kn),kn=null))),Pf(t,e),Ot(e),null;case 5:Jp(e);var i=Ri(Ca.current);if(n=e.type,t!==null&&e.stateNode!=null)jw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ot(e),null}if(t=Ri(zn.current),Ml(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jn]=e,r[Ta]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Bs.length;i++)ze(Bs[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Ly(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":My(r,o),ze("invalid",r)}ef(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Vl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Vl(r.textContent,l,t),i=["children",""+l]):fa.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ze("scroll",r)}switch(n){case"input":Pl(r),Vy(r,o,!0);break;case"textarea":Pl(r),Uy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jn]=e,t[Ta]=r,Fw(t,e,!1,!1),e.stateNode=t;e:{switch(s=tf(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bs.length;i++)ze(Bs[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Ly(t,r),i=Qd(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),ze("invalid",t);break;case"textarea":My(t,r),i=Jd(t,r),ze("invalid",t);break;default:i=r}ef(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?vE(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gE(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pa(t,u):typeof u=="number"&&pa(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fa.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ze("scroll",t):u!=null&&kp(t,o,u,s))}switch(n){case"input":Pl(t),Vy(t,r,!1);break;case"textarea":Pl(t),Uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ei(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ao(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)$w(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Ri(Ca.current),Ri(zn.current),Ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(o=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Vl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Ot(e),null;case 13:if(We(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&ln!==null&&e.mode&1&&!(e.flags&128))ow(),Fo(),e.flags|=98560,o=!1;else if(o=Ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(G(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[jn]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else kn!==null&&(Vf(kn),kn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?ct===0&&(ct=3):hm())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return $o(),Pf(t,e),t===null&&wa(e.stateNode.containerInfo),Ot(e),null;case 10:return Kp(e.type._context),Ot(e),null;case 17:return en(e.type)&&Fu(),Ot(e),null;case 19:if(We(Ge),o=e.memoizedState,o===null)return Ot(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ms(o,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qu(t),s!==null){for(e.flags|=128,Ms(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ge,Ge.current&1|2),e.child}t=t.sibling}o.tail!==null&&tt()>Bo&&(e.flags|=128,r=!0,Ms(o,!1),e.lanes=4194304)}else{if(!r)if(t=qu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ms(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return Ot(e),null}else 2*tt()-o.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Ms(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tt(),e.sibling=null,n=Ge.current,Fe(Ge,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function rP(t,e){switch(Wp(e),e.tag){case 1:return en(e.type)&&Fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $o(),We(Zt),We(Ft),Zp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jp(e),null;case 13:if(We(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ge),null;case 4:return $o(),null;case 10:return Kp(e.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var jl=!1,Mt=!1,iP=typeof WeakSet=="function"?WeakSet:Set,J=null;function So(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function kf(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Rv=!1;function oP(t,e){if(df=Lu,t=qE(),zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(E=f.firstChild)!==null;)m=f,f=E;for(;;){if(f===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++d===r&&(u=s),(E=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ff={focusedElem:t,selectionRange:n},Lu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,P=C.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:Rn(e.type,T),P);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(x){Je(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return C=Rv,Rv=!1,C}function na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&kf(e,n,o)}i=i.next}while(i!==r)}}function Oc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zw(t){var e=t.alternate;e!==null&&(t.alternate=null,zw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[Ta],delete e[gf],delete e[$R],delete e[zR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bw(t){return t.tag===5||t.tag===3||t.tag===4}function Pv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uu));else if(r!==4&&(t=t.child,t!==null))for(Nf(t,e,n),t=t.sibling;t!==null;)Nf(t,e,n),t=t.sibling}function bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bf(t,e,n),t=t.sibling;t!==null;)bf(t,e,n),t=t.sibling}var Tt=null,Pn=!1;function Cr(t,e,n){for(n=n.child;n!==null;)Ww(t,e,n),n=n.sibling}function Ww(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Cc,n)}catch{}switch(n.tag){case 5:Mt||So(n,e);case 6:var r=Tt,i=Pn;Tt=null,Cr(t,e,n),Tt=r,Pn=i,Tt!==null&&(Pn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Pn?(t=Tt,n=n.stateNode,t.nodeType===8?pd(t.parentNode,n):t.nodeType===1&&pd(t,n),va(t)):pd(Tt,n.stateNode));break;case 4:r=Tt,i=Pn,Tt=n.stateNode.containerInfo,Pn=!0,Cr(t,e,n),Tt=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&kf(n,e,s),i=i.next}while(i!==r)}Cr(t,e,n);break;case 1:if(!Mt&&(So(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,e,l)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Cr(t,e,n),Mt=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function kv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iP),e.forEach(function(r){var i=pP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Pn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Pn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(Tt===null)throw Error(G(160));Ww(o,s,i),Tt=null,Pn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hw(e,t),e=e.sibling}function Hw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),Un(t),r&4){try{na(3,t,t.return),Oc(3,t)}catch(T){Je(t,t.return,T)}try{na(5,t,t.return)}catch(T){Je(t,t.return,T)}}break;case 1:An(e,t),Un(t),r&512&&n!==null&&So(n,n.return);break;case 5:if(An(e,t),Un(t),r&512&&n!==null&&So(n,n.return),t.flags&32){var i=t.stateNode;try{pa(i,"")}catch(T){Je(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&fE(i,o),tf(l,s);var c=tf(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?vE(i,f):d==="dangerouslySetInnerHTML"?gE(i,f):d==="children"?pa(i,f):kp(i,d,f,c)}switch(l){case"input":Yd(i,o);break;case"textarea":pE(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Ao(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ao(i,!!o.multiple,o.defaultValue,!0):Ao(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ta]=o}catch(T){Je(t,t.return,T)}}break;case 6:if(An(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){Je(t,t.return,T)}}break;case 3:if(An(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{va(e.containerInfo)}catch(T){Je(t,t.return,T)}break;case 4:An(e,t),Un(t);break;case 13:An(e,t),Un(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(lm=tt())),r&4&&kv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(c=Mt)||d,An(e,t),Mt=c):An(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(f=J=d;J!==null;){switch(m=J,E=m.child,m.tag){case 0:case 11:case 14:case 15:na(4,m,m.return);break;case 1:So(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){Je(r,n,T)}}break;case 5:So(m,m.return);break;case 22:if(m.memoizedState!==null){Nv(f);continue}}E!==null?(E.return=m,J=E):Nv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=yE("display",s))}catch(T){Je(t,t.return,T)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){Je(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:An(e,t),Un(t),r&4&&kv(t);break;case 21:break;default:An(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bw(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pa(i,""),r.flags&=-33);var o=Pv(t);bf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Pv(t);Nf(t,l,s);break;default:throw Error(G(161))}}catch(u){Je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sP(t,e,n){J=t,qw(t)}function qw(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jl;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Mt;l=jl;var c=Mt;if(jl=s,(Mt=u)&&!c)for(J=i;J!==null;)s=J,u=s.child,s.tag===22&&s.memoizedState!==null?bv(i):u!==null?(u.return=s,J=u):bv(i);for(;o!==null;)J=o,qw(o),o=o.sibling;J=i,jl=l,Mt=c}xv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):xv(t)}}function xv(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||Oc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pv(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&va(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Mt||e.flags&512&&xf(e)}catch(m){Je(e,e.return,m)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Nv(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function bv(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oc(4,e)}catch(u){Je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Je(e,i,u)}}var o=e.return;try{xf(e)}catch(u){Je(e,o,u)}break;case 5:var s=e.return;try{xf(e)}catch(u){Je(e,s,u)}}}catch(u){Je(e,e.return,u)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var aP=Math.ceil,Qu=_r.ReactCurrentDispatcher,sm=_r.ReactCurrentOwner,_n=_r.ReactCurrentBatchConfig,Ie=0,yt=null,it=null,At=0,an=0,To=ui(0),ct=0,ka=null,Ui=0,Dc=0,am=0,ra=null,Xt=null,lm=0,Bo=1/0,Xn=null,Yu=!1,Of=null,Wr=null,$l=!1,Vr=null,Xu=0,ia=0,Df=null,au=-1,lu=0;function Wt(){return Ie&6?tt():au!==-1?au:au=tt()}function Hr(t){return t.mode&1?Ie&2&&At!==0?At&-At:WR.transition!==null?(lu===0&&(lu=xE()),lu):(t=be,t!==0||(t=window.event,t=t===void 0?16:ME(t.type)),t):1}function On(t,e,n,r){if(50<ia)throw ia=0,Df=null,Error(G(185));Wa(t,n,r),(!(Ie&2)||t!==yt)&&(t===yt&&(!(Ie&2)&&(Dc|=n),ct===4&&xr(t,At)),tn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Bo=tt()+500,xc&&ci()))}function tn(t,e){var n=t.callbackNode;WA(t,e);var r=Du(t,t===yt?At:0);if(r===0)n!==null&&$y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$y(n),e===1)t.tag===0?BR(Ov.bind(null,t)):nw(Ov.bind(null,t)),FR(function(){!(Ie&6)&&ci()}),n=null;else{switch(NE(r)){case 1:n=Dp;break;case 4:n=PE;break;case 16:n=Ou;break;case 536870912:n=kE;break;default:n=Ou}n=eS(n,Gw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gw(t,e){if(au=-1,lu=0,Ie&6)throw Error(G(327));var n=t.callbackNode;if(No()&&t.callbackNode!==n)return null;var r=Du(t,t===yt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ju(t,r);else{e=r;var i=Ie;Ie|=2;var o=Qw();(yt!==t||At!==e)&&(Xn=null,Bo=tt()+500,Ni(t,e));do try{cP();break}catch(l){Kw(t,l)}while(!0);Gp(),Qu.current=o,Ie=i,it!==null?e=0:(yt=null,At=0,e=ct)}if(e!==0){if(e===2&&(i=af(t),i!==0&&(r=i,e=Lf(t,i))),e===1)throw n=ka,Ni(t,0),xr(t,r),tn(t,tt()),n;if(e===6)xr(t,r);else{if(i=t.current.alternate,!(r&30)&&!lP(i)&&(e=Ju(t,r),e===2&&(o=af(t),o!==0&&(r=o,e=Lf(t,o))),e===1))throw n=ka,Ni(t,0),xr(t,r),tn(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Si(t,Xt,Xn);break;case 3:if(xr(t,r),(r&130023424)===r&&(e=lm+500-tt(),10<e)){if(Du(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mf(Si.bind(null,t,Xt,Xn),e);break}Si(t,Xt,Xn);break;case 4:if(xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-bn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aP(r/1960))-r,10<r){t.timeoutHandle=mf(Si.bind(null,t,Xt,Xn),r);break}Si(t,Xt,Xn);break;case 5:Si(t,Xt,Xn);break;default:throw Error(G(329))}}}return tn(t,tt()),t.callbackNode===n?Gw.bind(null,t):null}function Lf(t,e){var n=ra;return t.current.memoizedState.isDehydrated&&(Ni(t,e).flags|=256),t=Ju(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Vf(e)),t}function Vf(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function lP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ln(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xr(t,e){for(e&=~am,e&=~Dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Ov(t){if(Ie&6)throw Error(G(327));No();var e=Du(t,0);if(!(e&1))return tn(t,tt()),null;var n=Ju(t,e);if(t.tag!==0&&n===2){var r=af(t);r!==0&&(e=r,n=Lf(t,r))}if(n===1)throw n=ka,Ni(t,0),xr(t,e),tn(t,tt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,Xt,Xn),tn(t,tt()),null}function um(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Bo=tt()+500,xc&&ci())}}function Fi(t){Vr!==null&&Vr.tag===0&&!(Ie&6)&&No();var e=Ie;Ie|=1;var n=_n.transition,r=be;try{if(_n.transition=null,be=1,t)return t()}finally{be=r,_n.transition=n,Ie=e,!(Ie&6)&&ci()}}function cm(){an=To.current,We(To)}function Ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UR(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fu();break;case 3:$o(),We(Zt),We(Ft),Zp();break;case 5:Jp(r);break;case 4:$o();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Kp(r.type._context);break;case 22:case 23:cm()}n=n.return}if(yt=t,it=t=qr(t.current,null),At=an=e,ct=0,ka=null,am=Dc=Ui=0,Xt=ra=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ai=null}return t}function Kw(t,e){do{var n=it;try{if(Gp(),iu.current=Ku,Gu){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gu=!1}if(Mi=0,gt=ut=Ke=null,ta=!1,Aa=0,sm.current=null,n===null||n.return===null){ct=1,ka=e,it=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=At,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Ev(s);if(E!==null){E.flags&=-257,wv(E,s,l,o,e),E.mode&1&&_v(o,c,e),e=E,u=c;var C=e.updateQueue;if(C===null){var T=new Set;T.add(u),e.updateQueue=T}else C.add(u);break e}else{if(!(e&1)){_v(o,c,e),hm();break e}u=Error(G(426))}}else if(He&&l.mode&1){var P=Ev(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),wv(P,s,l,o,e),Hp(zo(u,l));break e}}o=u=zo(u,l),ct!==4&&(ct=2),ra===null?ra=[o]:ra.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=Nw(o,u,e);fv(o,_);break e;case 1:l=u;var y=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Wr===null||!Wr.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=bw(o,l,e);fv(o,x);break e}}o=o.return}while(o!==null)}Xw(n)}catch(U){e=U,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function Qw(){var t=Qu.current;return Qu.current=Ku,t===null?Ku:t}function hm(){(ct===0||ct===3||ct===2)&&(ct=4),yt===null||!(Ui&268435455)&&!(Dc&268435455)||xr(yt,At)}function Ju(t,e){var n=Ie;Ie|=2;var r=Qw();(yt!==t||At!==e)&&(Xn=null,Ni(t,e));do try{uP();break}catch(i){Kw(t,i)}while(!0);if(Gp(),Ie=n,Qu.current=r,it!==null)throw Error(G(261));return yt=null,At=0,ct}function uP(){for(;it!==null;)Yw(it)}function cP(){for(;it!==null&&!LA();)Yw(it)}function Yw(t){var e=Zw(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?Xw(t):it=e,sm.current=null}function Xw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rP(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}else if(n=nP(n,e,an),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ct===0&&(ct=5)}function Si(t,e,n){var r=be,i=_n.transition;try{_n.transition=null,be=1,hP(t,e,n,r)}finally{_n.transition=i,be=r}return null}function hP(t,e,n,r){do No();while(Vr!==null);if(Ie&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(HA(t,o),t===yt&&(it=yt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,eS(Ou,function(){return No(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_n.transition,_n.transition=null;var s=be;be=1;var l=Ie;Ie|=4,sm.current=null,oP(t,n),Hw(n,t),NR(ff),Lu=!!df,ff=df=null,t.current=n,sP(n),VA(),Ie=l,be=s,_n.transition=o}else t.current=n;if($l&&($l=!1,Vr=t,Xu=i),o=t.pendingLanes,o===0&&(Wr=null),FA(n.stateNode),tn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yu)throw Yu=!1,t=Of,Of=null,t;return Xu&1&&t.tag!==0&&No(),o=t.pendingLanes,o&1?t===Df?ia++:(ia=0,Df=t):ia=0,ci(),null}function No(){if(Vr!==null){var t=NE(Xu),e=_n.transition,n=be;try{if(_n.transition=null,be=16>t?16:t,Vr===null)var r=!1;else{if(t=Vr,Vr=null,Xu=0,Ie&6)throw Error(G(331));var i=Ie;for(Ie|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:na(8,d,o)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var m=d.sibling,E=d.return;if(zw(d),d===c){J=null;break}if(m!==null){m.return=E,J=m;break}J=E}}}var C=o.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:na(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,J=_;break e}J=o.return}}var y=t.current;for(J=y;J!==null;){s=J;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,J=I;else e:for(s=y;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oc(9,l)}}catch(U){Je(l,l.return,U)}if(l===s){J=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,J=x;break e}J=l.return}}if(Ie=i,ci(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Cc,t)}catch{}r=!0}return r}finally{be=n,_n.transition=e}}return!1}function Dv(t,e,n){e=zo(n,e),e=Nw(t,e,1),t=Br(t,e,1),e=Wt(),t!==null&&(Wa(t,1,e),tn(t,e))}function Je(t,e,n){if(t.tag===3)Dv(t,t,n);else for(;e!==null;){if(e.tag===3){Dv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){t=zo(n,t),t=bw(e,t,1),e=Br(e,t,1),t=Wt(),e!==null&&(Wa(e,1,t),tn(e,t));break}}e=e.return}}function dP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(At&n)===n&&(ct===4||ct===3&&(At&130023424)===At&&500>tt()-lm?Ni(t,0):am|=n),tn(t,e)}function Jw(t,e){e===0&&(t.mode&1?(e=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):e=1);var n=Wt();t=fr(t,e),t!==null&&(Wa(t,e,n),tn(t,n))}function fP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jw(t,n)}function pP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),Jw(t,n)}var Zw;Zw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,tP(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,He&&e.flags&1048576&&rw(e,zu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;su(t,e),t=e.pendingProps;var i=Uo(e,Ft.current);xo(e,n),i=tm(null,e,r,t,i,n);var o=nm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(o=!0,ju(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yp(e),i.updater=bc,e.stateNode=i,i._reactInternals=e,Sf(e,r,t,n),e=Cf(null,e,r,!0,o,n)):(e.tag=0,He&&o&&Bp(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(su(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gP(r),t=Rn(r,t),i){case 0:e=If(null,e,r,t,n);break e;case 1:e=Iv(null,e,r,t,n);break e;case 11:e=Sv(null,e,r,t,n);break e;case 14:e=Tv(null,e,r,Rn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),If(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Iv(t,e,r,i,n);case 3:e:{if(Vw(e),t===null)throw Error(G(387));r=e.pendingProps,o=e.memoizedState,i=o.element,uw(t,e),Hu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zo(Error(G(423)),e),e=Cv(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(G(424)),e),e=Cv(t,e,r,n,i);break e}else for(ln=zr(e.stateNode.containerInfo.firstChild),un=e,He=!0,kn=null,n=aw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=pr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return cw(e),t===null&&_f(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,pf(r,i)?s=null:o!==null&&pf(r,o)&&(e.flags|=32),Lw(t,e),zt(t,e,s,n),e.child;case 6:return t===null&&_f(e),null;case 13:return Mw(t,e,n);case 4:return Xp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Sv(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Fe(Bu,r._currentValue),r._currentValue=s,o!==null)if(Ln(o.value,s)){if(o.children===i.children&&!Zt.current){e=pr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=ar(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ef(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(G(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ef(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=En(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),Tv(t,e,r,i,n);case 15:return Ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),su(t,e),e.tag=1,en(r)?(t=!0,ju(e)):t=!1,xo(e,n),xw(e,r,i),Sf(e,r,i,n),Cf(null,e,r,!0,t,n);case 19:return Uw(t,e,n);case 22:return Dw(t,e,n)}throw Error(G(156,e.tag))};function eS(t,e){return RE(t,e)}function mP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new mP(t,e,n,r)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gP(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Np)return 11;if(t===bp)return 14}return 2}function qr(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")dm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fo:return bi(n.children,i,o,e);case xp:s=8,i|=8;break;case Hd:return t=vn(12,n,e,i|2),t.elementType=Hd,t.lanes=o,t;case qd:return t=vn(13,n,e,i),t.elementType=qd,t.lanes=o,t;case Gd:return t=vn(19,n,e,i),t.elementType=Gd,t.lanes=o,t;case cE:return Lc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lE:s=10;break e;case uE:s=9;break e;case Np:s=11;break e;case bp:s=14;break e;case Rr:s=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=vn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bi(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=vn(22,t,r,e),t.elementType=cE,t.lanes=n,t.stateNode={isHidden:!1},t}function Sd(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Td(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fm(t,e,n,r,i,o,s,l,u){return t=new yP(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(o),t}function vP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tS(t){if(!t)return ti;t=t._reactInternals;e:{if(qi(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(en(n))return tw(t,n,e)}return e}function nS(t,e,n,r,i,o,s,l,u){return t=fm(n,r,!0,t,i,o,s,l,u),t.context=tS(null),n=t.current,r=Wt(),i=Hr(n),o=ar(r,i),o.callback=e??null,Br(n,o,i),t.current.lanes=i,Wa(t,i,r),tn(t,r),t}function Vc(t,e,n,r){var i=e.current,o=Wt(),s=Hr(i);return n=tS(n),e.context===null?e.context=n:e.pendingContext=n,e=ar(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(i,e,s),t!==null&&(On(t,i,s,o),ru(t,i,s)),s}function Zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){Lv(t,e),(t=t.alternate)&&Lv(t,e)}function _P(){return null}var rS=typeof reportError=="function"?reportError:function(t){console.error(t)};function mm(t){this._internalRoot=t}Mc.prototype.render=mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Vc(t,e,null,null)};Mc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){Vc(null,t,null,null)}),e[dr]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=DE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&VE(t)}};function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function EP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Zu(s);o.call(c)}}var s=nS(e,r,t,0,null,!1,!1,"",Vv);return t._reactRootContainer=s,t[dr]=s.current,wa(t.nodeType===8?t.parentNode:t),Fi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Zu(u);l.call(c)}}var u=fm(t,0,!1,null,null,!1,!1,"",Vv);return t._reactRootContainer=u,t[dr]=u.current,wa(t.nodeType===8?t.parentNode:t),Fi(function(){Vc(e,u,n,r)}),u}function Fc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Zu(s);l.call(u)}}Vc(e,s,t,i)}else s=EP(n,e,t,i,r);return Zu(s)}bE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zs(e.pendingLanes);n!==0&&(Lp(e,n|1),tn(e,tt()),!(Ie&6)&&(Bo=tt()+500,ci()))}break;case 13:Fi(function(){var r=fr(t,1);if(r!==null){var i=Wt();On(r,t,1,i)}}),pm(t,1)}};Vp=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var n=Wt();On(e,t,134217728,n)}pm(t,134217728)}};OE=function(t){if(t.tag===13){var e=Hr(t),n=fr(t,e);if(n!==null){var r=Wt();On(n,t,e,r)}pm(t,e)}};DE=function(){return be};LE=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};rf=function(t,e,n){switch(e){case"input":if(Yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kc(r);if(!i)throw Error(G(90));dE(r),Yd(r,i)}}}break;case"textarea":pE(t,n);break;case"select":e=n.value,e!=null&&Ao(t,!!n.multiple,e,!1)}};wE=um;SE=Fi;var wP={usingClientEntryPoint:!1,Events:[qa,yo,kc,_E,EE,um]},Us={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CE(t),t===null?null:t.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||_P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{Cc=zl.inject(SP),$n=zl}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(e))throw Error(G(200));return vP(t,e,null,n)};hn.createRoot=function(t,e){if(!gm(t))throw Error(G(299));var n=!1,r="",i=rS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fm(t,1,!1,null,null,n,!1,r,i),t[dr]=e.current,wa(t.nodeType===8?t.parentNode:t),new mm(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=CE(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Fi(t)};hn.hydrate=function(t,e,n){if(!Uc(e))throw Error(G(200));return Fc(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!gm(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=rS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=nS(e,null,t,1,n??null,i,!1,o,s),t[dr]=e.current,wa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mc(e)};hn.render=function(t,e,n){if(!Uc(e))throw Error(G(200));return Fc(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Uc(t))throw Error(G(40));return t._reactRootContainer?(Fi(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};hn.unstable_batchedUpdates=um;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uc(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Fc(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(t){console.error(t)}}iS(),iE.exports=hn;var oS=iE.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(this,arguments)}var Mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mr||(Mr={}));const Mv="popstate";function TP(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Mf("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ec(i)}return CP(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IP(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function Mf(t,e,n,r){return n===void 0&&(n=null),xa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?as(e):e,{state:n,key:e&&e.key||r||IP()})}function ec(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function as(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Mr.Pop,u=null,c=d();c==null&&(c=0,s.replaceState(xa({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Mr.Pop;let P=d(),_=P==null?null:P-c;c=P,u&&u({action:l,location:T.location,delta:_})}function m(P,_){l=Mr.Push;let y=Mf(T.location,P,_);c=d()+1;let I=Uv(y,c),x=T.createHref(y);try{s.pushState(I,"",x)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(x)}o&&u&&u({action:l,location:T.location,delta:1})}function E(P,_){l=Mr.Replace;let y=Mf(T.location,P,_);c=d();let I=Uv(y,c),x=T.createHref(y);s.replaceState(I,"",x),o&&u&&u({action:l,location:T.location,delta:0})}function C(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:ec(P);return y=y.replace(/ $/,"%20"),st(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let T={get action(){return l},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Mv,f),u=P,()=>{i.removeEventListener(Mv,f),u=null}},createHref(P){return e(i,P)},createURL:C,encodeLocation(P){let _=C(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:E,go(P){return s.go(P)}};return T}var Fv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fv||(Fv={}));function AP(t,e,n){return n===void 0&&(n="/"),RP(t,e,n,!1)}function RP(t,e,n,r){let i=typeof e=="string"?as(e):e,o=ym(i.pathname||"/",n);if(o==null)return null;let s=aS(t);PP(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=FP(o);l=MP(s[u],c,r)}return l}function aS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(st(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Gr([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(st(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aS(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:LP(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of lS(o.path))i(o,s,u)}),e}function lS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=lS(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function PP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kP=/^:[\w-]+$/,xP=3,NP=2,bP=1,OP=10,DP=-2,jv=t=>t==="*";function LP(t,e){let n=t.split("/"),r=n.length;return n.some(jv)&&(r+=DP),e&&(r+=NP),n.filter(i=>!jv(i)).reduce((i,o)=>i+(kP.test(o)?xP:o===""?bP:OP),r)}function VP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MP(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=$v({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=$v({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Gr([o,f.pathname]),pathnameBase:BP(Gr([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Gr([o,f.pathnameBase]))}return s}function $v(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:E}=d;if(m==="*"){let T=l[f]||"";s=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const C=l[f];return E&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function UP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ym(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?as(t):t;return{pathname:n?n.startsWith("/")?n:$P(n,e):e,search:WP(r),hash:HP(i)}}function $P(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Id(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uS(t,e){let n=zP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=as(t):(i=xa({},t),st(!i.pathname||!i.pathname.includes("?"),Id("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),Id("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),Id("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=jP(i,l),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),BP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hS=["post","put","patch","delete"];new Set(hS);const GP=["get",...hS];new Set(GP);var dS={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=B,QP=Symbol.for("react.element"),YP=Symbol.for("react.fragment"),XP=Object.prototype.hasOwnProperty,JP=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZP={key:!0,ref:!0,__self:!0,__source:!0};function fS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)XP.call(e,r)&&!ZP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QP,type:t,key:o,ref:s,props:i,_owner:JP.current}}jc.Fragment=YP;jc.jsx=fS;jc.jsxs=fS;dS.exports=jc;var vm=dS.exports;const ek=vm.Fragment,$=vm.jsx,Ce=vm.jsxs;/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Na.apply(this,arguments)}const _m=B.createContext(null),tk=B.createContext(null),Gi=B.createContext(null),$c=B.createContext(null),Er=B.createContext({outlet:null,matches:[],isDataRoute:!1}),pS=B.createContext(null);function nk(t,e){let{relative:n}=e===void 0?{}:e;Ka()||st(!1);let{basename:r,navigator:i}=B.useContext(Gi),{hash:o,pathname:s,search:l}=gS(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Gr([r,s])),i.createHref({pathname:u,search:l,hash:o})}function Ka(){return B.useContext($c)!=null}function zc(){return Ka()||st(!1),B.useContext($c).location}function mS(t){B.useContext(Gi).static||B.useLayoutEffect(t)}function Em(){let{isDataRoute:t}=B.useContext(Er);return t?vk():rk()}function rk(){Ka()||st(!1);let t=B.useContext(_m),{basename:e,future:n,navigator:r}=B.useContext(Gi),{matches:i}=B.useContext(Er),{pathname:o}=zc(),s=JSON.stringify(uS(i,n.v7_relativeSplatPath)),l=B.useRef(!1);return mS(()=>{l.current=!0}),B.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=cS(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,o,t])}const ik=B.createContext(null);function ok(t){let e=B.useContext(Er).outlet;return e&&$(ik.Provider,{value:t,children:e})}function sk(){let{matches:t}=B.useContext(Er),e=t[t.length-1];return e?e.params:{}}function gS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Gi),{matches:i}=B.useContext(Er),{pathname:o}=zc(),s=JSON.stringify(uS(i,r.v7_relativeSplatPath));return B.useMemo(()=>cS(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ak(t,e){return lk(t,e)}function lk(t,e,n,r){Ka()||st(!1);let{navigator:i}=B.useContext(Gi),{matches:o}=B.useContext(Er),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=zc(),d;if(e){var f;let P=typeof e=="string"?as(e):e;u==="/"||(f=P.pathname)!=null&&f.startsWith(u)||st(!1),d=P}else d=c;let m=d.pathname||"/",E=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=AP(t,{pathname:E}),T=fk(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Gr([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Gr([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&T?$($c.Provider,{value:{location:Na({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mr.Pop},children:T}):T}function uk(){let t=yk(),e=qP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return Ce(ek,{children:[$("h2",{children:"Unexpected Application Error!"}),$("h3",{style:{fontStyle:"italic"},children:e}),n?$("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}const ck=$(uk,{});class hk extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$(Er.Provider,{value:this.props.routeContext,children:$(pS.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function dk(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(_m);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$(Er.Provider,{value:e,children:r})}function fk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||st(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:E}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!E||E[f.route.id]===void 0);if(f.route.lazy||C){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let E,C=!1,T=null,P=null;n&&(E=l&&f.route.id?l[f.route.id]:void 0,T=f.route.errorElement||ck,u&&(c<0&&m===0?(C=!0,P=null):c===m&&(C=!0,P=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),y=()=>{let I;return E?I=T:C?I=P:f.route.Component?I=B.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=d,$(dk,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:I})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?$(hk,{location:n.location,revalidation:n.revalidation,component:T,error:E,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var yS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yS||{}),tc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tc||{});function pk(t){let e=B.useContext(_m);return e||st(!1),e}function mk(t){let e=B.useContext(tk);return e||st(!1),e}function gk(t){let e=B.useContext(Er);return e||st(!1),e}function vS(t){let e=gk(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function yk(){var t;let e=B.useContext(pS),n=mk(tc.UseRouteError),r=vS(tc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vk(){let{router:t}=pk(yS.UseNavigateStable),e=vS(tc.UseNavigateStable),n=B.useRef(!1);return mS(()=>{n.current=!0}),B.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Na({fromRouteId:e},o)))},[t,e])}const zv={};function _k(t,e){zv[e]||(zv[e]=!0,console.warn(e))}const Bv=(t,e,n)=>_k(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Ek(t,e){t!=null&&t.v7_startTransition||Bv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Bv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function _S(t){return ok(t.context)}function Nr(t){st(!1)}function wk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Mr.Pop,navigator:o,static:s=!1,future:l}=t;Ka()&&st(!1);let u=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:u,navigator:o,static:s,future:Na({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=as(r));let{pathname:d="/",search:f="",hash:m="",state:E=null,key:C="default"}=r,T=B.useMemo(()=>{let P=ym(d,u);return P==null?null:{location:{pathname:P,search:f,hash:m,state:E,key:C},navigationType:i}},[u,d,f,m,E,C,i]);return T==null?null:$(Gi.Provider,{value:c,children:$($c.Provider,{children:n,value:T})})}function ES(t){let{children:e,location:n}=t;return ak(Uf(e),n)}new Promise(()=>{});function Uf(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let o=[...e,i];if(r.type===B.Fragment){n.push.apply(n,Uf(r.props.children,o));return}r.type!==Nr&&st(!1),!r.props.index||!r.props.children||st(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Uf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ik(t,e){return t.button===0&&(!e||e==="_self")&&!Tk(t)}const Ck=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ak="6";try{window.__reactRouterVersion=Ak}catch{}const Rk="startTransition",Wv=vA[Rk];function Pk(t){let{basename:e,children:n,future:r,window:i}=t,o=B.useRef();o.current==null&&(o.current=TP({window:i,v5Compat:!0}));let s=o.current,[l,u]=B.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=B.useCallback(f=>{c&&Wv?Wv(()=>u(f)):u(f)},[u,c]);return B.useLayoutEffect(()=>s.listen(d),[s,d]),B.useEffect(()=>Ek(r),[r]),$(wk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wm=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,m=Sk(e,Ck),{basename:E}=B.useContext(Gi),C,T=!1;if(typeof c=="string"&&xk.test(c)&&(C=c,kk))try{let I=new URL(window.location.href),x=c.startsWith("//")?new URL(I.protocol+c):new URL(c),U=ym(x.pathname,E);x.origin===I.origin&&U!=null?c=U+x.search+x.hash:T=!0}catch{}let P=nk(c,{relative:i}),_=Nk(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:f});function y(I){r&&r(I),I.defaultPrevented||_(I)}return $("a",{...m,href:C||P,onClick:T||o?r:y,ref:n,target:u})});var Hv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hv||(Hv={}));var qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function Nk(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,u=Em(),c=zc(),d=gS(t,{relative:s});return B.useCallback(f=>{if(Ik(f,n)){f.preventDefault();let m=r!==void 0?r:ec(c)===ec(d);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[c,u,d,r,i,n,t,o,s,l])}var Ff={},Gv=oS;Ff.createRoot=Gv.createRoot,Ff.hydrateRoot=Gv.hydrateRoot;var wS={exports:{}},SS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=B;function bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ok=typeof Object.is=="function"?Object.is:bk,Dk=Wo.useState,Lk=Wo.useEffect,Vk=Wo.useLayoutEffect,Mk=Wo.useDebugValue;function Uk(t,e){var n=e(),r=Dk({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Vk(function(){i.value=n,i.getSnapshot=e,Cd(i)&&o({inst:i})},[t,n,e]),Lk(function(){return Cd(i)&&o({inst:i}),t(function(){Cd(i)&&o({inst:i})})},[t]),Mk(n),n}function Cd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ok(t,n)}catch{return!0}}function Fk(t,e){return e()}var jk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fk:Uk;SS.useSyncExternalStore=Wo.useSyncExternalStore!==void 0?Wo.useSyncExternalStore:jk;wS.exports=SS;var $k=wS.exports,TS={exports:{}},IS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=B,zk=$k;function Bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wk=typeof Object.is=="function"?Object.is:Bk,Hk=zk.useSyncExternalStore,qk=Bc.useRef,Gk=Bc.useEffect,Kk=Bc.useMemo,Qk=Bc.useDebugValue;IS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=qk(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Kk(function(){function u(E){if(!c){if(c=!0,d=E,E=r(E),i!==void 0&&s.hasValue){var C=s.value;if(i(C,E))return f=C}return f=E}if(C=f,Wk(d,E))return C;var T=r(E);return i!==void 0&&i(C,T)?C:(d=E,f=T)}var c=!1,d,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var l=Hk(t,o[0],o[1]);return Gk(function(){s.hasValue=!0,s.value=l},[l]),Qk(l),l};TS.exports=IS;var Yk=TS.exports;function Xk(t){t()}let CS=Xk;const Jk=t=>CS=t,Zk=()=>CS,Kv=Symbol.for("react-redux-context"),Qv=typeof globalThis<"u"?globalThis:{};function ex(){var t;if(!B.createContext)return{};const e=(t=Qv[Kv])!=null?t:Qv[Kv]=new Map;let n=e.get(B.createContext);return n||(n=B.createContext(null),e.set(B.createContext,n)),n}const ni=ex();function Sm(t=ni){return function(){return B.useContext(t)}}const AS=Sm(),tx=()=>{throw new Error("uSES not initialized!")};let RS=tx;const nx=t=>{RS=t},rx=(t,e)=>t===e;function ix(t=ni){const e=t===ni?AS:Sm(t);return function(r,i={}){const{equalityFn:o=rx,stabilityCheck:s=void 0,noopCheck:l=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:c,getServerState:d,stabilityCheck:f,noopCheck:m}=e();B.useRef(!0);const E=B.useCallback({[r.name](T){return r(T)}}[r.name],[r,f,s]),C=RS(c.addNestedSub,u.getState,d||u.getState,E,o);return B.useDebugValue(C),C}}const Ht=ix();function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(null,arguments)}function ox(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var PS={exports:{}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,Tm=vt?Symbol.for("react.element"):60103,Im=vt?Symbol.for("react.portal"):60106,Wc=vt?Symbol.for("react.fragment"):60107,Hc=vt?Symbol.for("react.strict_mode"):60108,qc=vt?Symbol.for("react.profiler"):60114,Gc=vt?Symbol.for("react.provider"):60109,Kc=vt?Symbol.for("react.context"):60110,Cm=vt?Symbol.for("react.async_mode"):60111,Qc=vt?Symbol.for("react.concurrent_mode"):60111,Yc=vt?Symbol.for("react.forward_ref"):60112,Xc=vt?Symbol.for("react.suspense"):60113,sx=vt?Symbol.for("react.suspense_list"):60120,Jc=vt?Symbol.for("react.memo"):60115,Zc=vt?Symbol.for("react.lazy"):60116,ax=vt?Symbol.for("react.block"):60121,lx=vt?Symbol.for("react.fundamental"):60117,ux=vt?Symbol.for("react.responder"):60118,cx=vt?Symbol.for("react.scope"):60119;function fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Tm:switch(t=t.type,t){case Cm:case Qc:case Wc:case qc:case Hc:case Xc:return t;default:switch(t=t&&t.$$typeof,t){case Kc:case Yc:case Zc:case Jc:case Gc:return t;default:return e}}case Im:return e}}}function kS(t){return fn(t)===Qc}Oe.AsyncMode=Cm;Oe.ConcurrentMode=Qc;Oe.ContextConsumer=Kc;Oe.ContextProvider=Gc;Oe.Element=Tm;Oe.ForwardRef=Yc;Oe.Fragment=Wc;Oe.Lazy=Zc;Oe.Memo=Jc;Oe.Portal=Im;Oe.Profiler=qc;Oe.StrictMode=Hc;Oe.Suspense=Xc;Oe.isAsyncMode=function(t){return kS(t)||fn(t)===Cm};Oe.isConcurrentMode=kS;Oe.isContextConsumer=function(t){return fn(t)===Kc};Oe.isContextProvider=function(t){return fn(t)===Gc};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tm};Oe.isForwardRef=function(t){return fn(t)===Yc};Oe.isFragment=function(t){return fn(t)===Wc};Oe.isLazy=function(t){return fn(t)===Zc};Oe.isMemo=function(t){return fn(t)===Jc};Oe.isPortal=function(t){return fn(t)===Im};Oe.isProfiler=function(t){return fn(t)===qc};Oe.isStrictMode=function(t){return fn(t)===Hc};Oe.isSuspense=function(t){return fn(t)===Xc};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wc||t===Qc||t===qc||t===Hc||t===Xc||t===sx||typeof t=="object"&&t!==null&&(t.$$typeof===Zc||t.$$typeof===Jc||t.$$typeof===Gc||t.$$typeof===Kc||t.$$typeof===Yc||t.$$typeof===lx||t.$$typeof===ux||t.$$typeof===cx||t.$$typeof===ax)};Oe.typeOf=fn;PS.exports=Oe;var hx=PS.exports,Am=hx,dx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},px={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rm={};Rm[Am.ForwardRef]=px;Rm[Am.Memo]=xS;function Yv(t){return Am.isMemo(t)?xS:Rm[t.$$typeof]||dx}var mx=Object.defineProperty,gx=Object.getOwnPropertyNames,Xv=Object.getOwnPropertySymbols,yx=Object.getOwnPropertyDescriptor,vx=Object.getPrototypeOf,Jv=Object.prototype;function NS(t,e,n){if(typeof e!="string"){if(Jv){var r=vx(e);r&&r!==Jv&&NS(t,r,n)}var i=gx(e);Xv&&(i=i.concat(Xv(e)));for(var o=Yv(t),s=Yv(e),l=0;l<i.length;++l){var u=i[l];if(!fx[u]&&!(n&&n[u])&&!(s&&s[u])&&!(o&&o[u])){var c=yx(e,u);try{mx(t,u,c)}catch{}}}}return t}var _x=NS;const Ex=Sp(_x);var bS={exports:{}},De={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=Symbol.for("react.element"),km=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),ih=Symbol.for("react.context"),wx=Symbol.for("react.server_context"),oh=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),uh=Symbol.for("react.lazy"),Sx=Symbol.for("react.offscreen"),OS;OS=Symbol.for("react.module.reference");function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Pm:switch(t=t.type,t){case eh:case nh:case th:case sh:case ah:return t;default:switch(t=t&&t.$$typeof,t){case wx:case ih:case oh:case uh:case lh:case rh:return t;default:return e}}case km:return e}}}De.ContextConsumer=ih;De.ContextProvider=rh;De.Element=Pm;De.ForwardRef=oh;De.Fragment=eh;De.Lazy=uh;De.Memo=lh;De.Portal=km;De.Profiler=nh;De.StrictMode=th;De.Suspense=sh;De.SuspenseList=ah;De.isAsyncMode=function(){return!1};De.isConcurrentMode=function(){return!1};De.isContextConsumer=function(t){return Tn(t)===ih};De.isContextProvider=function(t){return Tn(t)===rh};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pm};De.isForwardRef=function(t){return Tn(t)===oh};De.isFragment=function(t){return Tn(t)===eh};De.isLazy=function(t){return Tn(t)===uh};De.isMemo=function(t){return Tn(t)===lh};De.isPortal=function(t){return Tn(t)===km};De.isProfiler=function(t){return Tn(t)===nh};De.isStrictMode=function(t){return Tn(t)===th};De.isSuspense=function(t){return Tn(t)===sh};De.isSuspenseList=function(t){return Tn(t)===ah};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===eh||t===nh||t===th||t===sh||t===ah||t===Sx||typeof t=="object"&&t!==null&&(t.$$typeof===uh||t.$$typeof===lh||t.$$typeof===rh||t.$$typeof===ih||t.$$typeof===oh||t.$$typeof===OS||t.getModuleId!==void 0)};De.typeOf=Tn;bS.exports=De;var DS=bS.exports;function Tx(){const t=Zk();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Zv={notify(){},get:()=>[]};function Ix(t,e){let n,r=Zv,i=0,o=!1;function s(T){d();const P=r.subscribe(T);let _=!1;return()=>{_||(_=!0,P(),f())}}function l(){r.notify()}function u(){C.onStateChange&&C.onStateChange()}function c(){return o}function d(){i++,n||(n=t.subscribe(u),r=Tx())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Zv)}function m(){o||(o=!0,d())}function E(){o&&(o=!1,f())}const C={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:E,getListeners:()=>r};return C}const Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ax=Cx?B.useLayoutEffect:B.useEffect;function Rx({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=B.useMemo(()=>{const c=Ix(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),l=B.useMemo(()=>t.getState(),[t]);return Ax(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,l]),$((e||ni).Provider,{value:s,children:n})}function LS(t=ni){const e=t===ni?AS:Sm(t);return function(){const{store:r}=e();return r}}const Px=LS();function kx(t=ni){const e=t===ni?Px:LS(t);return function(){return e().dispatch}}const hi=kx();nx(Yk.useSyncExternalStoreWithSelector);Jk(oS.unstable_batchedUpdates);function cu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(n){return typeof n}:cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cu(t)}function xx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bx(t,e,n){return e&&Nx(t.prototype,e),t}function Ox(t,e){return e&&(cu(e)==="object"||typeof e=="function")?e:hu(t)}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(t)}function hu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$f(t,e)}function $f(t,e){return $f=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$f(t,e)}function du(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VS=function(t){Dx(e,t);function e(){var n,r;xx(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=Ox(this,(n=jf(e)).call.apply(n,[this].concat(o))),du(hu(r),"state",{bootstrapped:!1}),du(hu(r),"_unsubscribe",void 0),du(hu(r),"handlePersistorState",function(){var l=r.props.persistor,u=l.getState(),c=u.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return bx(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(B.PureComponent);du(VS,"defaultProps",{children:null,loading:null});var MS={exports:{}},Lx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vx=Lx,Mx=Vx;function US(){}function FS(){}FS.resetWarningCache=US;var Ux=function(){function t(r,i,o,s,l,u){if(u!==Mx){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FS,resetWarningCache:US};return n.PropTypes=n,n};MS.exports=Ux();var Fx=MS.exports;const qe=Sp(Fx);function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){jS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(e){return typeof e}:fu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function jS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $S(t,e){return jx(t)||$x(t,e)||zx(t,e)||Bx()}function jx(t){if(Array.isArray(t))return t}function $x(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function zx(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn=function(e,n,r){var i=!!r,o=Re.useRef(r);Re.useEffect(function(){o.current=r},[r]),Re.useEffect(function(){if(!i||!e)return function(){};var s=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,s),function(){e.off(n,s)}},[i,n,e,o])},zf=function(e){var n=Re.useRef(e);return Re.useEffect(function(){n.current=e},[e]),n.current},Ho=function(e){return e!==null&&fu(e)==="object"},Wx=function(e){return Ho(e)&&typeof e.then=="function"},Hx=function(e){return Ho(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},r_="[object Object]",qx=function t(e,n){if(!Ho(e)||!Ho(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===r_,s=Object.prototype.toString.call(n)===r_;if(o!==s)return!1;if(!o&&!r)return e===n;var l=Object.keys(e),u=Object.keys(n);if(l.length!==u.length)return!1;for(var c={},d=0;d<l.length;d+=1)c[l[d]]=!0;for(var f=0;f<u.length;f+=1)c[u[f]]=!0;var m=Object.keys(c);if(m.length!==l.length)return!1;var E=e,C=n,T=function(_){return t(E[_],C[_])};return m.every(T)},zS=function(e,n,r){return Ho(e)?Object.keys(e).reduce(function(i,o){var s=!Ho(n)||!qx(e[o],n[o]);return r.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):s?t_(t_({},i||{}),{},jS({},o,e[o])):i},null):null},BS="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",i_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BS;if(e===null||Hx(e))return e;throw new Error(n)},Gx=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BS;if(Wx(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return i_(i,n)})};var r=i_(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Kx=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},ch=Re.createContext(null);ch.displayName="ElementsContext";var WS=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},HS=function(e){var n=e.stripe,r=e.options,i=e.children,o=Re.useMemo(function(){return Gx(n)},[n]),s=Re.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),l=$S(s,2),u=l[0],c=l[1];Re.useEffect(function(){var m=!0,E=function(T){c(function(P){return P.stripe?P:{stripe:T,elements:T.elements(r)}})};return o.tag==="async"&&!u.stripe?o.stripePromise.then(function(C){C&&m&&E(C)}):o.tag==="sync"&&!u.stripe&&E(o.stripe),function(){m=!1}},[o,u,r]);var d=zf(n);Re.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=zf(r);return Re.useEffect(function(){if(u.elements){var m=zS(r,f,["clientSecret","fonts"]);m&&u.elements.update(m)}},[r,f,u.elements]),Re.useEffect(function(){Kx(u.stripe)},[u.stripe]),$(ch.Provider,{value:u,children:i})};HS.propTypes={stripe:qe.any,options:qe.object};var Qx=function(e){var n=Re.useContext(ch);return WS(n,e)},Yx=function(){var e=Qx("calls useElements()"),n=e.elements;return n};qe.func.isRequired;var qS=Re.createContext(null);qS.displayName="CustomCheckoutSdkContext";var Xx=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},Jx=Re.createContext(null);Jx.displayName="CustomCheckoutContext";qe.any,qe.shape({clientSecret:qe.string.isRequired,elementsOptions:qe.object}).isRequired;var Bf=function(e){var n=Re.useContext(qS),r=Re.useContext(ch);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?Xx(n,e):WS(r,e)},Zx=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},at=function(e,n){var r="".concat(Zx(e),"Element"),i=function(u){var c=u.id,d=u.className,f=u.options,m=f===void 0?{}:f,E=u.onBlur,C=u.onFocus,T=u.onReady,P=u.onChange,_=u.onEscape,y=u.onClick,I=u.onLoadError,x=u.onLoaderStart,U=u.onNetworksChange,j=u.onConfirm,S=u.onCancel,v=u.onShippingAddressChange,w=u.onShippingRateChange,A=Bf("mounts <".concat(r,">")),N="elements"in A?A.elements:null,D="customCheckoutSdk"in A?A.customCheckoutSdk:null,R=Re.useState(null),ke=$S(R,2),fe=ke[0],kt=ke[1],ve=Re.useRef(null),K=Re.useRef(null);sn(fe,"blur",E),sn(fe,"focus",C),sn(fe,"escape",_),sn(fe,"click",y),sn(fe,"loaderror",I),sn(fe,"loaderstart",x),sn(fe,"networkschange",U),sn(fe,"confirm",j),sn(fe,"cancel",S),sn(fe,"shippingaddresschange",v),sn(fe,"shippingratechange",w),sn(fe,"change",P);var te;T&&(e==="expressCheckout"?te=T:te=function(){T(fe)}),sn(fe,"ready",te),Re.useLayoutEffect(function(){if(ve.current===null&&K.current!==null&&(N||D)){var O=null;D?O=D.createElement(e,m):N&&(O=N.create(e,m)),ve.current=O,kt(O),O&&O.mount(K.current)}},[N,D,m]);var ne=zf(m);return Re.useEffect(function(){if(ve.current){var O=zS(m,ne,["paymentRequest"]);O&&"update"in ve.current&&ve.current.update(O)}},[m,ne]),Re.useLayoutEffect(function(){return function(){if(ve.current&&typeof ve.current.destroy=="function")try{ve.current.destroy(),ve.current=null}catch{}}},[]),$("div",{id:c,className:d,ref:K})},o=function(u){Bf("mounts <".concat(r,">"));var c=u.id,d=u.className;return $("div",{id:c,className:d})},s=n?o:i;return s.propTypes={id:qe.string,className:qe.string,onChange:qe.func,onBlur:qe.func,onFocus:qe.func,onReady:qe.func,onEscape:qe.func,onClick:qe.func,onLoadError:qe.func,onLoaderStart:qe.func,onNetworksChange:qe.func,onConfirm:qe.func,onCancel:qe.func,onShippingAddressChange:qe.func,onShippingRateChange:qe.func,options:qe.object},s.displayName=r,s.__elementType=e,s},lt=typeof window>"u",eN=Re.createContext(null);eN.displayName="EmbeddedCheckoutProviderContext";var tN=function(){var e=Bf("calls useStripe()"),n=e.stripe;return n};at("auBankAccount",lt);var o_=at("card",lt);at("cardNumber",lt);at("cardExpiry",lt);at("cardCvc",lt);at("fpxBank",lt);at("iban",lt);at("idealBank",lt);at("p24Bank",lt);at("epsBank",lt);at("payment",lt);at("expressCheckout",lt);at("currencySelector",lt);at("paymentRequestButton",lt);at("linkAuthentication",lt);at("address",lt);at("shippingAddress",lt);at("paymentMethodMessaging",lt);at("affirmMessage",lt);at("afterpayClearpayMessage",lt);function nN(t){function e(b,k,M,q,L){for(var Y=0,z=0,ge=0,ue=0,ae,ee,Te=0,he=0,pe,xe=pe=ae=0,re=0,Ve=0,Qt=0,Ne=0,In=M.length,ft=In-1,pt,se="",Me="",Ue="",je="",Et;re<In;){if(ee=M.charCodeAt(re),re===ft&&z+ue+ge+Y!==0&&(z!==0&&(ee=z===47?10:47),ue=ge=Y=0,In++,ft++),z+ue+ge+Y===0){if(re===ft&&(0<Ve&&(se=se.replace(m,"")),0<se.trim().length)){switch(ee){case 32:case 9:case 59:case 13:case 10:break;default:se+=M.charAt(re)}ee=59}switch(ee){case 123:for(se=se.trim(),ae=se.charCodeAt(0),pe=1,Ne=++re;re<In;){switch(ee=M.charCodeAt(re)){case 123:pe++;break;case 125:pe--;break;case 47:switch(ee=M.charCodeAt(re+1)){case 42:case 47:e:{for(xe=re+1;xe<ft;++xe)switch(M.charCodeAt(xe)){case 47:if(ee===42&&M.charCodeAt(xe-1)===42&&re+2!==xe){re=xe+1;break e}break;case 10:if(ee===47){re=xe+1;break e}}re=xe}}break;case 91:ee++;case 40:ee++;case 34:case 39:for(;re++<ft&&M.charCodeAt(re)!==ee;);}if(pe===0)break;re++}switch(pe=M.substring(Ne,re),ae===0&&(ae=(se=se.replace(f,"").trim()).charCodeAt(0)),ae){case 64:switch(0<Ve&&(se=se.replace(m,"")),ee=se.charCodeAt(1),ee){case 100:case 109:case 115:case 45:Ve=k;break;default:Ve=kt}if(pe=e(k,Ve,pe,ee,L+1),Ne=pe.length,0<K&&(Ve=n(kt,se,Qt),Et=l(3,pe,Ve,k,R,D,Ne,ee,L,q),se=Ve.join(""),Et!==void 0&&(Ne=(pe=Et.trim()).length)===0&&(ee=0,pe="")),0<Ne)switch(ee){case 115:se=se.replace(j,s);case 100:case 109:case 45:pe=se+"{"+pe+"}";break;case 107:se=se.replace(y,"$1 $2"),pe=se+"{"+pe+"}",pe=fe===1||fe===2&&o("@"+pe,3)?"@-webkit-"+pe+"@"+pe:"@"+pe;break;default:pe=se+pe,q===112&&(pe=(Me+=pe,""))}else pe="";break;default:pe=e(k,n(k,se,Qt),pe,q,L+1)}Ue+=pe,pe=Qt=Ve=xe=ae=0,se="",ee=M.charCodeAt(++re);break;case 125:case 59:if(se=(0<Ve?se.replace(m,""):se).trim(),1<(Ne=se.length))switch(xe===0&&(ae=se.charCodeAt(0),ae===45||96<ae&&123>ae)&&(Ne=(se=se.replace(" ",":")).length),0<K&&(Et=l(1,se,k,b,R,D,Me.length,q,L,q))!==void 0&&(Ne=(se=Et.trim()).length)===0&&(se="\0\0"),ae=se.charCodeAt(0),ee=se.charCodeAt(1),ae){case 0:break;case 64:if(ee===105||ee===99){je+=se+M.charAt(re);break}default:se.charCodeAt(Ne-1)!==58&&(Me+=i(se,ae,ee,se.charCodeAt(2)))}Qt=Ve=xe=ae=0,se="",ee=M.charCodeAt(++re)}}switch(ee){case 13:case 10:z===47?z=0:1+ae===0&&q!==107&&0<se.length&&(Ve=1,se+="\0"),0<K*ne&&l(0,se,k,b,R,D,Me.length,q,L,q),D=1,R++;break;case 59:case 125:if(z+ue+ge+Y===0){D++;break}default:switch(D++,pt=M.charAt(re),ee){case 9:case 32:if(ue+Y+z===0)switch(Te){case 44:case 58:case 9:case 32:pt="";break;default:ee!==32&&(pt=" ")}break;case 0:pt="\\0";break;case 12:pt="\\f";break;case 11:pt="\\v";break;case 38:ue+z+Y===0&&(Ve=Qt=1,pt="\f"+pt);break;case 108:if(ue+z+Y+ke===0&&0<xe)switch(re-xe){case 2:Te===112&&M.charCodeAt(re-3)===58&&(ke=Te);case 8:he===111&&(ke=he)}break;case 58:ue+z+Y===0&&(xe=re);break;case 44:z+ge+ue+Y===0&&(Ve=1,pt+="\r");break;case 34:case 39:z===0&&(ue=ue===ee?0:ue===0?ee:ue);break;case 91:ue+z+ge===0&&Y++;break;case 93:ue+z+ge===0&&Y--;break;case 41:ue+z+Y===0&&ge--;break;case 40:if(ue+z+Y===0){if(ae===0)switch(2*Te+3*he){case 533:break;default:ae=1}ge++}break;case 64:z+ge+ue+Y+xe+pe===0&&(pe=1);break;case 42:case 47:if(!(0<ue+Y+ge))switch(z){case 0:switch(2*ee+3*M.charCodeAt(re+1)){case 235:z=47;break;case 220:Ne=re,z=42}break;case 42:ee===47&&Te===42&&Ne+2!==re&&(M.charCodeAt(Ne+2)===33&&(Me+=M.substring(Ne,re+1)),pt="",z=0)}}z===0&&(se+=pt)}he=Te,Te=ee,re++}if(Ne=Me.length,0<Ne){if(Ve=k,0<K&&(Et=l(2,Me,Ve,b,R,D,Ne,q,L,q),Et!==void 0&&(Me=Et).length===0))return je+Me+Ue;if(Me=Ve.join(",")+"{"+Me+"}",fe*ke!==0){switch(fe!==2||o(Me,2)||(ke=0),ke){case 111:Me=Me.replace(x,":-moz-$1")+Me;break;case 112:Me=Me.replace(I,"::-webkit-input-$1")+Me.replace(I,"::-moz-$1")+Me.replace(I,":-ms-input-$1")+Me}ke=0}}return je+Me+Ue}function n(b,k,M){var q=k.trim().split(P);k=q;var L=q.length,Y=b.length;switch(Y){case 0:case 1:var z=0;for(b=Y===0?"":b[0]+" ";z<L;++z)k[z]=r(b,k[z],M).trim();break;default:var ge=z=0;for(k=[];z<L;++z)for(var ue=0;ue<Y;++ue)k[ge++]=r(b[ue]+" ",q[z],M).trim()}return k}function r(b,k,M){var q=k.charCodeAt(0);switch(33>q&&(q=(k=k.trim()).charCodeAt(0)),q){case 38:return k.replace(_,"$1"+b.trim());case 58:return b.trim()+k.replace(_,"$1"+b.trim());default:if(0<1*M&&0<k.indexOf("\f"))return k.replace(_,(b.charCodeAt(0)===58?"":"$1")+b.trim())}return b+k}function i(b,k,M,q){var L=b+";",Y=2*k+3*M+4*q;if(Y===944){b=L.indexOf(":",9)+1;var z=L.substring(b,L.length-1).trim();return z=L.substring(0,b).trim()+z+";",fe===1||fe===2&&o(z,1)?"-webkit-"+z+z:z}if(fe===0||fe===2&&!o(L,1))return L;switch(Y){case 1015:return L.charCodeAt(10)===97?"-webkit-"+L+L:L;case 951:return L.charCodeAt(3)===116?"-webkit-"+L+L:L;case 963:return L.charCodeAt(5)===110?"-webkit-"+L+L:L;case 1009:if(L.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+L+L;case 978:return"-webkit-"+L+"-moz-"+L+L;case 1019:case 983:return"-webkit-"+L+"-moz-"+L+"-ms-"+L+L;case 883:if(L.charCodeAt(8)===45)return"-webkit-"+L+L;if(0<L.indexOf("image-set(",11))return L.replace(N,"$1-webkit-$2")+L;break;case 932:if(L.charCodeAt(4)===45)switch(L.charCodeAt(5)){case 103:return"-webkit-box-"+L.replace("-grow","")+"-webkit-"+L+"-ms-"+L.replace("grow","positive")+L;case 115:return"-webkit-"+L+"-ms-"+L.replace("shrink","negative")+L;case 98:return"-webkit-"+L+"-ms-"+L.replace("basis","preferred-size")+L}return"-webkit-"+L+"-ms-"+L+L;case 964:return"-webkit-"+L+"-ms-flex-"+L+L;case 1023:if(L.charCodeAt(8)!==99)break;return z=L.substring(L.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+z+"-webkit-"+L+"-ms-flex-pack"+z+L;case 1005:return C.test(L)?L.replace(E,":-webkit-")+L.replace(E,":-moz-")+L:L;case 1e3:switch(z=L.substring(13).trim(),k=z.indexOf("-")+1,z.charCodeAt(0)+z.charCodeAt(k)){case 226:z=L.replace(U,"tb");break;case 232:z=L.replace(U,"tb-rl");break;case 220:z=L.replace(U,"lr");break;default:return L}return"-webkit-"+L+"-ms-"+z+L;case 1017:if(L.indexOf("sticky",9)===-1)break;case 975:switch(k=(L=b).length-10,z=(L.charCodeAt(k)===33?L.substring(0,k):L).substring(b.indexOf(":",7)+1).trim(),Y=z.charCodeAt(0)+(z.charCodeAt(7)|0)){case 203:if(111>z.charCodeAt(8))break;case 115:L=L.replace(z,"-webkit-"+z)+";"+L;break;case 207:case 102:L=L.replace(z,"-webkit-"+(102<Y?"inline-":"")+"box")+";"+L.replace(z,"-webkit-"+z)+";"+L.replace(z,"-ms-"+z+"box")+";"+L}return L+";";case 938:if(L.charCodeAt(5)===45)switch(L.charCodeAt(6)){case 105:return z=L.replace("-items",""),"-webkit-"+L+"-webkit-box-"+z+"-ms-flex-"+z+L;case 115:return"-webkit-"+L+"-ms-flex-item-"+L.replace(v,"")+L;default:return"-webkit-"+L+"-ms-flex-line-pack"+L.replace("align-content","").replace(v,"")+L}break;case 973:case 989:if(L.charCodeAt(3)!==45||L.charCodeAt(4)===122)break;case 931:case 953:if(A.test(b)===!0)return(z=b.substring(b.indexOf(":")+1)).charCodeAt(0)===115?i(b.replace("stretch","fill-available"),k,M,q).replace(":fill-available",":stretch"):L.replace(z,"-webkit-"+z)+L.replace(z,"-moz-"+z.replace("fill-",""))+L;break;case 962:if(L="-webkit-"+L+(L.charCodeAt(5)===102?"-ms-"+L:"")+L,M+q===211&&L.charCodeAt(13)===105&&0<L.indexOf("transform",10))return L.substring(0,L.indexOf(";",27)+1).replace(T,"$1-webkit-$2")+L}return L}function o(b,k){var M=b.indexOf(k===1?":":"{"),q=b.substring(0,k!==3?M:10);return M=b.substring(M+1,b.length-1),te(k!==2?q:q.replace(w,"$1"),M,k)}function s(b,k){var M=i(k,k.charCodeAt(0),k.charCodeAt(1),k.charCodeAt(2));return M!==k+";"?M.replace(S," or ($1)").substring(4):"("+k+")"}function l(b,k,M,q,L,Y,z,ge,ue,ae){for(var ee=0,Te=k,he;ee<K;++ee)switch(he=ve[ee].call(d,b,Te,M,q,L,Y,z,ge,ue,ae)){case void 0:case!1:case!0:case null:break;default:Te=he}if(Te!==k)return Te}function u(b){switch(b){case void 0:case null:K=ve.length=0;break;default:if(typeof b=="function")ve[K++]=b;else if(typeof b=="object")for(var k=0,M=b.length;k<M;++k)u(b[k]);else ne=!!b|0}return u}function c(b){return b=b.prefix,b!==void 0&&(te=null,b?typeof b!="function"?fe=1:(fe=2,te=b):fe=0),c}function d(b,k){var M=b;if(33>M.charCodeAt(0)&&(M=M.trim()),O=M,M=[O],0<K){var q=l(-1,k,M,M,R,D,0,0,0,0);q!==void 0&&typeof q=="string"&&(k=q)}var L=e(kt,M,k,0,0);return 0<K&&(q=l(-2,L,M,M,R,D,L.length,0,0,0),q!==void 0&&(L=q)),O="",ke=0,D=R=1,L}var f=/^\0+/g,m=/[\0\r\f]/g,E=/: */g,C=/zoo|gra/,T=/([,: ])(transform)/g,P=/,\r+?/g,_=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,I=/::(place)/g,x=/:(read-only)/g,U=/[svh]\w+-[tblr]{2}/,j=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,v=/-self|flex-/g,w=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,N=/([^-])(image-set\()/,D=1,R=1,ke=0,fe=1,kt=[],ve=[],K=0,te=null,ne=0,O="";return d.use=u,d.set=c,t!==void 0&&c(t),d}var rN={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function iN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var oN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s_=iN(function(t){return oN.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),pn={};function rr(){return(rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a_=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},Wf=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!DS.typeOf(t)},rc=Object.freeze([]),Kr=Object.freeze({});function ba(t){return typeof t=="function"}function l_(t){return t.displayName||t.name||"Component"}function xm(t){return t&&typeof t.styledComponentId=="string"}var qo=typeof process<"u"&&pn!==void 0&&(pn.REACT_APP_SC_ATTR||pn.SC_ATTR)||"data-styled",Nm=typeof window<"u"&&"HTMLElement"in window,sN=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&pn!==void 0&&(pn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&pn.REACT_APP_SC_DISABLE_SPEEDY!==""?pn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&pn.REACT_APP_SC_DISABLE_SPEEDY:pn.SC_DISABLE_SPEEDY!==void 0&&pn.SC_DISABLE_SPEEDY!==""&&pn.SC_DISABLE_SPEEDY!=="false"&&pn.SC_DISABLE_SPEEDY));function Qa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var aN=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;n>=s;)(s<<=1)<0&&Qa(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var l=o;l<s;l++)this.groupSizes[l]=0}for(var u=this.indexOfGroup(n+1),c=0,d=r.length;c<d;c++)this.tag.insertRule(u,r[c])&&(this.groupSizes[n]++,u++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),s=o+i,l=o;l<s;l++)r+=this.tag.getRule(l)+`/*!sc*/
`;return r},t}(),pu=new Map,ic=new Map,oa=1,Bl=function(t){if(pu.has(t))return pu.get(t);for(;ic.has(oa);)oa++;var e=oa++;return pu.set(t,e),ic.set(e,t),e},lN=function(t){return ic.get(t)},uN=function(t,e){e>=oa&&(oa=e+1),pu.set(t,e),ic.set(e,t)},cN="style["+qo+'][data-styled-version="5.3.11"]',hN=new RegExp("^"+qo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),dN=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},fN=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var l=s.match(hN);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(uN(c,u),dN(t,c,l[3]),t.getTag().insertRules(u,r)),r.length=0}else r.push(s)}}},pN=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},GS=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){for(var u=l.childNodes,c=u.length;c>=0;c--){var d=u[c];if(d&&d.nodeType===1&&d.hasAttribute(qo))return d}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(qo,"active"),r.setAttribute("data-styled-version","5.3.11");var s=pN();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},mN=function(){function t(n){var r=this.element=GS(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,l=o.length;s<l;s++){var u=o[s];if(u.ownerNode===i)return u}Qa(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),gN=function(){function t(n){var r=this.element=GS(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),yN=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),u_=Nm,vN={isServer:!Nm,useCSSOMInjection:!sN},KS=function(){function t(n,r,i){n===void 0&&(n=Kr),r===void 0&&(r={}),this.options=rr({},vN,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Nm&&u_&&(u_=!1,function(o){for(var s=document.querySelectorAll(cN),l=0,u=s.length;l<u;l++){var c=s[l];c&&c.getAttribute(qo)!=="active"&&(fN(o,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}t.registerId=function(n){return Bl(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(rr({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,s=r.target,n=i?new yN(s):o?new mN(s):new gN(s),new aN(n)));var n,r,i,o,s},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(Bl(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(Bl(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(Bl(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",s=0;s<i;s++){var l=lN(s);if(l!==void 0){var u=n.names.get(l),c=r.getGroup(s);if(u&&c&&u.size){var d=qo+".g"+s+'[id="'+l+'"]',f="";u!==void 0&&u.forEach(function(m){m.length>0&&(f+=m+",")}),o+=""+c+d+'{content:"'+f+`"}/*!sc*/
`}}}return o}(this)},t}(),_N=/(a)(d)/gi,c_=function(t){return String.fromCharCode(t+(t>25?39:97))};function Hf(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=c_(e%52)+n;return(c_(e%52)+n).replace(_N,"$1-$2")}var Io=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},QS=function(t){return Io(5381,t)};function EN(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ba(n)&&!xm(n))return!1}return!0}var wN=QS("5.3.11"),SN=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&EN(e),this.componentId=n,this.baseHash=Io(wN,n),this.baseStyle=r,KS.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=Go(this.rules,e,n,r).join(""),l=Hf(Io(this.baseHash,s)>>>0);if(!n.hasNameForId(i,l)){var u=r(s,"."+l,void 0,i);n.insertRules(i,l,u)}o.push(l),this.staticRulesId=l}else{for(var c=this.rules.length,d=Io(this.baseHash,r.hash),f="",m=0;m<c;m++){var E=this.rules[m];if(typeof E=="string")f+=E;else if(E){var C=Go(E,e,n,r),T=Array.isArray(C)?C.join(""):C;d=Io(d,T+m),f+=T}}if(f){var P=Hf(d>>>0);if(!n.hasNameForId(i,P)){var _=r(f,"."+P,void 0,i);n.insertRules(i,P,_)}o.push(P)}}return o.join(" ")},t}(),TN=/^\s*\/\/.*$/gm,IN=[":","[",".","#"];function CN(t){var e,n,r,i,o=Kr,s=o.options,l=s===void 0?Kr:s,u=o.plugins,c=u===void 0?rc:u,d=new nN(l),f=[],m=function(T){function P(_){if(_)try{T(_+"}")}catch{}}return function(_,y,I,x,U,j,S,v,w,A){switch(_){case 1:if(w===0&&y.charCodeAt(0)===64)return T(y+";"),"";break;case 2:if(v===0)return y+"/*|*/";break;case 3:switch(v){case 102:case 112:return T(I[0]+y),"";default:return y+(A===0?"/*|*/":"")}case-2:y.split("/*|*/}").forEach(P)}}}(function(T){f.push(T)}),E=function(T,P,_){return P===0&&IN.indexOf(_[n.length])!==-1||_.match(i)?T:"."+e};function C(T,P,_,y){y===void 0&&(y="&");var I=T.replace(TN,""),x=P&&_?_+" "+P+" { "+I+" }":I;return e=y,n=P,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(_||!P?"":P,x)}return d.use([].concat(c,[function(T,P,_){T===2&&_.length&&_[0].lastIndexOf(n)>0&&(_[0]=_[0].replace(r,E))},m,function(T){if(T===-2){var P=f;return f=[],P}}])),C.hash=c.length?c.reduce(function(T,P){return P.name||Qa(15),Io(T,P.name)},5381).toString():"",C}var YS=Re.createContext();YS.Consumer;var XS=Re.createContext(),AN=(XS.Consumer,new KS),qf=CN();function RN(){return B.useContext(YS)||AN}function PN(){return B.useContext(XS)||qf}var kN=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=qf);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.toString=function(){return Qa(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=qf),this.name+e.hash},t}(),xN=/([A-Z])/,NN=/([A-Z])/g,bN=/^ms-/,ON=function(t){return"-"+t.toLowerCase()};function h_(t){return xN.test(t)?t.replace(NN,ON).replace(bN,"-ms-"):t}var d_=function(t){return t==null||t===!1||t===""};function Go(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],s=0,l=t.length;s<l;s+=1)(i=Go(t[s],e,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(d_(t))return"";if(xm(t))return"."+t.styledComponentId;if(ba(t)){if(typeof(c=t)!="function"||c.prototype&&c.prototype.isReactComponent||!e)return t;var u=t(e);return Go(u,e,n,r)}var c;return t instanceof kN?n?(t.inject(n,r),t.getName(r)):t:Wf(t)?function d(f,m){var E,C,T=[];for(var P in f)f.hasOwnProperty(P)&&!d_(f[P])&&(Array.isArray(f[P])&&f[P].isCss||ba(f[P])?T.push(h_(P)+":",f[P],";"):Wf(f[P])?T.push.apply(T,d(f[P],P)):T.push(h_(P)+": "+(E=P,(C=f[P])==null||typeof C=="boolean"||C===""?"":typeof C!="number"||C===0||E in rN||E.startsWith("--")?String(C).trim():C+"px")+";"));return m?[m+" {"].concat(T,["}"]):T}(t):t.toString()}var f_=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function JS(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ba(t)||Wf(t)?f_(Go(a_(rc,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:f_(Go(a_(t,n)))}var DN=function(t,e,n){return n===void 0&&(n=Kr),t.theme!==n.theme&&t.theme||e||n.theme},LN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,VN=/(^-|-$)/g;function Ad(t){return t.replace(LN,"-").replace(VN,"")}var MN=function(t){return Hf(QS(t)>>>0)};function Wl(t){return typeof t=="string"&&!0}var Gf=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},UN=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function FN(t,e,n){var r=t[n];Gf(e)&&Gf(r)?ZS(r,e):t[n]=e}function ZS(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(Gf(s))for(var l in s)UN(l)&&FN(t,s[l],l)}return t}var eT=Re.createContext();eT.Consumer;var Rd={};function tT(t,e,n){var r=xm(t),i=!Wl(t),o=e.attrs,s=o===void 0?rc:o,l=e.componentId,u=l===void 0?function(y,I){var x=typeof y!="string"?"sc":Ad(y);Rd[x]=(Rd[x]||0)+1;var U=x+"-"+MN("5.3.11"+x+Rd[x]);return I?I+"-"+U:U}(e.displayName,e.parentComponentId):l,c=e.displayName,d=c===void 0?function(y){return Wl(y)?"styled."+y:"Styled("+l_(y)+")"}(t):c,f=e.displayName&&e.componentId?Ad(e.displayName)+"-"+e.componentId:e.componentId||u,m=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,E=e.shouldForwardProp;r&&t.shouldForwardProp&&(E=e.shouldForwardProp?function(y,I,x){return t.shouldForwardProp(y,I,x)&&e.shouldForwardProp(y,I,x)}:t.shouldForwardProp);var C,T=new SN(n,f,r?t.componentStyle:void 0),P=T.isStatic&&s.length===0,_=function(y,I){return function(x,U,j,S){var v=x.attrs,w=x.componentStyle,A=x.defaultProps,N=x.foldedComponentIds,D=x.shouldForwardProp,R=x.styledComponentId,ke=x.target,fe=function(q,L,Y){q===void 0&&(q=Kr);var z=rr({},L,{theme:q}),ge={};return Y.forEach(function(ue){var ae,ee,Te,he=ue;for(ae in ba(he)&&(he=he(z)),he)z[ae]=ge[ae]=ae==="className"?(ee=ge[ae],Te=he[ae],ee&&Te?ee+" "+Te:ee||Te):he[ae]}),[z,ge]}(DN(U,B.useContext(eT),A)||Kr,U,v),kt=fe[0],ve=fe[1],K=function(q,L,Y,z){var ge=RN(),ue=PN(),ae=L?q.generateAndInjectStyles(Kr,ge,ue):q.generateAndInjectStyles(Y,ge,ue);return ae}(w,S,kt),te=j,ne=ve.$as||U.$as||ve.as||U.as||ke,O=Wl(ne),b=ve!==U?rr({},U,{},ve):U,k={};for(var M in b)M[0]!=="$"&&M!=="as"&&(M==="forwardedAs"?k.as=b[M]:(D?D(M,s_,ne):!O||s_(M))&&(k[M]=b[M]));return U.style&&ve.style!==U.style&&(k.style=rr({},U.style,{},ve.style)),k.className=Array.prototype.concat(N,R,K!==R?K:null,U.className,ve.className).filter(Boolean).join(" "),k.ref=te,B.createElement(ne,k)}(C,y,I,P)};return _.displayName=d,(C=Re.forwardRef(_)).attrs=m,C.componentStyle=T,C.displayName=d,C.shouldForwardProp=E,C.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):rc,C.styledComponentId=f,C.target=r?t.target:t,C.withComponent=function(y){var I=e.componentId,x=function(j,S){if(j==null)return{};var v,w,A={},N=Object.keys(j);for(w=0;w<N.length;w++)v=N[w],S.indexOf(v)>=0||(A[v]=j[v]);return A}(e,["componentId"]),U=I&&I+"-"+(Wl(y)?y:Ad(l_(y)));return tT(y,rr({},x,{attrs:m,componentId:U}),n)},Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=r?ZS({},t.defaultProps,y):y}}),Object.defineProperty(C,"toString",{value:function(){return"."+C.styledComponentId}}),i&&Ex(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C}var oe=function(t){return function e(n,r,i){if(i===void 0&&(i=Kr),!DS.isValidElementType(r))return Qa(1,String(r));var o=function(){return n(r,i,JS.apply(void 0,arguments))};return o.withConfig=function(s){return e(n,r,rr({},i,{},s))},o.attrs=function(s){return e(n,r,rr({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(tT,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){oe[t]=oe(t)});const nT=oe.div`
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-image: ${({imageUrl:t})=>`url(${t})`};
`,rT=oe.div`
  height: 90px;
  padding: 0 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  background-color: white;
  opacity: 0.7;
  position: absolute;

  h2 {
    font-weight: bold;
    margin: 0 6px 0;
    font-size: 22px;
    color: #4a4a4a;
    text-transform: uppercase;
  }

  p {
    font-weight: lighter;
    font-size: 16px;
  }
`,jN=oe.div`
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  &:hover {
    cursor: pointer;

    ${nT} {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    ${rT} {
      opacity: 0.9;
    }
  }
`,$N=({category:t})=>{const{imageUrl:e,title:n,route:r}=t,i=Em();return Ce(jN,{children:[$(nT,{imageUrl:e}),Ce(rT,{onClick:()=>i(r),children:[$("h2",{children:n}),$("p",{children:"Shop Now"})]})]})},zN=oe.div`
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
`,BN=[{id:1,title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",route:"shop/hats"},{id:2,title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",route:"shop/jackets"},{id:3,title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",route:"shop/sneakers"},{id:4,title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",route:"shop/womens"},{id:5,title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",route:"shop/mens"}],WN=()=>$(zN,{children:BN.map(t=>$($N,{category:t},t.id))}),HN=()=>Ce("div",{children:[$(_S,{}),$(WN,{})]}),_t=(t,e)=>({type:t,payload:e}),Ko={SET_IS_CART_OPEN:"cart/SET_IS_CART_OPEN",SET_CART_ITEMS:"cart/SET_CART_ITEMS"},qN=(t,e)=>t.find(r=>r.id===e.id)?t.map(r=>r.id===e.id?{...r,quantity:r.quantity+1}:r):[...t,{...e,quantity:1}],GN=(t,e)=>t.find(r=>r.id===e.id).quantity===1?t.filter(r=>r.id!==e.id):t.map(r=>r.id===e.id?{...r,quantity:r.quantity-1}:r),KN=(t,e)=>t.filter(n=>n.id!==e.id),QN=t=>_t(Ko.SET_IS_CART_OPEN,t),iT=(t,e)=>{const n=qN(t,e);return _t(Ko.SET_CART_ITEMS,n)},YN=(t,e)=>{const n=GN(t,e);return _t(Ko.SET_CART_ITEMS,n)},XN=(t,e)=>{const n=KN(t,e);return _t(Ko.SET_CART_ITEMS,n)};var oc="NOT_FOUND";function JN(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:oc},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function ZN(t,e){var n=[];function r(l){var u=n.findIndex(function(d){return e(l,d.key)});if(u>-1){var c=n[u];return u>0&&(n.splice(u,1),n.unshift(c)),c.value}return oc}function i(l,u){r(l)===oc&&(n.unshift({key:l,value:u}),n.length>t&&n.pop())}function o(){return n}function s(){n=[]}return{get:r,put:i,getEntries:o,clear:s}}var eb=function(e,n){return e===n};function tb(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,o=0;o<i;o++)if(!t(n[o],r[o]))return!1;return!0}}function nb(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?eb:r,o=n.maxSize,s=o===void 0?1:o,l=n.resultEqualityCheck,u=tb(i),c=s===1?JN(u):ZN(s,u);function d(){var f=c.get(arguments);if(f===oc){if(f=t.apply(null,arguments),l){var m=c.getEntries(),E=m.find(function(C){return l(C.value,f)});E&&(f=E.value)}c.put(arguments,f)}return f}return d.clearCache=function(){return c.clear()},d}function rb(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function ib(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=0,d,f={memoizeOptions:void 0},m=l.pop();if(typeof m=="object"&&(f=m,m=l.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var E=f,C=E.memoizeOptions,T=C===void 0?n:C,P=Array.isArray(T)?T:[T],_=rb(l),y=t.apply(void 0,[function(){return c++,m.apply(null,arguments)}].concat(P)),I=t(function(){for(var U=[],j=_.length,S=0;S<j;S++)U.push(_[S].apply(null,arguments));return d=y.apply(null,U),d});return Object.assign(I,{resultFunc:m,memoizedResultFunc:y,dependencies:_,lastResult:function(){return d},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),I};return i}var Ki=ib(nb);const oT=t=>t.cart,ls=Ki([oT],t=>t.cartItems),sT=Ki([oT],t=>t.isCartOpen),ob=Ki([ls],t=>t.reduce((e,n)=>e+n.quantity,0)),aT=Ki([ls],t=>t.reduce((e,n)=>e+n.quantity*n.price,0)),sb=t=>B.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",...t},B.createElement("g",null,B.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),B.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),B.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),B.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),B.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null),B.createElement("g",null)),ab=oe(sb)`
  width: 24px;
  height: 24px;
`,lb=oe.div`
  width: 45px;
  height: 45px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
`,ub=oe.span`
  position: absolute;
  font-size: 10px;
  font-weight: bold;
  bottom: 12px;
`,cb=()=>{const t=hi(),e=Ht(sT),n=Ht(ob);return Ce(lb,{onClick:()=>t(QN(!e)),children:[$(ab,{className:"shoping-icon"}),$(ub,{children:n})]})},hh=oe.button`
  min-width: 165px;
  width: auto;
  height: 50px;
  letter-spacing: 0.5px;
  line-height: 50px;
  padding: 0 35px 0 35px;
  font-size: 15px;
  background-color: black;
  color: white;
  text-transform: uppercase;
  font-family: "Montserrat";
  font-weight: bolder;
  border: none;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;

  &:hover {
    background-color: white;
    color: black;
    border: 1px solid black;
  }
`,lT=oe(hh)`
  background-color: #4285f4;
  color: white;

  &:hover {
    background-color: #357ae8;
    border: none;
  }
`,uT=oe(hh)`
  background-color: white;
  color: black;
  border: 1px solid black;

  &:hover {
    background-color: black;
    color: white;
    border: none;
  }
`,hb=oe.div`
  display: inline-block;
  width: 30px;
  height: 30px;
  border: 3px solid rgba(195, 195, 195, 0.6);
  border-radius: 50%;
  border-top-color: #636767;
  animation: spin 1s ease-in-out infinite;
  -webkit-animation: spin 1s ease-in-out infinite;
  @keyframes spin {
    to {
      -webkit-transform: rotate(360deg);
    }
  }
  @-webkit-keyframes spin {
    to {
      -webkit-transform: rotate(360deg);
    }
  }
`,Pi={base:"base",google:"google-sign-in",inverted:"inverted"},db=(t=Pi.base)=>({[Pi.base]:hh,[Pi.google]:lT,[Pi.inverted]:uT})[t],Qo=({children:t,buttonType:e,isLoading:n=!1,...r})=>{const i=db(e);return $(i,{disabled:n,...r,children:n?$(hb,{}):t})},fb=oe.div`
  width: 100%;
  display: flex;
  height: 80px;
  margin-bottom: 15px;

  img {
    width: 30%;
  }
`,pb=oe.div`
  width: 70%;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  padding: 10px 20px;

  span {
    font-size: 16px;
  }
`,mb=({cartItem:t})=>{const{name:e,imageUrl:n,price:r,quantity:i}=t;return Ce(fb,{children:[$("img",{src:n,alt:`${e}`}),Ce(pb,{children:[$("span",{children:e}),Ce("span",{children:[i," * ",r," €"]})]})]})},cT=oe.div`
  position: absolute;
  width: 240px;
  height: 340px;
  display: flex;
  flex-direction: column;
  padding: 20px;
  border: 1px solid black;
  background-color: white;
  top: 90px;
  right: 40px;
  z-index: 5;
  ${hh},
  ${lT},
  ${uT}, {
    margin-top: auto;
  }
`,gb=oe.span`
  font-size: 18px;
  margin: 50px auto;

  /* ${cT} {
    position:
  } */
`,yb=oe.div`
  height: 240px;
  display: flex;
  flex-direction: column;
  overflow: scroll;
`,vb=()=>{const t=Ht(ls),e=Em(),n=()=>{e("/checkout")};return Ce(cT,{children:[$(yb,{children:t.length?t.map(r=>$(mb,{cartItem:r},r.id)):$(gb,{children:"Your cart is empty"})}),$(Qo,{onClick:n,children:"CHECKOUT"})]})},hT=t=>t.user.currentUser,_b=t=>B.createElement("svg",{width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t},B.createElement("title",null,"Group"),B.createElement("desc",null,"Created with Sketch."),B.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},B.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},B.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},B.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),B.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),B.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),B.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),B.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))),Eb=oe.div`
  height: 70px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  margin-bottom: 25px;
`,wb=oe(wm)`
  height: 100%;
  width: 70px;
  padding: 25px;
`,Sb=oe.div`
  width: 50%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-end;
`,Pd=oe(wm)`
  padding: 10px 15px;
  cursor: pointer;
`,Ze={CHECK_USER_SESSION:"user/CHECK_USER_SESSION",GOOGLE_SIGN_IN_START:"user/GOOGLE_SIGN_IN_START",EMAIL_SIGN_IN_START:"user/EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"user/SIGN_IN_SUCCESS",SIGN_IN_FAILED:"user/SIGN_IN_FAILED",SIGN_UP_START:"user/SIGN_UP_START",SIGN_UP_SUCCESS:"user/SIGN_UP_SUCCESS",SIGN_UP_FAILED:"user/SIGN_UP_FAILED",SIGN_OUT_START:"user/SIGN_OUT_START",SIGN_OUT_SUCCESS:"user/SIGN_OUT_SUCCESS",SIGN_OUT_FAILED:"user/SIGN_OUT_FAILED"},p_=()=>_t(Ze.CHECK_USER_SESSION),Tb=()=>_t(Ze.GOOGLE_SIGN_IN_START),Ib=(t,e)=>_t(Ze.EMAIL_SIGN_IN_START,{email:t,password:e}),Cb=t=>_t(Ze.SIGN_IN_SUCCESS,t),dh=t=>_t(Ze.SIGN_IN_FAILED,t),Ab=(t,e,n)=>_t(Ze.SIGN_UP_START,{email:t,password:e,displayName:n}),Rb=(t,e)=>_t(Ze.SIGN_UP_SUCCESS,{user:t,additionalDetails:e}),Pb=t=>_t(Ze.SIGN_UP_FAILED,t),kb=()=>_t(Ze.SIGN_OUT_START),xb=()=>_t(Ze.SIGN_OUT_SUCCESS),Nb=t=>_t(Ze.SIGN_OUT_FAILED,t),bb=()=>{const t=hi(),e=Ht(hT),n=Ht(sT),r=()=>t(kb());return Ce(B.Fragment,{children:[Ce(Eb,{children:[$(wb,{to:"/",children:$(_b,{className:"logo"})}),Ce(Sb,{children:[$(Pd,{to:"/shop",children:"SHOP"}),e?$(Pd,{as:"span",onClick:r,children:"SIGN OUT"}):$(Pd,{to:"/auth",children:"Sign In"}),$(cb,{})]}),n&&$(vb,{})]}),$(_S,{})]})},Ob=oe.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  height: 350px;
  align-items: center;
  position: relative;

  img {
    width: 100%;
    height: 95%;
    object-fit: cover;
    margin-bottom: 5px;
  }

  button {
    width: 80%;
    opacity: 0.7;
    position: absolute;
    top: 255px;
    display: none;
  }

  &:hover {
    img {
      opacity: 0.8;
    }

    button {
      opacity: 0.85;
      display: flex;
    }
  }
`,Db=oe.div`
  width: 100%;
  height: 5%;
  display: flex;
  justify-content: space-between;
  font-size: 18px;
`,Lb=oe.div`
  width: 90%;
  margin-bottom: 15px;
`,Vb=oe.div`
  width: 10%;
`,dT=({product:t})=>{const{name:e,price:n,imageUrl:r}=t,i=hi(),o=Ht(ls),s=()=>i(iT(o,t));return Ce(Ob,{children:[$("img",{src:r,alt:`${e}`}),Ce(Db,{children:[$(Lb,{as:"span",children:e}),Ce(Vb,{as:"span",children:[n," €"]})]}),$(Qo,{buttonType:Pi.inverted,onClick:s,children:"Add to card"})]})},Mb=oe.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 30px;
`,Ub=oe(wm)`
  font-size: 28px;
  margin-bottom: 25px;
  cursor: pointer;
`,Fb=oe.div`
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  column-gap: 20px;
`,jb=({title:t,products:e})=>Ce(Mb,{children:[$("h2",{children:$(Ub,{to:t,children:t.toUpperCase()})}),$(Fb,{children:e.filter((n,r)=>r<4).map(n=>$(dT,{product:n},n.id))})]}),fT=t=>t.categories,$b=Ki([fT],t=>t.categories),pT=Ki([$b],t=>t.reduce((e,n)=>{const{title:r,items:i}=n;return e[r.toLowerCase()]=i,e},{})),mT=Ki([fT],t=>t.isLoading),zb=oe.div`
  height: 60vh;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
`,Bb=oe.div`
  display: inline-block;
  width: 50px;
  height: 50px;
  border: 3px solid rgba(195, 195, 195, 0.6);
  border-radius: 50%;
  border-top-color: #636767;
  animation: spin 1s ease-in-out infinite;
  -webkit-animation: spin 1s ease-in-out infinite;
  @keyframes spin {
    to {
      -webkit-transform: rotate(360deg);
    }
  }
  @-webkit-keyframes spin {
    to {
      -webkit-transform: rotate(360deg);
    }
  }
`,gT=()=>$(zb,{children:$(Bb,{})}),Wb=()=>{const t=Ht(pT),e=Ht(mT);return $(B.Fragment,{children:e?$(gT,{}):Object.keys(t).map(n=>{const r=t[n];return $(jb,{title:n,products:r},n)})})},Hb=oe.div`
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  column-gap: 20px;
  row-gap: 50px;
`,qb=oe.h2`
  font-size: 38px;
  margin-bottom: 25px;
  text-align: center;
`,Gb=()=>{const{category:t}=sk();console.log("render/re-rendering category component");const e=Ht(pT),n=Ht(mT),[r,i]=B.useState(e[t]);return B.useEffect(()=>{console.log("effect fired calling setProducts"),i(e[t])},[t,e]),Ce(B.Fragment,{children:[$(qb,{children:t.toUpperCase()}),n?$(gT,{}):$(Hb,{children:r&&r.map(o=>$(dT,{product:o},o.id))})]})},Oi={FETCH_CATEGORIES_START:"category/FETCH_CATEGORIES_START",FETCH_CATEGORIES_SUCCESS:" category/FETCH_CATEGORIES_SUCCESS",FETCH_CATEGORIES_FAILED:"category/FETCH_CATEGORIES_FAILED"},Kb=()=>_t(Oi.FETCH_CATEGORIES_START),Qb=t=>_t(Oi.FETCH_CATEGORIES_SUCCESS,t),Yb=t=>_t(Oi.FETCH_CATEGORIES_FAILED,t),Xb=()=>{const t=hi();return B.useEffect(()=>{t(Kb())},[]),Ce(ES,{children:[$(Nr,{index:!0,element:$(Wb,{})}),$(Nr,{path:":category",element:$(Gb,{})})]})},Kf="grey",Jb="black",yT=JS`
  top: -14px;
  font-size: 12px;
  color: ${Jb};
`,vT=oe.label`
  color: ${Kf};
  font-size: 16px;
  font-weight: normal;
  position: absolute;
  pointer-events: none;
  left: 5px;
  top: 10px;
  transition: 300ms ease all;
  ${({shrink:t})=>t&&yT};
`,Zb=oe.input`
  background: none;
  background-color: white;
  color: ${Kf};
  font-size: 18px;
  padding: 10px 10px 10px 5px;
  display: block;
  border: none;
  width: 100%;
  border-radius: 0;
  border-bottom: 1px solid ${Kf};
  margin: 25px 0;

  &:focus {
    outline: none;
  }
  &:focus ~ ${vT} {
    ${yT};
  }
`,eO=oe.div`
  position: relative;
  margin: 45px 0;

  input[type="password"] {
    letter-spacing: 0.3em;
  }
`,Co=({label:t,...e})=>Ce(eO,{children:[$(Zb,{...e}),t&&$(vT,{shrink:e.value.length,children:t})]}),tO=oe.div`
  display: flex;
  flex-direction: column;
  width: 400px;
  h2 {
    margin: 10px 0;
  }
`,m_={displayName:"",email:"",password:"",confirmPassword:""},nO=()=>{const[t,e]=B.useState(m_),{displayName:n,email:r,password:i,confirmPassword:o}=t,s=hi(),l=()=>{e(m_)},u=d=>{if(d.preventDefault(),i!==o){alert("you have to have the same password");return}try{s(Ab(r,i,n)),l()}catch(f){f.code==="auth/email-already-in-use"?alert("This email have an account, Cannot create User"):console.log("user creation encountered an error",f)}},c=d=>{const{name:f,value:m}=d.target;e({...t,[f]:m})};return Ce(tO,{children:[$("h2",{children:"Don't have an account?"}),$("span",{children:"Sign up with your email and password "}),Ce("form",{onSubmit:u,children:[$(Co,{label:"Display Name",type:"text",required:!0,name:"displayName",value:n,onChange:c}),$(Co,{label:"Email",type:"text",value:r,name:"email",required:!0,autoComplete:"none",onChange:c}),$(Co,{label:"Password",type:"text",value:i,required:!0,name:"password",autoComplete:"none",onChange:c}),$(Co,{label:"Confirm Password",type:"password",required:!0,name:"confirmPassword",value:o,onChange:c}),$(Qo,{type:"submit",children:"Sign Up"})]})]})},rO=oe.div`
  display: flex;
  flex-direction: column;
  width: 400px;

  h2 {
    margin: 10px 0;
  }
`,iO=oe.div`
  display: flex;
  justify-content: space-between;
`,g_={email:"",password:""},oO=()=>{const t=hi(),[e,n]=B.useState(g_),{email:r,password:i}=e,o=()=>{n(g_)},s=async()=>{t(Tb())},l=async c=>{c.preventDefault();try{t(Ib(r,i)),o()}catch(d){console.log("user sign in failed",d)}},u=c=>{const{name:d,value:f}=c.target;n({...e,[d]:f})};return Ce(rO,{children:[$("h2",{children:"Already have an account?"}),$("span",{children:"Sign in with your email and password "}),Ce("form",{onSubmit:l,children:[$(Co,{label:"Email",type:"text",value:r,name:"email",required:!0,autoComplete:"none",onChange:u}),$(Co,{label:"Password",type:"password",value:i,required:!0,name:"password",autoComplete:"none",onChange:u}),Ce(iO,{children:[$(Qo,{type:"submit",children:"Sign In"}),$(Qo,{type:"button",buttonType:Pi.google,onClick:s,children:"Google Sign In"})]})]})]})},sO=oe.div`
  display: flex;
  justify-content: space-between;
  width: 1000px;
  margin: 30px auto;
`,aO=()=>Ce(sO,{children:[$(oO,{}),$(nO,{})]}),lO=oe.div`
  height: 300px;
  diplay: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,uO=oe.form`
  height: 100px;
  min-width: 500px;
`,cO=oe(Qo)`
  margin-left: auto;
  margin-top: 30px;
`,hO=()=>{const t=tN(),e=Yx(),n=Ht(aT),r=Ht(hT),[i,o]=B.useState(!1);return $(lO,{children:Ce(uO,{onSubmit:async l=>{if(l.preventDefault(),!t||!e)return;o(!0);const u=await fetch("/.netlify/functions/create-payment-intent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:n*100,currency:"eur"})}).then(f=>(console.log("sk_test_51MbLpdEljwDqMhtr0lYOnY1qKhC6vyLakldFm1poZzVx6sB6X2Amu6ZivSz9hioRoeit5PJnUxUHFsPI4O0jsUne004ASNukZt"),console.log("pk_test_51MbLpdEljwDqMhtrR9nBATtjKNUroxovpWaLcfVBvMbzWXsAXT8rJG6qWlF10kgtawsYwLSb1zYoQjYLKRPNVc3Q00EeAstSMjR"),f.json()));console.log(u);const c=u.paymentIntent.client_secret,d=await t.confirmCardPayment(c,{payment_method:{card:e.getElement(o_),billing_details:{name:r?r.displayName:"Guest",email:"thomas86.cornu@gmail.com"}}});o(!1),d.error?alert(d.error.message):d.paymentIntent.status==="succeeded"&&alert("Payment successful")},children:[$("h2",{children:"Credit Cart Payment: "}),$(o_,{}),$(cO,{buttonType:Pi.inverted,isLoading:i,disabled:!t,children:"Pay Now"})]})})},dO=oe.div`
  width: 100%;
  display: flex;
  min-height: 100px;
  border-bottom: 1px solid darkgrey;
  padding: 15px 0;
  font-size: 20px;
  align-items: center;
`,fO=oe.div`
  width: 23%;
  padding-right: 15px;
  img {
    width: 100%;
    height: 100%;
  }
`,Qf=oe.span`
  width: 23%;
  padding-right: 15px;
`,pO=oe(Qf)`
  display: flex;
`,y_=oe.div`
  cursor: pointer;
`,mO=oe.span`
  margin: 0 10px;
`,gO=oe.div`
  padding-left: 12px;
  cursor: pointer;
`,yO=({cartItem:t})=>{const{name:e,imageUrl:n,price:r,quantity:i}=t,o=Ht(ls),s=hi(),l=()=>s(XN(o,t)),u=()=>s(iT(o,t)),c=()=>s(YN(o,t));return Ce(dO,{children:[$(fO,{children:$("img",{src:n,alt:`${e}`})}),Ce(Qf,{children:[" ",e," "]}),Ce(pO,{children:[$(y_,{onClick:c,children:"❮"}),$(mO,{children:i}),$(y_,{onClick:u,children:"❯"})]}),$(Qf,{children:r}),$(gO,{onClick:l,children:"✕"})]})},vO=oe.div`
  width: 55%;
  min-height: 90vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 50px auto 0;
`,_O=oe.div`
  width: 100%;
  padding: 10px 0;
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid darkgrey;
`,Fs=oe.div`
  text-transform: capitalize;
  width: 23%;

  &:last-child {
    width: 10%;
  }
`,EO=oe.span`
  margin-top: 30px;
  margin-left: auto;
  font-size: 36px;
`,wO=()=>{const t=Ht(ls),e=Ht(aT);return Ce(vO,{children:[Ce(_O,{children:[$(Fs,{children:$("span",{children:"Product"})}),$(Fs,{children:$("span",{children:"Description"})}),$(Fs,{children:$("span",{children:"Quantity"})}),$(Fs,{children:$("span",{children:"Price"})}),$(Fs,{children:$("span",{children:"Remove"})})]}),t.map(n=>$(yO,{cartItem:n},n.id)),Ce(EO,{children:["Total TTC: ",e," €"]}),$(hO,{})]})},SO=()=>{const t=hi(p_());return B.useEffect(()=>{t(p_())},[]),$(ES,{children:Ce(Nr,{path:"/",element:$(bb,{}),children:[$(Nr,{index:!0,element:$(HN,{})}),$(Nr,{path:"shop/*",element:$(Xb,{})}),$(Nr,{path:"auth",element:$(aO,{})}),$(Nr,{path:"checkout",element:$(wO,{})})]})})};var _T="https://js.stripe.com/v3",TO=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,v_="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",IO=function(){for(var e=document.querySelectorAll('script[src^="'.concat(_T,'"]')),n=0;n<e.length;n++){var r=e[n];if(TO.test(r.src))return r}return null},CO=function(e){var n="",r=document.createElement("script");r.src="".concat(_T).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},AO=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:n})},Hl=null,RO=function(e){return Hl!==null||(Hl=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(v_),window.Stripe){n(window.Stripe);return}try{var i=IO();i&&e?console.warn(v_):i||(i=CO(e)),i.addEventListener("load",function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(o){r(o);return}})),Hl},PO=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return AO(i,r),i},ET=Promise.resolve().then(function(){return RO(null)}),wT=!1;ET.catch(function(t){wT||console.warn(t)});var kO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];wT=!0;var i=Date.now();return ET.then(function(o){return PO(o,n,i)})};const xO=kO("pk_test_51MbLpdEljwDqMhtrR9nBATtjKNUroxovpWaLcfVBvMbzWXsAXT8rJG6qWlF10kgtawsYwLSb1zYoQjYLKRPNVc3Q00EeAstSMjR");function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function NO(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bO(t){var e=NO(t,"string");return Oa(e)=="symbol"?e:e+""}function OO(t,e,n){return(e=bO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){OO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var w_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),kd=function(){return Math.random().toString(36).substring(7).split("").join(".")},sc={INIT:"@@redux/INIT"+kd(),REPLACE:"@@redux/REPLACE"+kd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+kd()}};function DO(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function bm(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lt(1));return n(bm)(t,e)}if(typeof t!="function")throw new Error(Lt(2));var i=t,o=e,s=[],l=s,u=!1;function c(){l===s&&(l=s.slice())}function d(){if(u)throw new Error(Lt(3));return o}function f(T){if(typeof T!="function")throw new Error(Lt(4));if(u)throw new Error(Lt(5));var P=!0;return c(),l.push(T),function(){if(P){if(u)throw new Error(Lt(6));P=!1,c();var y=l.indexOf(T);l.splice(y,1),s=null}}}function m(T){if(!DO(T))throw new Error(Lt(7));if(typeof T.type>"u")throw new Error(Lt(8));if(u)throw new Error(Lt(9));try{u=!0,o=i(o,T)}finally{u=!1}for(var P=s=l,_=0;_<P.length;_++){var y=P[_];y()}return T}function E(T){if(typeof T!="function")throw new Error(Lt(10));i=T,m({type:sc.REPLACE})}function C(){var T,P=f;return T={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Lt(11));function I(){y.next&&y.next(d())}I();var x=P(I);return{unsubscribe:x}}},T[w_]=function(){return this},T}return m({type:sc.INIT}),r={dispatch:m,subscribe:f,getState:d,replaceReducer:E},r[w_]=C,r}function LO(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:sc.INIT});if(typeof r>"u")throw new Error(Lt(12));if(typeof n(void 0,{type:sc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function VO(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{LO(n)}catch(l){s=l}return function(u,c){if(u===void 0&&(u={}),s)throw s;for(var d=!1,f={},m=0;m<o.length;m++){var E=o[m],C=n[E],T=u[E],P=C(T,c);if(typeof P>"u")throw c&&c.type,new Error(Lt(14));f[E]=P,d=d||P!==T}return d=d||o.length!==Object.keys(u).length,d?f:u}}function ST(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function MO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Lt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=e.map(function(u){return u(s)});return o=ST.apply(void 0,l)(i.dispatch),E_(E_({},i),{},{dispatch:o})}}}var S_={exports:{}};(function(t,e){(function(n,r){r(e)})(xs,function(n){function r(O,b){O.super_=b,O.prototype=Object.create(b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}})}function i(O,b){Object.defineProperty(this,"kind",{value:O,enumerable:!0}),b&&b.length&&Object.defineProperty(this,"path",{value:b,enumerable:!0})}function o(O,b,k){o.super_.call(this,"E",O),Object.defineProperty(this,"lhs",{value:b,enumerable:!0}),Object.defineProperty(this,"rhs",{value:k,enumerable:!0})}function s(O,b){s.super_.call(this,"N",O),Object.defineProperty(this,"rhs",{value:b,enumerable:!0})}function l(O,b){l.super_.call(this,"D",O),Object.defineProperty(this,"lhs",{value:b,enumerable:!0})}function u(O,b,k){u.super_.call(this,"A",O),Object.defineProperty(this,"index",{value:b,enumerable:!0}),Object.defineProperty(this,"item",{value:k,enumerable:!0})}function c(O,b,k){var M=O.slice(b+1||O.length);return O.length=b<0?O.length+b:b,O.push.apply(O,M),O}function d(O){var b=typeof O>"u"?"undefined":fe(O);return b!=="object"?b:O===Math?"math":O===null?"null":Array.isArray(O)?"array":Object.prototype.toString.call(O)==="[object Date]"?"date":typeof O.toString=="function"&&/^\/.*\//.test(O.toString())?"regexp":"object"}function f(O,b,k,M,q,L,Y){q=q||[],Y=Y||[];var z=q.slice(0);if(typeof L<"u"){if(M){if(typeof M=="function"&&M(z,L))return;if((typeof M>"u"?"undefined":fe(M))==="object"){if(M.prefilter&&M.prefilter(z,L))return;if(M.normalize){var ge=M.normalize(z,L,O,b);ge&&(O=ge[0],b=ge[1])}}}z.push(L)}d(O)==="regexp"&&d(b)==="regexp"&&(O=O.toString(),b=b.toString());var ue=typeof O>"u"?"undefined":fe(O),ae=typeof b>"u"?"undefined":fe(b),ee=ue!=="undefined"||Y&&Y[Y.length-1].lhs&&Y[Y.length-1].lhs.hasOwnProperty(L),Te=ae!=="undefined"||Y&&Y[Y.length-1].rhs&&Y[Y.length-1].rhs.hasOwnProperty(L);if(!ee&&Te)k(new s(z,b));else if(!Te&&ee)k(new l(z,O));else if(d(O)!==d(b))k(new o(z,O,b));else if(d(O)==="date"&&O-b!==0)k(new o(z,O,b));else if(ue==="object"&&O!==null&&b!==null)if(Y.filter(function(re){return re.lhs===O}).length)O!==b&&k(new o(z,O,b));else{if(Y.push({lhs:O,rhs:b}),Array.isArray(O)){var he;for(O.length,he=0;he<O.length;he++)he>=b.length?k(new u(z,he,new l(void 0,O[he]))):f(O[he],b[he],k,M,z,he,Y);for(;he<b.length;)k(new u(z,he,new s(void 0,b[he++])))}else{var pe=Object.keys(O),xe=Object.keys(b);pe.forEach(function(re,Ve){var Qt=xe.indexOf(re);Qt>=0?(f(O[re],b[re],k,M,z,re,Y),xe=c(xe,Qt)):f(O[re],void 0,k,M,z,re,Y)}),xe.forEach(function(re){f(void 0,b[re],k,M,z,re,Y)})}Y.length=Y.length-1}else O!==b&&(ue==="number"&&isNaN(O)&&isNaN(b)||k(new o(z,O,b)))}function m(O,b,k,M){return M=M||[],f(O,b,function(q){q&&M.push(q)},k),M.length?M:void 0}function E(O,b,k){if(k.path&&k.path.length){var M,q=O[b],L=k.path.length-1;for(M=0;M<L;M++)q=q[k.path[M]];switch(k.kind){case"A":E(q[k.path[M]],k.index,k.item);break;case"D":delete q[k.path[M]];break;case"E":case"N":q[k.path[M]]=k.rhs}}else switch(k.kind){case"A":E(O[b],k.index,k.item);break;case"D":O=c(O,b);break;case"E":case"N":O[b]=k.rhs}return O}function C(O,b,k){if(O&&b&&k&&k.kind){for(var M=O,q=-1,L=k.path?k.path.length-1:0;++q<L;)typeof M[k.path[q]]>"u"&&(M[k.path[q]]=typeof k.path[q]=="number"?[]:{}),M=M[k.path[q]];switch(k.kind){case"A":E(k.path?M[k.path[q]]:M,k.index,k.item);break;case"D":delete M[k.path[q]];break;case"E":case"N":M[k.path[q]]=k.rhs}}}function T(O,b,k){if(k.path&&k.path.length){var M,q=O[b],L=k.path.length-1;for(M=0;M<L;M++)q=q[k.path[M]];switch(k.kind){case"A":T(q[k.path[M]],k.index,k.item);break;case"D":q[k.path[M]]=k.lhs;break;case"E":q[k.path[M]]=k.lhs;break;case"N":delete q[k.path[M]]}}else switch(k.kind){case"A":T(O[b],k.index,k.item);break;case"D":O[b]=k.lhs;break;case"E":O[b]=k.lhs;break;case"N":O=c(O,b)}return O}function P(O,b,k){if(O&&b&&k&&k.kind){var M,q,L=O;for(q=k.path.length-1,M=0;M<q;M++)typeof L[k.path[M]]>"u"&&(L[k.path[M]]={}),L=L[k.path[M]];switch(k.kind){case"A":T(L[k.path[M]],k.index,k.item);break;case"D":L[k.path[M]]=k.lhs;break;case"E":L[k.path[M]]=k.lhs;break;case"N":delete L[k.path[M]]}}}function _(O,b,k){if(O&&b){var M=function(q){k&&!k(O,b,q)||C(O,b,q)};f(O,b,M)}}function y(O){return"color: "+K[O].color+"; font-weight: bold"}function I(O){var b=O.kind,k=O.path,M=O.lhs,q=O.rhs,L=O.index,Y=O.item;switch(b){case"E":return[k.join("."),M,"→",q];case"N":return[k.join("."),q];case"D":return[k.join(".")];case"A":return[k.join(".")+"["+L+"]",Y];default:return[]}}function x(O,b,k,M){var q=m(O,b);try{M?k.groupCollapsed("diff"):k.group("diff")}catch{k.log("diff")}q?q.forEach(function(L){var Y=L.kind,z=I(L);k.log.apply(k,["%c "+K[Y].text,y(Y)].concat(kt(z)))}):k.log("—— no diff ——");try{k.groupEnd()}catch{k.log("—— diff end —— ")}}function U(O,b,k,M){switch(typeof O>"u"?"undefined":fe(O)){case"object":return typeof O[M]=="function"?O[M].apply(O,kt(k)):O[M];case"function":return O(b);default:return O}}function j(O){var b=O.timestamp,k=O.duration;return function(M,q,L){var Y=["action"];return Y.push("%c"+String(M.type)),b&&Y.push("%c@ "+q),k&&Y.push("%c(in "+L.toFixed(2)+" ms)"),Y.join(" ")}}function S(O,b){var k=b.logger,M=b.actionTransformer,q=b.titleFormatter,L=q===void 0?j(b):q,Y=b.collapsed,z=b.colors,ge=b.level,ue=b.diff,ae=typeof b.titleFormatter>"u";O.forEach(function(ee,Te){var he=ee.started,pe=ee.startedTime,xe=ee.action,re=ee.prevState,Ve=ee.error,Qt=ee.took,Ne=ee.nextState,In=O[Te+1];In&&(Ne=In.prevState,Qt=In.started-he);var ft=M(xe),pt=typeof Y=="function"?Y(function(){return Ne},xe,ee):Y,se=R(pe),Me=z.title?"color: "+z.title(ft)+";":"",Ue=["color: gray; font-weight: lighter;"];Ue.push(Me),b.timestamp&&Ue.push("color: gray; font-weight: lighter;"),b.duration&&Ue.push("color: gray; font-weight: lighter;");var je=L(ft,se,Qt);try{pt?z.title&&ae?k.groupCollapsed.apply(k,["%c "+je].concat(Ue)):k.groupCollapsed(je):z.title&&ae?k.group.apply(k,["%c "+je].concat(Ue)):k.group(je)}catch{k.log(je)}var Et=U(ge,ft,[re],"prevState"),eo=U(ge,ft,[ft],"action"),to=U(ge,ft,[Ve,re],"error"),gs=U(ge,ft,[Ne],"nextState");if(Et)if(z.prevState){var gi="color: "+z.prevState(re)+"; font-weight: bold";k[Et]("%c prev state",gi,re)}else k[Et]("prev state",re);if(eo)if(z.action){var ul="color: "+z.action(ft)+"; font-weight: bold";k[eo]("%c action    ",ul,ft)}else k[eo]("action    ",ft);if(Ve&&to)if(z.error){var cl="color: "+z.error(Ve,re)+"; font-weight: bold;";k[to]("%c error     ",cl,Ve)}else k[to]("error     ",Ve);if(gs)if(z.nextState){var ys="color: "+z.nextState(Ne)+"; font-weight: bold";k[gs]("%c next state",ys,Ne)}else k[gs]("next state",Ne);ue&&x(re,Ne,k,pt);try{k.groupEnd()}catch{k.log("—— log end ——")}})}function v(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=Object.assign({},te,O),k=b.logger,M=b.stateTransformer,q=b.errorTransformer,L=b.predicate,Y=b.logErrors,z=b.diffPredicate;if(typeof k>"u")return function(){return function(ue){return function(ae){return ue(ae)}}};if(O.getState&&O.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(ue){return function(ae){return ue(ae)}}};var ge=[];return function(ue){var ae=ue.getState;return function(ee){return function(Te){if(typeof L=="function"&&!L(ae,Te))return ee(Te);var he={};ge.push(he),he.started=ke.now(),he.startedTime=new Date,he.prevState=M(ae()),he.action=Te;var pe=void 0;if(Y)try{pe=ee(Te)}catch(re){he.error=q(re)}else pe=ee(Te);he.took=ke.now()-he.started,he.nextState=M(ae());var xe=b.diff&&typeof z=="function"?z(ae,Te):b.diff;if(S(ge,Object.assign({},b,{diff:xe})),ge.length=0,he.error)throw he.error;return pe}}}}var w,A,N=function(O,b){return new Array(b+1).join(O)},D=function(O,b){return N("0",b-O.toString().length)+O},R=function(O){return D(O.getHours(),2)+":"+D(O.getMinutes(),2)+":"+D(O.getSeconds(),2)+"."+D(O.getMilliseconds(),3)},ke=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},kt=function(O){if(Array.isArray(O)){for(var b=0,k=Array(O.length);b<O.length;b++)k[b]=O[b];return k}return Array.from(O)},ve=[];w=(typeof xs>"u"?"undefined":fe(xs))==="object"&&xs?xs:typeof window<"u"?window:{},A=w.DeepDiff,A&&ve.push(function(){typeof A<"u"&&w.DeepDiff===m&&(w.DeepDiff=A,A=void 0)}),r(o,i),r(s,i),r(l,i),r(u,i),Object.defineProperties(m,{diff:{value:m,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:_,enumerable:!0},applyChange:{value:C,enumerable:!0},revertChange:{value:P,enumerable:!0},isConflict:{value:function(){return typeof A<"u"},enumerable:!0},noConflict:{value:function(){return ve&&(ve.forEach(function(O){O()}),ve=null),m},enumerable:!0}});var K={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},te={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(O){return O},actionTransformer:function(O){return O},errorTransformer:function(O){return O},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},ne=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=O.dispatch,k=O.getState;return typeof b=="function"||typeof k=="function"?v()({dispatch:b,getState:k}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};n.defaults=te,n.createLogger=v,n.logger=ne,n.default=ne,Object.defineProperty(n,"__esModule",{value:!0})})})(S_,S_.exports);var Om="persist:",TT="persist/FLUSH",Dm="persist/REHYDRATE",IT="persist/PAUSE",CT="persist/PERSIST",AT="persist/PURGE",RT="persist/REGISTER",UO=-1;function mu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(n){return typeof n}:mu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mu(t)}function T_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(n,!0).forEach(function(r){jO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $O(t,e,n,r){r.debug;var i=FO({},n);return t&&mu(t)==="object"&&Object.keys(t).forEach(function(o){o!=="_persist"&&e[o]===n[o]&&(i[o]=t[o])}),i}function zO(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,o="".concat(t.keyPrefix!==void 0?t.keyPrefix:Om).concat(t.key),s=t.storage,l;t.serialize===!1?l=function(U){return U}:typeof t.serialize=="function"?l=t.serialize:l=BO;var u=t.writeFailHandler||null,c={},d={},f=[],m=null,E=null,C=function(U){Object.keys(U).forEach(function(j){_(j)&&c[j]!==U[j]&&f.indexOf(j)===-1&&f.push(j)}),Object.keys(c).forEach(function(j){U[j]===void 0&&_(j)&&f.indexOf(j)===-1&&c[j]!==void 0&&f.push(j)}),m===null&&(m=setInterval(T,i)),c=U};function T(){if(f.length===0){m&&clearInterval(m),m=null;return}var x=f.shift(),U=r.reduce(function(j,S){return S.in(j,x,c)},c[x]);if(U!==void 0)try{d[x]=l(U)}catch(j){console.error("redux-persist/createPersistoid: error serializing state",j)}else delete d[x];f.length===0&&P()}function P(){Object.keys(d).forEach(function(x){c[x]===void 0&&delete d[x]}),E=s.setItem(o,l(d)).catch(y)}function _(x){return!(n&&n.indexOf(x)===-1&&x!=="_persist"||e&&e.indexOf(x)!==-1)}function y(x){u&&u(x)}var I=function(){for(;f.length!==0;)T();return E||Promise.resolve()};return{update:C,flush:I}}function BO(t){return JSON.stringify(t)}function WO(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Om).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(s){return s}:typeof t.deserialize=="function"?i=t.deserialize:i=HO,r.getItem(n).then(function(o){if(o)try{var s={},l=i(o);return Object.keys(l).forEach(function(u){s[u]=e.reduceRight(function(c,d){return d.out(c,u,l)},i(l[u]))}),s}catch(u){throw u}else return})}function HO(t){return JSON.parse(t)}function qO(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Om).concat(t.key);return e.removeItem(n,GO)}function GO(t){}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(n,!0).forEach(function(r){KO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QO(t,e){if(t==null)return{};var n=YO(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XO=5e3;function JO(t,e){var n=t.version!==void 0?t.version:UO;t.debug;var r=t.stateReconciler===void 0?$O:t.stateReconciler,i=t.getStoredState||WO,o=t.timeout!==void 0?t.timeout:XO,s=null,l=!1,u=!0,c=function(f){return f._persist.rehydrated&&s&&!u&&s.update(f),f};return function(d,f){var m=d||{},E=m._persist,C=QO(m,["_persist"]),T=C;if(f.type===CT){var P=!1,_=function(v,w){P||(f.rehydrate(t.key,v,w),P=!0)};if(o&&setTimeout(function(){!P&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},o),u=!1,s||(s=zO(t)),E)return Yn({},e(T,f),{_persist:E});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(t.key),i(t).then(function(S){var v=t.migrate||function(w,A){return Promise.resolve(w)};v(S,n).then(function(w){_(w)},function(w){_(void 0,w)})},function(S){_(void 0,S)}),Yn({},e(T,f),{_persist:{version:n,rehydrated:!1}})}else{if(f.type===AT)return l=!0,f.result(qO(t)),Yn({},e(T,f),{_persist:E});if(f.type===TT)return f.result(s&&s.flush()),Yn({},e(T,f),{_persist:E});if(f.type===IT)u=!0;else if(f.type===Dm){if(l)return Yn({},T,{_persist:Yn({},E,{rehydrated:!0})});if(f.key===t.key){var y=e(T,f),I=f.payload,x=r!==!1&&I!==void 0?r(I,d,y,t):y,U=Yn({},x,{_persist:Yn({},E,{rehydrated:!0})});return c(U)}}}if(!E)return e(d,f);var j=e(T,f);return j===T?d:c(Yn({},j,{_persist:E}))}}function C_(t){return tD(t)||eD(t)||ZO()}function ZO(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function eD(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function tD(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function A_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A_(n,!0).forEach(function(r){nD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PT={registry:[],bootstrapped:!1},rD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PT,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case RT:return Yf({},e,{registry:[].concat(C_(e.registry),[n.key])});case Dm:var r=e.registry.indexOf(n.key),i=C_(e.registry);return i.splice(r,1),Yf({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function iD(t,e,n){var r=bm(rD,PT,void 0),i=function(u){r.dispatch({type:RT,key:u})},o=function(u,c,d){var f={type:Dm,payload:c,err:d,key:u};t.dispatch(f),r.dispatch(f)},s=Yf({},r,{purge:function(){var u=[];return t.dispatch({type:AT,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:TT,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:IT})},persist:function(){t.dispatch({type:CT,register:i,rehydrate:o})}});return s.persist(),s}var Lm={},Vm={};Vm.__esModule=!0;Vm.default=aD;function gu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gu=function(n){return typeof n}:gu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gu(t)}function xd(){}var oD={getItem:xd,setItem:xd,removeItem:xd};function sD(t){if((typeof self>"u"?"undefined":gu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function aD(t){var e="".concat(t,"Storage");return sD(e)?self[e]:oD}Lm.__esModule=!0;Lm.default=cD;var lD=uD(Vm);function uD(t){return t&&t.__esModule?t:{default:t}}function cD(t){var e=(0,lD.default)(t);return{getItem:function(r){return new Promise(function(i,o){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(o,s){o(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,o){i(e.removeItem(r))})}}}var kT=void 0,hD=dD(Lm);function dD(t){return t&&t.__esModule?t:{default:t}}var fD=(0,hD.default)("local");kT=fD;const pD={currentUser:null,isLoading:!1,error:null},mD=(t=pD,e)=>{const{type:n,payload:r}=e;switch(n){case Ze.SIGN_IN_SUCCESS:return{...t,currentUser:r};case Ze.SIGN_OUT_SUCCESS:return{...t,currentUser:null};case Ze.SIGN_OUT_FAILED:case Ze.SIGN_IN_FAILED:case Ze.SIGN_UP_FAILED:return{...t,error:r};default:return t}},gD={categories:[],isLoading:!1,error:null},yD=(t=gD,e={})=>{const{type:n,payload:r}=e;switch(n){case Oi.FETCH_CATEGORIES_START:return{...t,isLoading:!0};case Oi.FETCH_CATEGORIES_SUCCESS:return{...t,categories:r,isLoading:!1};case Oi.FETCH_CATEGORIES_FAILED:return{...t,error:r,isLoading:!1};default:return t}},vD={isCartOpen:!1,cartItems:[]},_D=(t=vD,e={})=>{const{type:n,payload:r}=e;switch(n){case Ko.SET_CART_ITEMS:return{...t,cartItems:r};case Ko.SET_IS_CART_OPEN:return{...t,isCartOpen:r};default:return t}},ED=VO({user:mD,categories:yD,cart:_D});var Mn=function(e){return"@@redux-saga/"+e},wD=Mn("CANCEL_PROMISE"),xT=Mn("CHANNEL_END"),NT=Mn("IO"),R_=Mn("MATCH"),bT=Mn("MULTICAST"),OT=Mn("SAGA_ACTION"),DT=Mn("SELF_CANCELLATION"),SD=Mn("TASK"),bo=Mn("TASK_CANCEL"),LT=Mn("TERMINATE"),TD=Mn("LOCATION"),VT=function(e){return e==null},yu=function(e){return e!=null},rn=function(e){return typeof e=="function"},Mm=function(e){return typeof e=="string"},di=Array.isArray,fh=function(e){return e&&rn(e.then)},Um=function(e){return e&&rn(e.next)&&rn(e.throw)},P_=function t(e){return e&&(Mm(e)||UT(e)||rn(e)||di(e)&&e.every(t))},Fm=function(e){return e&&rn(e.take)&&rn(e.close)},MT=function(e){return rn(e)&&e.hasOwnProperty("toString")},UT=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},ID=function(e){return Fm(e)&&e[bT]},CD=function(e){return function(){return e}},AD=CD(!0),Bt=function(){},RD=function(e){return e},jm=function(e,n){nc(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},PD=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function ph(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function kD(t){var e=!1;return function(){e||(e=!0,t())}}var xD=function(e){throw e},ND=function(e){return{value:e,done:!0}};function Xf(t,e,n){e===void 0&&(e=xD),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:ND,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function bD(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var FT=function(e){return Array.apply(null,new Array(e))},OD=function(e){return function(n){return e(Object.defineProperty(n,OT,{value:!0}))}},jT=function(e){return e===LT},$T=function(e){return e===bo},zT=function(e){return jT(e)||$T(e)};function BT(t,e){var n=Object.keys(t),r=n.length,i=0,o,s=di(t)?FT(r):{},l={};function u(){i===r&&(o=!0,e(s))}return n.forEach(function(c){var d=function(m,E){o||(E||zT(m)?(e.cancel(),e(m,E)):(s[c]=m,i++,u()))};d.cancel=Bt,l[c]=d}),e.cancel=function(){o||(o=!0,n.forEach(function(c){return l[c].cancel()}))},l}function $m(t){return{name:t.name||"anonymous",location:WT(t)}}function WT(t){return t[TD]}function DD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}var LD="Channel's Buffer overflow!",VD=1,MD=3,HT=4;function UD(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,o=0,s=function(d){n[i]=d,i=(i+1)%t,r++},l=function(){if(r!=0){var d=n[o];return n[o]=null,r--,o=(o+1)%t,d}},u=function(){for(var d=[];r;)d.push(l());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<t)s(d);else{var f;switch(e){case VD:throw new Error(LD);case MD:n[i]=d,i=(i+1)%t,o=i;break;case HT:f=2*t,n=u(),r=n.length,i=n.length,o=0,n.length=f,t=f,s(d);break}}},take:l,flush:u}}var FD=function(e){return UD(e,HT)},vu="TAKE",qT="PUT",GT="ALL",jD="RACE",KT="CALL",$D="CPS",QT="FORK",zD="JOIN",YT="CANCEL",BD="SELECT",WD="ACTION_CHANNEL",HD="CANCELLED",qD="FLUSH",GD="GET_CONTEXT",KD="SET_CONTEXT",Qr=function(e,n){var r;return r={},r[NT]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function QD(t,e){if(t===void 0&&(t="*"),P_(t))return yu(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Qr(vu,{pattern:t});if(ID(t)&&yu(e)&&P_(e))return Qr(vu,{channel:t,pattern:e});if(Fm(t))return yu(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Qr(vu,{channel:t})}function qn(t,e){return VT(e)&&(e=t,t=void 0),Qr(qT,{channel:t,action:e})}function zm(t){var e=Qr(GT,t);return e.combinator=!0,e}function XT(t,e){var n=null,r;return rn(t)?r=t:(di(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&Mm(r)&&rn(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Qr(KT,XT(t,n))}function JT(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Qr(QT,XT(t,n))}function YD(t){return t===void 0&&(t=DT),Qr(YT,t)}function XD(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var ZT=[],mh=0;function JD(t){try{Bm(),t()}finally{n1()}}function e1(t){ZT.push(t),mh||(Bm(),r1())}function t1(t){try{return Bm(),t()}finally{r1()}}function Bm(){mh++}function n1(){mh--}function r1(){n1();for(var t;!mh&&(t=ZT.shift())!==void 0;)JD(t)}var ZD=function(e){return function(n){return e.some(function(r){return Wm(r)(n)})}},e2=function(e){return function(n){return e(n)}},k_=function(e){return function(n){return n.type===String(e)}},t2=function(e){return function(n){return n.type===e}},i1=function(){return AD};function Wm(t){var e=t==="*"?i1:Mm(t)?k_:di(t)?ZD:MT(t)?k_:rn(t)?e2:UT(t)?t2:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var sa={type:xT},Hm=function(e){return e&&e.type===xT};function n2(t){t===void 0&&(t=FD());var e=!1,n=[];function r(l){if(!e){if(n.length===0)return t.put(l);var u=n.shift();u(l)}}function i(l){e&&t.isEmpty()?l(sa):t.isEmpty()?(n.push(l),l.cancel=function(){ph(n,l)}):l(t.take())}function o(l){if(e&&t.isEmpty()){l(sa);return}l(t.flush())}function s(){if(!e){e=!0;var l=n;n=[];for(var u=0,c=l.length;u<c;u++){var d=l[u];d(sa)}}}return{take:i,put:r,flush:o,close:s}}function r2(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},o=function(){e=!0;var l=n=r;r=[],l.forEach(function(u){u(sa)})};return t={},t[bT]=!0,t.put=function(l){if(!e){if(Hm(l)){o();return}for(var u=n=r,c=0,d=u.length;c<d;c++){var f=u[c];f[R_](l)&&(f.cancel(),f(l))}}},t.take=function(l,u){if(u===void 0&&(u=i1),e){l(sa);return}l[R_]=u,i(),r.push(l),l.cancel=kD(function(){i(),ph(r,l)})},t.close=o,t}function o1(){var t=r2(),e=t.put;return t.put=function(n){if(n[OT]){e(n);return}e1(function(){e(n)})},t}var Ii=0,Zn=1,_u=2,s1=3;function qm(t,e){var n=t[wD];rn(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Ya=0,a1=function(){return++Ya},St;function i2(t,e){return t.isSagaIterator?{name:t.meta.name}:$m(e)}function o2(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(Um(i))return i;var o=!1,s=function(u){return o?{value:u,done:!0}:(o=!0,{value:i,done:!fh(i)})};return Xf(s)}catch(l){return Xf(function(){throw l})}}function s2(t,e,n){var r=e.channel,i=e.action,o=e.resolve;e1(function(){var s;try{s=(r?r.put:t.dispatch)(i)}catch(l){n(l,!0);return}o&&fh(s)?qm(s,n):n(s)})}function a2(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,o=e.pattern,s=e.maybe,l=function(c){if(c instanceof Error){n(c,!0);return}if(Hm(c)&&!s){n(LT);return}n(c)};try{i.take(l,yu(o)?Wm(o):null)}catch(u){n(u,!0);return}n.cancel=l.cancel}function l2(t,e,n,r){var i=e.context,o=e.fn,s=e.args,l=r.task;try{var u=o.apply(i,s);if(fh(u)){qm(u,n);return}if(Um(u)){gh(t,u,l.context,Ya,$m(o),!1,n);return}n(u)}catch(c){n(c,!0)}}function u2(t,e,n){var r=e.context,i=e.fn,o=e.args;try{var s=function(u,c){VT(u)?n(c):n(u,!0)};i.apply(r,o.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(l){n(l,!0)}}function c2(t,e,n,r){var i=e.context,o=e.fn,s=e.args,l=e.detached,u=r.task,c=o2({context:i,fn:o,args:s}),d=i2(c,o);t1(function(){var f=gh(t,c,u.context,Ya,d,l,void 0);l?n(f):f.isRunning()?(u.queue.addTask(f),n(f)):f.isAborted()?u.queue.abort(f.error()):n(f)})}function h2(t,e,n,r){var i=r.task,o=function(u,c){if(u.isRunning()){var d={task:i,cb:c};c.cancel=function(){u.isRunning()&&ph(u.joiners,d)},u.joiners.push(d)}else u.isAborted()?c(u.error(),!0):c(u.result())};if(di(e)){if(e.length===0){n([]);return}var s=BT(e,n);e.forEach(function(l,u){o(l,s[u])})}else o(e,n)}function Nd(t){t.isRunning()&&t.cancel()}function d2(t,e,n,r){var i=r.task;e===DT?Nd(i):di(e)?e.forEach(Nd):Nd(e),n()}function f2(t,e,n,r){var i=r.digestEffect,o=Ya,s=Object.keys(e);if(s.length===0){n(di(e)?[]:{});return}var l=BT(e,n);s.forEach(function(u){i(e[u],o,l[u],u)})}function p2(t,e,n,r){var i=r.digestEffect,o=Ya,s=Object.keys(e),l=di(e)?FT(s.length):{},u={},c=!1;s.forEach(function(d){var f=function(E,C){c||(C||zT(E)?(n.cancel(),n(E,C)):(n.cancel(),c=!0,l[d]=E,n(l)))};f.cancel=Bt,u[d]=f}),n.cancel=function(){c||(c=!0,s.forEach(function(d){return u[d].cancel()}))},s.forEach(function(d){c||i(e[d],o,u[d],d)})}function m2(t,e,n){var r=e.selector,i=e.args;try{var o=r.apply(void 0,[t.getState()].concat(i));n(o)}catch(s){n(s,!0)}}function g2(t,e,n){var r=e.pattern,i=e.buffer,o=n2(i),s=Wm(r),l=function c(d){Hm(d)||t.channel.take(c,s),o.put(d)},u=o.close;o.close=function(){l.cancel(),u()},t.channel.take(l,s),n(o)}function y2(t,e,n,r){var i=r.task;n(i.isCancelled())}function v2(t,e,n){e.flush(n)}function _2(t,e,n,r){var i=r.task;n(i.context[e])}function E2(t,e,n,r){var i=r.task;jm(i.context,e),n()}var w2=(St={},St[vu]=a2,St[qT]=s2,St[GT]=f2,St[jD]=p2,St[KT]=l2,St[$D]=u2,St[QT]=c2,St[zD]=h2,St[YT]=d2,St[BD]=m2,St[WD]=g2,St[HD]=y2,St[qD]=v2,St[GD]=_2,St[KD]=E2,St);function S2(t,e,n){var r=[],i,o=!1;u(t);var s=function(){return r};function l(d){e(),c(),n(d,!0)}function u(d){r.push(d),d.cont=function(f,m){o||(ph(r,d),d.cont=Bt,m?l(f):(d===t&&(i=f),r.length||(o=!0,n(i))))}}function c(){o||(o=!0,r.forEach(function(d){d.cont=Bt,d.cancel()}),r=[])}return{addTask:u,cancelAll:c,abort:l,getTasks:s}}function l1(t,e){return t+"?"+e}function T2(t){var e=WT(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,o=n+"  "+l1(r,i);return o}return""}function x_(t){var e=t.name,n=t.location;return n?e+"  "+l1(n.fileName,n.lineNumber):e}function I2(t){var e=PD(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var Gm=null,aa=[],C2=function(e){e.crashedEffect=Gm,aa.push(e)},u1=function(){Gm=null,aa.length=0},A2=function(e){Gm=e},R2=function(){var e=aa[0],n=aa.slice(1),r=e.crashedEffect?T2(e.crashedEffect):null,i="The above error occurred in task "+x_(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(o){return"    created by "+x_(o.meta)}),[I2(aa)]).join(`
`)};function P2(t,e,n,r,i,o,s){var l;s===void 0&&(s=Bt);var u=Ii,c,d,f=null,m=[],E=Object.create(n),C=S2(e,function(){m.push.apply(m,C.getTasks().map(function(U){return U.meta.name}))},P);function T(){u===Ii&&(u=Zn,C.cancelAll(),P(bo,!1))}function P(x,U){if(!U)x===bo?u=Zn:u!==Zn&&(u=s1),c=x,f&&f.resolve(x);else{if(u=_u,C2({meta:i,cancelledTasks:m}),I.isRoot){var j=R2();u1(),t.onError(x,{sagaStack:j})}d=x,f&&f.reject(x)}I.cont(x,U),I.joiners.forEach(function(S){S.cb(x,U)}),I.joiners=null}function _(x){jm(E,x)}function y(){return f||(f=XD(),u===_u?f.reject(d):u!==Ii&&f.resolve(c)),f.promise}var I=(l={},l[SD]=!0,l.id=r,l.meta=i,l.isRoot=o,l.context=E,l.joiners=[],l.queue=C,l.cancel=T,l.cont=s,l.end=P,l.setContext=_,l.toPromise=y,l.isRunning=function(){return u===Ii},l.isCancelled=function(){return u===Zn||u===Ii&&e.status===Zn},l.isAborted=function(){return u===_u},l.result=function(){return c},l.error=function(){return d},l);return I}function gh(t,e,n,r,i,o,s){var l=t.finalizeRunEffect(E);m.cancel=Bt;var u={meta:i,cancel:f,status:Ii},c=P2(t,u,n,r,i,o,s),d={task:c,digestEffect:C};function f(){u.status===Ii&&(u.status=Zn,m(bo))}return s&&(s.cancel=c.cancel),m(),c;function m(T,P){try{var _;P?(_=e.throw(T),u1()):$T(T)?(u.status=Zn,m.cancel(),_=rn(e.return)?e.return(bo):{done:!0,value:bo}):jT(T)?_=rn(e.return)?e.return():{done:!0}:_=e.next(T),_.done?(u.status!==Zn&&(u.status=s1),u.cont(_.value)):C(_.value,r,m)}catch(y){if(u.status===Zn)throw y;u.status=_u,u.cont(y,!0)}}function E(T,P,_){if(fh(T))qm(T,_);else if(Um(T))gh(t,T,c.context,P,i,!1,_);else if(T&&T[NT]){var y=w2[T.type];y(t,T.payload,_,d)}else _(T)}function C(T,P,_,y){y===void 0&&(y="");var I=a1();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:I,parentEffectId:P,label:y,effect:T});var x;function U(j,S){x||(x=!0,_.cancel=Bt,t.sagaMonitor&&(S?t.sagaMonitor.effectRejected(I,j):t.sagaMonitor.effectResolved(I,j)),S&&A2(T),_(j,S))}U.cancel=Bt,_.cancel=function(){x||(x=!0,U.cancel(),U.cancel=Bt,t.sagaMonitor&&t.sagaMonitor.effectCancelled(I))},l(T,I,U)}}function k2(t,e){for(var n=t.channel,r=n===void 0?o1():n,i=t.dispatch,o=t.getState,s=t.context,l=s===void 0?{}:s,u=t.sagaMonitor,c=t.effectMiddlewares,d=t.onError,f=d===void 0?bD:d,m=arguments.length,E=new Array(m>2?m-2:0),C=2;C<m;C++)E[C-2]=arguments[C];var T=e.apply(void 0,E),P=a1();u&&(u.rootSagaStarted=u.rootSagaStarted||Bt,u.effectTriggered=u.effectTriggered||Bt,u.effectResolved=u.effectResolved||Bt,u.effectRejected=u.effectRejected||Bt,u.effectCancelled=u.effectCancelled||Bt,u.actionDispatched=u.actionDispatched||Bt,u.rootSagaStarted({effectId:P,saga:e,args:E}));var _;if(c){var y=DD.apply(void 0,c);_=function(U){return function(j,S,v){var w=function(N){return U(N,S,v)};return y(w)(j)}}}else _=RD;var I={channel:r,dispatch:OD(i),getState:o,sagaMonitor:u,onError:f,finalizeRunEffect:_};return t1(function(){var x=gh(I,T,l,P,$m(e),!0,void 0);return u&&u.effectResolved(P,x),x})}function x2(t){var e={},n=e.context,r=n===void 0?{}:n,i=e.channel,o=i===void 0?o1():i,s=e.sagaMonitor,l=ox(e,["context","channel","sagaMonitor"]),u;function c(d){var f=d.getState,m=d.dispatch;return u=k2.bind(null,nc({},l,{context:r,channel:o,dispatch:m,getState:f,sagaMonitor:s})),function(E){return function(C){s&&s.actionDispatched&&s.actionDispatched(C);var T=E(C);return o.put(C),T}}}return c.run=function(){return u.apply(void 0,arguments)},c.setContext=function(d){jm(r,d)},c}var N_=function(e){return{done:!0,value:e}},bd={};function N2(t){return Fm(t)?"channel":MT(t)?String(t):rn(t)?t.name:String(t)}function b2(t,e,n){var r,i,o,s=e;function l(u,c){if(s===bd)return N_(u);if(c&&!i)throw s=bd,c;r&&r(u);var d=c?t[i](c):t[s]();return s=d.nextState,o=d.effect,r=d.stateUpdater,i=d.errorState,s===bd?N_(u):o}return Xf(l,function(u){return l(null,u)},n)}function O2(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:QD(t)},s=function(E){return{done:!1,value:JT.apply(void 0,[e].concat(r,[E]))}},l=function(E){return{done:!1,value:YD(E)}},u,c,d=function(E){return u=E},f=function(E){return c=E};return b2({q1:function(){return{nextState:"q2",effect:o,stateUpdater:f}},q2:function(){return u?{nextState:"q3",effect:l(u)}:{nextState:"q1",effect:s(c),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(c),stateUpdater:d}}},"q1","takeLatest("+N2(t)+", "+e.name+")")}function Qi(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return JT.apply(void 0,[O2,t,e].concat(r))}var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,E=c&63;u||(E=64,s||(m=64)),r.push(n[d],n[f],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||f==null)throw new L2;const m=o<<2|l>>4;if(r.push(m),c!==64){const E=l<<4&240|c>>2;if(r.push(E),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V2=function(t){const e=c1(t);return h1.encodeByteArray(e,!0)},ac=function(t){return V2(t).replace(/\./g,"")},d1=function(t){try{return h1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=()=>M2().__FIREBASE_DEFAULTS__,F2=()=>{if(typeof process>"u"||typeof b_>"u")return;const t=b_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d1(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return U2()||F2()||j2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f1=t=>{var e,n;return(n=(e=yh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$2=t=>{const e=f1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p1=()=>{var t;return(t=yh())===null||t===void 0?void 0:t.config},m1=t=>{var e;return(e=yh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ac(JSON.stringify(n)),ac(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function H2(){var t;const e=(t=yh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q2(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y2(){return!H2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X2(){try{return typeof indexedDB=="object"}catch{return!1}}function J2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z2,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?eL(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new wr(i,l,r)}}function eL(t,e){return t.replace(tL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tL=/\{\$([^}]+)}/g;function nL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(O_(o)&&O_(s)){if(!lc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rL(t,e){const n=new iL(t,e);return n.subscribe.bind(n)}class iL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Od),i.error===void 0&&(i.error=Od),i.complete===void 0&&(i.complete=Od);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new z2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lL(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aL(t){return t===Ti?void 0:t}function lL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const cL={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},hL=_e.INFO,dL={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},fL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=hL,this._logHandler=fL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const pL=(t,e)=>e.some(n=>t instanceof n);let D_,L_;function mL(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gL(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g1=new WeakMap,Jf=new WeakMap,y1=new WeakMap,Dd=new WeakMap,Qm=new WeakMap;function yL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&g1.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}function vL(t){if(Jf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jf.set(t,e)}let Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||y1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _L(t){Zf=t(Zf)}function EL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ld(this),e,...n);return y1.set(r,e.sort?e.sort():[e]),Yr(r)}:gL().includes(t)?function(...e){return t.apply(Ld(this),e),Yr(g1.get(this))}:function(...e){return Yr(t.apply(Ld(this),e))}}function wL(t){return typeof t=="function"?EL(t):(t instanceof IDBTransaction&&vL(t),pL(t,mL())?new Proxy(t,Zf):t)}function Yr(t){if(t instanceof IDBRequest)return yL(t);if(Dd.has(t))return Dd.get(t);const e=wL(t);return e!==t&&(Dd.set(t,e),Qm.set(e,t)),e}const Ld=t=>Qm.get(t);function SL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Yr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yr(s.result),u.oldVersion,u.newVersion,Yr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const TL=["get","getKey","getAll","getAllKeys","count"],IL=["put","add","delete","clear"],Vd=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TL.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Vd.set(e,o),o}_L(t=>({...t,get:(e,n,r)=>V_(e,n)||t.get(e,n,r),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",M_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Km("@firebase/app"),RL="@firebase/app-compat",PL="@firebase/analytics-compat",kL="@firebase/analytics",xL="@firebase/app-check-compat",NL="@firebase/app-check",bL="@firebase/auth",OL="@firebase/auth-compat",DL="@firebase/database",LL="@firebase/data-connect",VL="@firebase/database-compat",ML="@firebase/functions",UL="@firebase/functions-compat",FL="@firebase/installations",jL="@firebase/installations-compat",$L="@firebase/messaging",zL="@firebase/messaging-compat",BL="@firebase/performance",WL="@firebase/performance-compat",HL="@firebase/remote-config",qL="@firebase/remote-config-compat",GL="@firebase/storage",KL="@firebase/storage-compat",QL="@firebase/firestore",YL="@firebase/vertexai",XL="@firebase/firestore-compat",JL="firebase",ZL="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",eV={[ep]:"fire-core",[RL]:"fire-core-compat",[kL]:"fire-analytics",[PL]:"fire-analytics-compat",[NL]:"fire-app-check",[xL]:"fire-app-check-compat",[bL]:"fire-auth",[OL]:"fire-auth-compat",[DL]:"fire-rtdb",[LL]:"fire-data-connect",[VL]:"fire-rtdb-compat",[ML]:"fire-fn",[UL]:"fire-fn-compat",[FL]:"fire-iid",[jL]:"fire-iid-compat",[$L]:"fire-fcm",[zL]:"fire-fcm-compat",[BL]:"fire-perf",[WL]:"fire-perf-compat",[HL]:"fire-rc",[qL]:"fire-rc-compat",[GL]:"fire-gcs",[KL]:"fire-gcs-compat",[QL]:"fire-fst",[XL]:"fire-fst-compat",[YL]:"fire-vertex","fire-js":"fire-js",[JL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,tV=new Map,np=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(np.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of uc.values())U_(n,t);for(const n of tV.values())U_(n,t);return!0}function Ym(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Xa("app","Firebase",nV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=ZL;function v1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(n||(n=p1()),!n)throw Xr.create("no-options");const o=uc.get(i);if(o){if(lc(n,o.options)&&lc(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}const s=new uL(i);for(const u of np.values())s.addComponent(u);const l=new rV(n,r,s);return uc.set(i,l),l}function _1(t=tp){const e=uc.get(t);if(!e&&t===tp&&p1())return v1();if(!e)throw Xr.create("no-app",{appName:t});return e}function Jr(t,e,n){var r;let i=(r=eV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(l.join(" "));return}Yo(new ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="firebase-heartbeat-database",oV=1,Da="firebase-heartbeat-store";let Md=null;function E1(){return Md||(Md=SL(iV,oV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),Md}async function sV(t){try{const n=(await E1()).transaction(Da),r=await n.objectStore(Da).get(w1(t));return await n.done,r}catch(e){if(e instanceof wr)mr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function F_(t,e){try{const r=(await E1()).transaction(Da,"readwrite");await r.objectStore(Da).put(e,w1(t)),await r.done}catch(n){if(n instanceof wr)mr.warn(n.message);else{const r=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function w1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1024,lV=30*24*60*60*1e3;class uV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=j_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=lV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j_(),{heartbeatsToSend:r,unsentEntries:i}=cV(this._heartbeatsCache.heartbeats),o=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mr.warn(n),""}}}function j_(){return new Date().toISOString().substring(0,10)}function cV(t,e=aV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X2()?J2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $_(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){Yo(new ji("platform-logger",e=>new CL(e),"PRIVATE")),Yo(new ji("heartbeat",e=>new uV(e),"PRIVATE")),Jr(ep,M_,t),Jr(ep,M_,"esm2017"),Jr("fire-js","")}dV("");function Xm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function S1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fV=S1,T1=new Xa("auth","Firebase",S1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Km("@firebase/auth");function pV(t,...e){cc.logLevel<=_e.WARN&&cc.warn(`Auth (${us}): ${t}`,...e)}function Eu(t,...e){cc.logLevel<=_e.ERROR&&cc.error(`Auth (${us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw Zm(t,...e)}function Dn(t,...e){return Zm(t,...e)}function Jm(t,e,n){const r=Object.assign(Object.assign({},fV()),{[e]:n});return new Xa("auth","Firebase",r).create(e,{appName:t.name})}function lr(t){return Jm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sn(t,"argument-error"),Jm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return T1.create(t,...e)}function le(t,e,...n){if(!t)throw Zm(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eu(e),new Error(e)}function gr(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gV(){return z_()==="http:"||z_()==="https:"}function z_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gV()||G2()||"connection"in navigator)?navigator.onLine:!0}function vV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=W2()||K2()}get(){return yV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Za(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pi(t,e,n,r,i={}){return C1(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=Ja(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return q2()||(c.referrerPolicy="no-referrer"),I1.fetch()(A1(t,t.config.apiHost,n,l),c)})}async function C1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_V),e);try{const i=new SV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ql(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ql(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Jm(t,d,c);Sn(t,d)}}catch(i){if(i instanceof wr)throw i;Sn(t,"network-request-failed",{message:String(i)})}}async function el(t,e,n,r,i={}){const o=await pi(t,e,n,r,i);return"mfaPendingCredential"in o&&Sn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function A1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?eg(t.config,i):`${t.config.apiScheme}://${i}`}function wV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),EV.get())})}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}function B_(t){return t!==void 0&&t.enterprise!==void 0}class TV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IV(t,e){return pi(t,"GET","/v2/recaptchaConfig",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function R1(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AV(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=tg(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:la(Ud(i.auth_time)),issuedAtTime:la(Ud(i.iat)),expirationTime:la(Ud(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ud(t){return Number(t)*1e3}function tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const i=d1(n);return i?JSON.parse(i):(Eu("Failed to decode base64 JWT payload"),null)}catch(i){return Eu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W_(t){const e=tg(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&RV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await La(t,R1(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?P1(o.providerUserInfo):[],l=xV(t.providerData,s),u=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function kV(t){const e=qt(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P1(t){return t.map(e=>{var{providerId:n}=e,r=Xm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){const n=await C1(t,{},async()=>{const r=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=A1(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",I1.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bV(t,e){return pi(t,"POST","/v2/accounts:revokeToken",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await NV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Oo;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await La(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AV(this,e)}reload(){return kV(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await La(this,CV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,l,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(l=n.tenantId)!==null&&l!==void 0?l:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:x,isAnonymous:U,providerData:j,stsTokenManager:S}=n;le(I&&S,e,"internal-error");const v=Oo.fromJSON(this.name,S);le(typeof I=="string",e,"internal-error"),Ar(f,e.name),Ar(m,e.name),le(typeof x=="boolean",e,"internal-error"),le(typeof U=="boolean",e,"internal-error"),Ar(E,e.name),Ar(C,e.name),Ar(T,e.name),Ar(P,e.name),Ar(_,e.name),Ar(y,e.name);const w=new or({uid:I,auth:e,email:m,emailVerified:x,displayName:f,isAnonymous:U,photoURL:C,phoneNumber:E,tenantId:T,stsTokenManager:v,createdAt:_,lastLoginAt:y});return j&&Array.isArray(j)&&(w.providerData=j.map(A=>Object.assign({},A))),P&&(w._redirectEventId=P),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Oo;i.updateFromServerResponse(n);const o=new or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?P1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Oo;l.updateFromIdToken(r);const u=new or({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ip(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function sr(t){gr(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k1.type="NONE";const q_=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=wu(this.userKey,i.apiKey,o),this.fullPersistenceKey=wu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(sr(q_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||sr(q_);const s=wu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(s);if(d){const f=or._fromJSON(e,d);c!==o&&(l=f),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Do(o,e,r):(o=u[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Do(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L1(e))return"Blackberry";if(V1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||b1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x1(t=jt()){return/firefox\//i.test(t)}function N1(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b1(t=jt()){return/crios\//i.test(t)}function O1(t=jt()){return/iemobile/i.test(t)}function D1(t=jt()){return/android/i.test(t)}function L1(t=jt()){return/blackberry/i.test(t)}function V1(t=jt()){return/webos/i.test(t)}function ng(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OV(t=jt()){var e;return ng(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DV(){return Q2()&&document.documentMode===10}function M1(t=jt()){return ng(t)||D1(t)||V1(t)||L1(t)||/windows phone/i.test(t)||O1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e=[]){let n;switch(t){case"Browser":n=G_(jt());break;case"Worker":n=`${G_(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const u=e(o);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e={}){return pi(t,"GET","/v2/passwordPolicy",fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=6;class UV{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:MV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new LV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await R1(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(lr(this));const n=e?qt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VV(this),n=new UV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mi(t){return qt(t)}class K_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rL(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jV(t){vh=t}function F1(t){return vh.loadJS(t)}function $V(){return vh.recaptchaEnterpriseScript}function zV(){return vh.gapiScript}function BV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WV{constructor(){this.enterprise=new HV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qV="recaptcha-enterprise",j1="NO_RECAPTCHA";class GV{constructor(e){this.type=qV,this.auth=mi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{IV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new TV(u);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(u=>{l(u)})})}function i(o,s,l){const u=window.grecaptcha;B_(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(j1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WV().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&B_(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$V();u.length!==0&&(u+=l),F1(u).then(()=>{i(l,o,s)}).catch(c=>{s(c)})}}).catch(l=>{s(l)})})}}async function Q_(t,e,n,r=!1,i=!1){const o=new GV(t);let s;if(i)s=j1;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function op(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Q_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Q_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e){const n=Ym(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(lc(o,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function QV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YV(t,e,n){const r=mi(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=$1(e),{host:s,port:l}=XV(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),JV()}function $1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XV(t){const e=$1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Y_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Y_(s)}}}function Y_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function ZV(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return el(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){return el(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}async function nM(t,e){return el(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends rg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Va(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Va(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,n,"signInWithPassword",eM);case"emailLink":return tM(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,r,"signUpPassword",ZV);case"emailLink":return nM(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return el(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="http://localhost";class $i extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Xm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new $i(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:rM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ja(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oM(t){const e=Ws(Hs(t)).link,n=e?Ws(Hs(e)).deep_link_id:null,r=Ws(Hs(t)).deep_link_id;return(r?Ws(Hs(r)).link:null)||r||n||e||t}class ig{constructor(e){var n,r,i,o,s,l;const u=Ws(Hs(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=iM((i=u.mode)!==null&&i!==void 0?i:null);le(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=oM(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.providerId=cs.PROVIDER_ID}static credential(e,n){return Va._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ig.parseLink(n);return le(r,"argument-error"),Va._fromEmailAndCode(e,r.code,r.tenantId)}}cs.PROVIDER_ID="password";cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends tl{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends tl{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends tl{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){return el(t,"POST","/v1/accounts:signUp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await or._fromIdTokenResponse(e,r,i),s=X_(r);return new zi({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=X_(r);return new zi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function X_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends wr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dc(e,n,r,i)}}function z1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,o,e,r):o})}async function aM(t,e,n=!1){const r=await La(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(lr(r));const i="reauthenticate";try{const o=await La(t,z1(r,i,e,t),n);le(o.idToken,r,"internal-error");const s=tg(o.idToken);le(s,r,"internal-error");const{sub:l}=s;return le(t.uid===l,r,"user-mismatch"),zi._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(t,e,n=!1){if(xn(t.app))return Promise.reject(lr(t));const r="signIn",i=await z1(t,r,e),o=await zi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function uM(t,e){return B1(mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(t){const e=mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cM(t,e,n){if(xn(t.app))return Promise.reject(lr(t));const r=mi(t),s=await op(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sM).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&W1(t),u}),l=await zi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function hM(t,e,n){return xn(t.app)?Promise.reject(lr(t)):uM(qt(t),cs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W1(t),r})}function dM(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function fM(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function pM(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function mM(t){return qt(t).signOut()}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=1e3,yM=10;class q1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);DV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const vM=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G1.type="SESSION";const K1=G1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async c=>c(n.origin,o)),u=await _M(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,u)=>{const c=sg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function wM(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function SM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IM(){return Q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebaseLocalStorageDb",CM=1,pc="firebaseLocalStorage",X1="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([pc],e?"readwrite":"readonly").objectStore(pc)}function AM(){const t=indexedDB.deleteDatabase(Y1);return new nl(t).toPromise()}function sp(){const t=indexedDB.open(Y1,CM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pc,{keyPath:X1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pc)?e(r):(r.close(),await AM(),e(await sp()))})})}async function J_(t,e,n){const r=Eh(t,!0).put({[X1]:e,value:n});return new nl(r).toPromise()}async function RM(t,e){const n=Eh(t,!1).get(e),r=await new nl(n).toPromise();return r===void 0?null:r.value}function Z_(t,e){const n=Eh(t,!0).delete(e);return new nl(n).toPromise()}const PM=800,kM=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(IM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SM(),!this.activeServiceWorker)return;this.sender=new EM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await J_(e,fc,"1"),await Z_(e,fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Eh(i,!1).getAll();return new nl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const xM=J1;new Za(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e){return e?sr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NM(t){return B1(t.auth,new ag(t),t.bypassAuthState)}function bM(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),lM(n,new ag(t),t.bypassAuthState)}async function OM(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),aM(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NM;case"linkViaPopup":case"linkViaRedirect":return OM;case"reauthViaPopup":case"reauthViaRedirect":return bM;default:Sn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Za(2e3,1e4);async function LM(t,e,n){if(xn(t.app))return Promise.reject(Dn(t,"operation-not-supported-in-this-environment"));const r=mi(t);mV(t,e,og);const i=Z1(r,n);return new ki(r,"signInViaPopup",e,i).executeNotNull()}class ki extends eI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DM.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="pendingRedirect",Su=new Map;class MM extends eI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Su.get(this.auth._key());if(!e){try{const r=await UM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Su.set(this.auth._key(),e)}return this.bypassAuthState||Su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UM(t,e){const n=$M(e),r=jM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FM(t,e){Su.set(t._key(),e)}function jM(t){return sr(t._redirectPersistence)}function $M(t){return wu(VM,t.config.apiKey,t.name)}async function zM(t,e,n=!1){if(xn(t.app))return Promise.reject(lr(t));const r=mi(t),i=Z1(r,e),s=await new MM(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=10*60*1e3;class WM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BM&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}}function e0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KM=/^https?/;async function QM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qM(t);for(const n of e)try{if(YM(n))return}catch{}Sn(t,"unauthorized-domain")}function YM(t){const e=rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KM.test(n))return!1;if(GM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Za(3e4,6e4);function t0(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JM(t){return new Promise((e,n)=>{var r,i,o;function s(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(Dn(t,"network-request-failed"))},timeout:XM.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Bn().gapi)===null||o===void 0)&&o.load)s();else{const l=BV("iframefcb");return Bn()[l]=()=>{gapi.load?s():n(Dn(t,"network-request-failed"))},F1(`${zV()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function ZM(t){return Tu=Tu||JM(t),Tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new Za(5e3,15e3),t4="__/auth/iframe",n4="emulator/auth/iframe",r4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eg(e,n4):`https://${t.config.authDomain}/${t4}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=i4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ja(r).slice(1)}`}async function s4(t){const e=await ZM(t),n=Bn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:o4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Dn(t,"network-request-failed"),l=Bn().setTimeout(()=>{o(s)},e4.get());function u(){Bn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l4=500,u4=600,c4="_blank",h4="http://localhost";class n0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d4(t,e,n,r=l4,i=u4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},a4),{width:r.toString(),height:i.toString(),top:o,left:s}),c=jt().toLowerCase();n&&(l=b1(c)?c4:n),x1(c)&&(e=e||h4,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[E,C])=>`${m}${E}=${C},`,"");if(OV(c)&&l!=="_self")return f4(e||"",l),new n0(null);const f=window.open(e||"",l,d);le(f,t,"popup-blocked");try{f.focus()}catch{}return new n0(f)}function f4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="__/auth/handler",m4="emulator/auth/handler",g4=encodeURIComponent("fac");async function r0(t,e,n,r,i,o){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof og){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",nL(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof tl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${g4}=${encodeURIComponent(u)}`:"";return`${y4(t)}?${Ja(l).slice(1)}${c}`}function y4({config:t}){return t.emulator?eg(t,m4):`https://${t.authDomain}/${p4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class v4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=zM,this._overrideRedirectResult=FM}async _openPopup(e,n,r,i){var o;gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await r0(e,n,r,rp(),i);return d4(e,s,sg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await r0(e,n,r,rp(),i);return wM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(gr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s4(e),r=new WM(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Fd];s!==void 0&&n(!!s),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||N1()||ng()}}const _4=v4;var i0="@firebase/auth",o0="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S4(t){Yo(new ji("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U1(t)},c=new FV(r,i,o,u);return QV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new ji("auth-internal",e=>{const n=mi(e.getProvider("auth").getImmediate());return(r=>new E4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(i0,o0,w4(t)),Jr(i0,o0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=5*60,I4=m1("authIdTokenMaxAge")||T4;let s0=null;const C4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I4)return;const i=n==null?void 0:n.token;s0!==i&&(s0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A4(t=_1()){const e=Ym(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KV(t,{popupRedirectResolver:_4,persistence:[xM,vM,K1]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=C4(o.toString());fM(n,s,()=>s(n.currentUser)),dM(n,l=>s(l))}}const i=f1("auth");return i&&YV(n,`http://${i}`),n}function R4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Dn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",R4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S4("Browser");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,nI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function w(){}w.prototype=v.prototype,S.D=v.prototype,S.prototype=new w,S.prototype.constructor=S,S.C=function(A,N,D){for(var R=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)R[ke-2]=arguments[ke];return v.prototype[N].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,w){w||(w=0);var A=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)A[N]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(N=0;16>N;++N)A[N]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=S.g[0],w=S.g[1],N=S.g[2];var D=S.g[3],R=v+(D^w&(N^D))+A[0]+3614090360&4294967295;v=w+(R<<7&4294967295|R>>>25),R=D+(N^v&(w^N))+A[1]+3905402710&4294967295,D=v+(R<<12&4294967295|R>>>20),R=N+(w^D&(v^w))+A[2]+606105819&4294967295,N=D+(R<<17&4294967295|R>>>15),R=w+(v^N&(D^v))+A[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=v+(D^w&(N^D))+A[4]+4118548399&4294967295,v=w+(R<<7&4294967295|R>>>25),R=D+(N^v&(w^N))+A[5]+1200080426&4294967295,D=v+(R<<12&4294967295|R>>>20),R=N+(w^D&(v^w))+A[6]+2821735955&4294967295,N=D+(R<<17&4294967295|R>>>15),R=w+(v^N&(D^v))+A[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=v+(D^w&(N^D))+A[8]+1770035416&4294967295,v=w+(R<<7&4294967295|R>>>25),R=D+(N^v&(w^N))+A[9]+2336552879&4294967295,D=v+(R<<12&4294967295|R>>>20),R=N+(w^D&(v^w))+A[10]+4294925233&4294967295,N=D+(R<<17&4294967295|R>>>15),R=w+(v^N&(D^v))+A[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=v+(D^w&(N^D))+A[12]+1804603682&4294967295,v=w+(R<<7&4294967295|R>>>25),R=D+(N^v&(w^N))+A[13]+4254626195&4294967295,D=v+(R<<12&4294967295|R>>>20),R=N+(w^D&(v^w))+A[14]+2792965006&4294967295,N=D+(R<<17&4294967295|R>>>15),R=w+(v^N&(D^v))+A[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=v+(N^D&(w^N))+A[1]+4129170786&4294967295,v=w+(R<<5&4294967295|R>>>27),R=D+(w^N&(v^w))+A[6]+3225465664&4294967295,D=v+(R<<9&4294967295|R>>>23),R=N+(v^w&(D^v))+A[11]+643717713&4294967295,N=D+(R<<14&4294967295|R>>>18),R=w+(D^v&(N^D))+A[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=v+(N^D&(w^N))+A[5]+3593408605&4294967295,v=w+(R<<5&4294967295|R>>>27),R=D+(w^N&(v^w))+A[10]+38016083&4294967295,D=v+(R<<9&4294967295|R>>>23),R=N+(v^w&(D^v))+A[15]+3634488961&4294967295,N=D+(R<<14&4294967295|R>>>18),R=w+(D^v&(N^D))+A[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=v+(N^D&(w^N))+A[9]+568446438&4294967295,v=w+(R<<5&4294967295|R>>>27),R=D+(w^N&(v^w))+A[14]+3275163606&4294967295,D=v+(R<<9&4294967295|R>>>23),R=N+(v^w&(D^v))+A[3]+4107603335&4294967295,N=D+(R<<14&4294967295|R>>>18),R=w+(D^v&(N^D))+A[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=v+(N^D&(w^N))+A[13]+2850285829&4294967295,v=w+(R<<5&4294967295|R>>>27),R=D+(w^N&(v^w))+A[2]+4243563512&4294967295,D=v+(R<<9&4294967295|R>>>23),R=N+(v^w&(D^v))+A[7]+1735328473&4294967295,N=D+(R<<14&4294967295|R>>>18),R=w+(D^v&(N^D))+A[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=v+(w^N^D)+A[5]+4294588738&4294967295,v=w+(R<<4&4294967295|R>>>28),R=D+(v^w^N)+A[8]+2272392833&4294967295,D=v+(R<<11&4294967295|R>>>21),R=N+(D^v^w)+A[11]+1839030562&4294967295,N=D+(R<<16&4294967295|R>>>16),R=w+(N^D^v)+A[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=v+(w^N^D)+A[1]+2763975236&4294967295,v=w+(R<<4&4294967295|R>>>28),R=D+(v^w^N)+A[4]+1272893353&4294967295,D=v+(R<<11&4294967295|R>>>21),R=N+(D^v^w)+A[7]+4139469664&4294967295,N=D+(R<<16&4294967295|R>>>16),R=w+(N^D^v)+A[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=v+(w^N^D)+A[13]+681279174&4294967295,v=w+(R<<4&4294967295|R>>>28),R=D+(v^w^N)+A[0]+3936430074&4294967295,D=v+(R<<11&4294967295|R>>>21),R=N+(D^v^w)+A[3]+3572445317&4294967295,N=D+(R<<16&4294967295|R>>>16),R=w+(N^D^v)+A[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=v+(w^N^D)+A[9]+3654602809&4294967295,v=w+(R<<4&4294967295|R>>>28),R=D+(v^w^N)+A[12]+3873151461&4294967295,D=v+(R<<11&4294967295|R>>>21),R=N+(D^v^w)+A[15]+530742520&4294967295,N=D+(R<<16&4294967295|R>>>16),R=w+(N^D^v)+A[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=v+(N^(w|~D))+A[0]+4096336452&4294967295,v=w+(R<<6&4294967295|R>>>26),R=D+(w^(v|~N))+A[7]+1126891415&4294967295,D=v+(R<<10&4294967295|R>>>22),R=N+(v^(D|~w))+A[14]+2878612391&4294967295,N=D+(R<<15&4294967295|R>>>17),R=w+(D^(N|~v))+A[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=v+(N^(w|~D))+A[12]+1700485571&4294967295,v=w+(R<<6&4294967295|R>>>26),R=D+(w^(v|~N))+A[3]+2399980690&4294967295,D=v+(R<<10&4294967295|R>>>22),R=N+(v^(D|~w))+A[10]+4293915773&4294967295,N=D+(R<<15&4294967295|R>>>17),R=w+(D^(N|~v))+A[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=v+(N^(w|~D))+A[8]+1873313359&4294967295,v=w+(R<<6&4294967295|R>>>26),R=D+(w^(v|~N))+A[15]+4264355552&4294967295,D=v+(R<<10&4294967295|R>>>22),R=N+(v^(D|~w))+A[6]+2734768916&4294967295,N=D+(R<<15&4294967295|R>>>17),R=w+(D^(N|~v))+A[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=v+(N^(w|~D))+A[4]+4149444226&4294967295,v=w+(R<<6&4294967295|R>>>26),R=D+(w^(v|~N))+A[11]+3174756917&4294967295,D=v+(R<<10&4294967295|R>>>22),R=N+(v^(D|~w))+A[2]+718787259&4294967295,N=D+(R<<15&4294967295|R>>>17),R=w+(D^(N|~v))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var w=v-this.blockSize,A=this.B,N=this.h,D=0;D<v;){if(N==0)for(;D<=w;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<v;)if(A[N++]=S.charCodeAt(D++),N==this.blockSize){i(this,A),N=0;break}}else for(;D<v;)if(A[N++]=S[D++],N==this.blockSize){i(this,A),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var w=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=w&255,w/=256;for(this.u(S),S=Array(16),v=w=0;4>v;++v)for(var A=0;32>A;A+=8)S[w++]=this.g[v]>>>A&255;return S};function o(S,v){var w=l;return Object.prototype.hasOwnProperty.call(w,S)?w[S]:w[S]=v(S)}function s(S,v){this.h=v;for(var w=[],A=!0,N=S.length-1;0<=N;N--){var D=S[N]|0;A&&D==v||(w[N]=D,A=!1)}this.g=w}var l={};function u(S){return-128<=S&&128>S?o(S,function(v){return new s([v|0],0>v?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return P(c(-S));for(var v=[],w=1,A=0;S>=w;A++)v[A]=S/w|0,w*=4294967296;return new s(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return P(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(v,8)),A=f,N=0;N<S.length;N+=8){var D=Math.min(8,S.length-N),R=parseInt(S.substring(N,N+D),v);8>D?(D=c(Math.pow(v,D)),A=A.j(D).add(c(R))):(A=A.j(w),A=A.add(c(R)))}return A}var f=u(0),m=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(T(this))return-P(this).m();for(var S=0,v=1,w=0;w<this.g.length;w++){var A=this.i(w);S+=(0<=A?A:4294967296+A)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(T(this))return"-"+P(this).toString(S);for(var v=c(Math.pow(S,6)),w=this,A="";;){var N=x(w,v).g;w=_(w,N.j(v));var D=((0<w.g.length?w.g[0]:w.h)>>>0).toString(S);if(w=N,C(w))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function T(S){return S.h==-1}t.l=function(S){return S=_(this,S),T(S)?-1:C(S)?0:1};function P(S){for(var v=S.g.length,w=[],A=0;A<v;A++)w[A]=~S.g[A];return new s(w,~S.h).add(m)}t.abs=function(){return T(this)?P(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),w=[],A=0,N=0;N<=v;N++){var D=A+(this.i(N)&65535)+(S.i(N)&65535),R=(D>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);A=R>>>16,D&=65535,R&=65535,w[N]=R<<16|D}return new s(w,w[w.length-1]&-2147483648?-1:0)};function _(S,v){return S.add(P(v))}t.j=function(S){if(C(this)||C(S))return f;if(T(this))return T(S)?P(this).j(P(S)):P(P(this).j(S));if(T(S))return P(this.j(P(S)));if(0>this.l(E)&&0>S.l(E))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,w=[],A=0;A<2*v;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<S.g.length;N++){var D=this.i(A)>>>16,R=this.i(A)&65535,ke=S.i(N)>>>16,fe=S.i(N)&65535;w[2*A+2*N]+=R*fe,y(w,2*A+2*N),w[2*A+2*N+1]+=D*fe,y(w,2*A+2*N+1),w[2*A+2*N+1]+=R*ke,y(w,2*A+2*N+1),w[2*A+2*N+2]+=D*ke,y(w,2*A+2*N+2)}for(A=0;A<v;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=v;A<2*v;A++)w[A]=0;return new s(w,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function I(S,v){this.g=S,this.h=v}function x(S,v){if(C(v))throw Error("division by zero");if(C(S))return new I(f,f);if(T(S))return v=x(P(S),v),new I(P(v.g),P(v.h));if(T(v))return v=x(S,P(v)),new I(P(v.g),v.h);if(30<S.g.length){if(T(S)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,A=v;0>=A.l(S);)w=U(w),A=U(A);var N=j(w,1),D=j(A,1);for(A=j(A,2),w=j(w,2);!C(A);){var R=D.add(A);0>=R.l(S)&&(N=N.add(w),D=R),A=j(A,1),w=j(w,1)}return v=_(S,N.j(v)),new I(N,v)}for(N=f;0<=S.l(v);){for(w=Math.max(1,Math.floor(S.m()/v.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(w),R=D.j(v);T(R)||0<R.l(S);)w-=A,D=c(w),R=D.j(v);C(D)&&(D=m),N=N.add(D),S=_(S,R)}return new I(N,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)&S.i(A);return new s(w,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)|S.i(A);return new s(w,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)^S.i(A);return new s(w,this.h^S.h)};function U(S){for(var v=S.g.length+1,w=[],A=0;A<v;A++)w[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(w,S.h)}function j(S,v){var w=v>>5;v%=32;for(var A=S.g.length-w,N=[],D=0;D<A;D++)N[D]=0<v?S.i(D+w)>>>v|S.i(D+w+1)<<32-v:S.i(D+w);return new s(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Di=s}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rI,qs,iI,Iu,ap,oI,sI,aI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var V=a[g];if(!(V in p))break e;p=p[V]}a=a[a.length-1],g=p[a],h=h(g),h!=g&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var p=0,g=!1,V={next:function(){if(!g&&p<a.length){var F=p++;return{value:h(F,a[F]),done:!1}}return g=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,p){return a.call.apply(a.bind,arguments)}function f(a,h,p){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,g),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function m(a,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function E(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(g,V,F){for(var Q=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Q[Le-2]=arguments[Le];return h.prototype[V].apply(g,Q)}}function T(a){const h=a.length;if(0<h){const p=Array(h);for(let g=0;g<h;g++)p[g]=a[g];return p}return[]}function P(a,h){for(let p=1;p<arguments.length;p++){const g=arguments[p];if(u(g)){const V=a.length||0,F=g.length||0;a.length=V+F;for(let Q=0;Q<F;Q++)a[V+Q]=g[Q]}else a.push(g)}}class _{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return x[" "](a),a}x[" "]=function(){};var U=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function j(a,h,p){for(const g in a)h.call(p,a[g],g,a)}function S(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let p,g;for(let V=1;V<arguments.length;V++){g=arguments[V];for(p in g)a[p]=g[p];for(let F=0;F<w.length;F++)p=w[F],Object.prototype.hasOwnProperty.call(g,p)&&(a[p]=g[p])}}function N(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function D(a){l.setTimeout(()=>{throw a},0)}function R(){var a=te;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ke{constructor(){this.h=this.g=null}add(h,p){const g=fe.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var fe=new _(()=>new kt,a=>a.reset());class kt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,K=!1,te=new ke,ne=()=>{const a=l.Promise.resolve(void 0);ve=()=>{a.then(O)}};var O=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(p){D(p)}var h=fe;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}K=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function q(a,h){if(k.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{x(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:L[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&q.aa.h.call(this)}}C(q,k);var L={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),z=0;function ge(a,h,p,g,V){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=V,this.key=++z,this.da=this.fa=!1}function ue(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ae(a){this.src=a,this.g={},this.h=0}ae.prototype.add=function(a,h,p,g,V){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var Q=Te(a,h,g,V);return-1<Q?(h=a[Q],p||(h.fa=!1)):(h=new ge(h,this.src,F,!!g,V),h.fa=p,a.push(h)),h};function ee(a,h){var p=h.type;if(p in a.g){var g=a.g[p],V=Array.prototype.indexOf.call(g,h,void 0),F;(F=0<=V)&&Array.prototype.splice.call(g,V,1),F&&(ue(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Te(a,h,p,g){for(var V=0;V<a.length;++V){var F=a[V];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==g)return V}return-1}var he="closure_lm_"+(1e6*Math.random()|0),pe={};function xe(a,h,p,g,V){if(Array.isArray(h)){for(var F=0;F<h.length;F++)xe(a,h[F],p,g,V);return null}return p=Me(p),a&&a[Y]?a.K(h,p,c(g)?!!g.capture:!!g,V):re(a,h,p,!1,g,V)}function re(a,h,p,g,V,F){if(!h)throw Error("Invalid event type");var Q=c(V)?!!V.capture:!!V,Le=pt(a);if(Le||(a[he]=Le=new ae(a)),p=Le.add(h,p,g,Q,F),p.proxy)return p;if(g=Ve(),p.proxy=g,g.src=a,g.listener=p,a.addEventListener)M||(V=Q),V===void 0&&(V=!1),a.addEventListener(h.toString(),g,V);else if(a.attachEvent)a.attachEvent(In(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ve(){function a(p){return h.call(a.src,a.listener,p)}const h=ft;return a}function Qt(a,h,p,g,V){if(Array.isArray(h))for(var F=0;F<h.length;F++)Qt(a,h[F],p,g,V);else g=c(g)?!!g.capture:!!g,p=Me(p),a&&a[Y]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],p=Te(F,p,g,V),-1<p&&(ue(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=pt(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Te(h,p,g,V)),(p=-1<a?h[a]:null)&&Ne(p))}function Ne(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Y])ee(h.i,a);else{var p=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(p,g,a.capture):h.detachEvent?h.detachEvent(In(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=pt(h))?(ee(p,a),p.h==0&&(p.src=null,h[he]=null)):ue(a)}}}function In(a){return a in pe?pe[a]:pe[a]="on"+a}function ft(a,h){if(a.da)a=!0;else{h=new q(h,this);var p=a.listener,g=a.ha||a.src;a.fa&&Ne(a),a=p.call(g,h)}return a}function pt(a){return a=a[he],a instanceof ae?a:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(a){return typeof a=="function"?a:(a[se]||(a[se]=function(h){return a.handleEvent(h)}),a[se])}function Ue(){b.call(this),this.i=new ae(this),this.M=this,this.F=null}C(Ue,b),Ue.prototype[Y]=!0,Ue.prototype.removeEventListener=function(a,h,p,g){Qt(this,a,h,p,g)};function je(a,h){var p,g=a.F;if(g)for(p=[];g;g=g.F)p.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new k(h,a);else if(h instanceof k)h.target=h.target||a;else{var V=h;h=new k(g,a),A(h,V)}if(V=!0,p)for(var F=p.length-1;0<=F;F--){var Q=h.g=p[F];V=Et(Q,g,!0,h)&&V}if(Q=h.g=a,V=Et(Q,g,!0,h)&&V,V=Et(Q,g,!1,h)&&V,p)for(F=0;F<p.length;F++)Q=h.g=p[F],V=Et(Q,g,!1,h)&&V}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],g=0;g<p.length;g++)ue(p[g]);delete a.g[h],a.h--}}this.F=null},Ue.prototype.K=function(a,h,p,g){return this.i.add(String(a),h,!1,p,g)},Ue.prototype.L=function(a,h,p,g){return this.i.add(String(a),h,!0,p,g)};function Et(a,h,p,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,F=0;F<h.length;++F){var Q=h[F];if(Q&&!Q.da&&Q.capture==p){var Le=Q.listener,wt=Q.ha||Q.src;Q.fa&&ee(a.i,Q),V=Le.call(wt,g)!==!1&&V}}return V&&!g.defaultPrevented}function eo(a,h,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function to(a){a.g=eo(()=>{a.g=null,a.i&&(a.i=!1,to(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class gs extends b{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(a){b.call(this),this.h=a,this.g={}}C(gi,b);var ul=[];function cl(a){j(a.g,function(h,p){this.g.hasOwnProperty(p)&&Ne(h)},a),a.g={}}gi.prototype.N=function(){gi.aa.N.call(this),cl(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=l.JSON.stringify,Vh=l.JSON.parse,bC=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Mh(){}Mh.prototype.h=null;function Ug(a){return a.h||(a.h=a.i())}function Fg(){}var vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uh(){k.call(this,"d")}C(Uh,k);function Fh(){k.call(this,"c")}C(Fh,k);var yi={},jg=null;function hl(){return jg=jg||new Ue}yi.La="serverreachability";function $g(a){k.call(this,yi.La,a)}C($g,k);function _s(a){const h=hl();je(h,new $g(h))}yi.STAT_EVENT="statevent";function zg(a,h){k.call(this,yi.STAT_EVENT,a),this.stat=h}C(zg,k);function $t(a){const h=hl();je(h,new zg(h,a))}yi.Ma="timingevent";function Bg(a,h){k.call(this,yi.Ma,a),this.size=h}C(Bg,k);function Es(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function OC(a,h,p,g,V,F){a.info(function(){if(a.g)if(F)for(var Q="",Le=F.split("&"),wt=0;wt<Le.length;wt++){var Ae=Le[wt].split("=");if(1<Ae.length){var xt=Ae[0];Ae=Ae[1];var Nt=xt.split("_");Q=2<=Nt.length&&Nt[1]=="type"?Q+(xt+"="+Ae+"&"):Q+(xt+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+g+") [attempt "+V+"]: "+h+`
`+p+`
`+Q})}function DC(a,h,p,g,V,F,Q){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+V+"]: "+h+`
`+p+`
`+F+" "+Q})}function no(a,h,p,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+VC(a,p)+(g?" "+g:"")})}function LC(a,h){a.info(function(){return"TIMEOUT: "+h})}ws.prototype.info=function(){};function VC(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var g=p[a];if(!(2>g.length)){var V=g[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return ys(p)}catch{return h}}var dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function fl(){}C(fl,Mh),fl.prototype.g=function(){return new XMLHttpRequest},fl.prototype.i=function(){return{}},jh=new fl;function Sr(a,h,p,g){this.j=a,this.i=h,this.l=p,this.R=g||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hg}function Hg(){this.i=null,this.g="",this.h=!1}var qg={},$h={};function zh(a,h,p){a.L=1,a.v=yl(Kn(h)),a.m=p,a.P=!0,Gg(a,null)}function Gg(a,h){a.F=Date.now(),pl(a),a.A=Kn(a.v);var p=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),ay(p.i,"t",g),a.C=0,p=a.j.J,a.h=new Hg,a.g=Cy(a.j,p?h:null,!a.m),0<a.O&&(a.M=new gs(m(a.Y,a,a.g),a.O)),h=a.U,p=a.g,g=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(ul[0]=V.toString()),V=ul);for(var F=0;F<V.length;F++){var Q=xe(p,V[F],g||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),_s(),OC(a.i,a.u,a.A,a.l,a.R,a.m)}Sr.prototype.ca=function(a){a=a.target;const h=this.M;h&&Qn(a)==3?h.j():this.Y(a)},Sr.prototype.Y=function(a){try{if(a==this.g)e:{const Nt=Qn(this.g);var h=this.g.Ba();const oo=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||py(this.g)))){this.J||Nt!=4||h==7||(h==8||0>=oo?_s(3):_s(2)),Bh(this);var p=this.g.Z();this.X=p;t:if(Kg(this)){var g=py(this.g);a="";var V=g.length,F=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),Ss(this);var Q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(F&&h==V-1)});g.length=0,this.h.g+=a,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=p==200,DC(this.i,this.u,this.A,this.l,this.R,Nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,wt=this.g;if((Le=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Le)){var Ae=Le;break t}}Ae=null}if(p=Ae)no(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wh(this,p);else{this.o=!1,this.s=3,$t(12),vi(this),Ss(this);break e}}if(this.P){p=!0;let Cn;for(;!this.J&&this.C<Q.length;)if(Cn=MC(this,Q),Cn==$h){Nt==4&&(this.s=4,$t(14),p=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==qg){this.s=4,$t(15),no(this.i,this.l,Q,"[Invalid Chunk]"),p=!1;break}else no(this.i,this.l,Cn,null),Wh(this,Cn);if(Kg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Q.length!=0||this.h.h||(this.s=1,$t(16),p=!1),this.o=this.o&&p,!p)no(this.i,this.l,Q,"[Invalid Chunked Response]"),vi(this),Ss(this);else if(0<Q.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Yh(xt),xt.M=!0,$t(11))}}else no(this.i,this.l,Q,null),Wh(this,Q);Nt==4&&vi(this),this.o&&!this.J&&(Nt==4?wy(this.j,this):(this.o=!1,pl(this)))}else eA(this.g),p==400&&0<Q.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),vi(this),Ss(this)}}}catch{}finally{}};function Kg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function MC(a,h){var p=a.C,g=h.indexOf(`
`,p);return g==-1?$h:(p=Number(h.substring(p,g)),isNaN(p)?qg:(g+=1,g+p>h.length?$h:(h=h.slice(g,g+p),a.C=g+p,h)))}Sr.prototype.cancel=function(){this.J=!0,vi(this)};function pl(a){a.S=Date.now()+a.I,Qg(a,a.I)}function Qg(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Es(m(a.ba,a),h)}function Bh(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Sr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(LC(this.i,this.A),this.L!=2&&(_s(),$t(17)),vi(this),this.s=2,Ss(this)):Qg(this,this.S-a)};function Ss(a){a.j.G==0||a.J||wy(a.j,a)}function vi(a){Bh(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,cl(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Wh(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Hh(p.h,a))){if(!a.K&&Hh(p.h,a)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var V=g;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Tl(p),wl(p);else break e;Qh(p),$t(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=Es(m(p.Za,p),6e3));if(1>=Jg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ei(p,11)}else if((a.K||p.g==a)&&Tl(p),!y(h))for(V=p.Da.g.parse(h),h=0;h<V.length;h++){let Ae=V[h];if(p.T=Ae[0],Ae=Ae[1],p.G==2)if(Ae[0]=="c"){p.K=Ae[1],p.ia=Ae[2];const xt=Ae[3];xt!=null&&(p.la=xt,p.j.info("VER="+p.la));const Nt=Ae[4];Nt!=null&&(p.Aa=Nt,p.j.info("SVER="+p.Aa));const oo=Ae[5];oo!=null&&typeof oo=="number"&&0<oo&&(g=1.5*oo,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;const Cn=a.g;if(Cn){const Cl=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cl){var F=g.h;F.g||Cl.indexOf("spdy")==-1&&Cl.indexOf("quic")==-1&&Cl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(qh(F,F.h),F.h=null))}if(g.D){const Xh=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(g.ya=Xh,$e(g.I,g.D,Xh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var Q=a;if(g.qa=Iy(g,g.J?g.ia:null,g.W),Q.K){Zg(g.h,Q);var Le=Q,wt=g.L;wt&&(Le.I=wt),Le.B&&(Bh(Le),pl(Le)),g.g=Q}else _y(g);0<p.i.length&&Sl(p)}else Ae[0]!="stop"&&Ae[0]!="close"||Ei(p,7);else p.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Ei(p,7):Kh(p):Ae[0]!="noop"&&p.l&&p.l.ta(Ae),p.v=0)}}_s(4)}catch{}}var UC=class{constructor(a,h){this.g=a,this.map=h}};function Yg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Jg(a){return a.h?1:a.g?a.g.size:0}function Hh(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function qh(a,h){a.g?a.g.add(h):a.h=h}function Zg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Yg.prototype.cancel=function(){if(this.i=ey(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ey(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return T(a.i)}function FC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,g=0;g<p;g++)h.push(a[g]);return h}h=[],p=0;for(g in a)h[p++]=a[g];return h}function jC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const g in a)h[p++]=g;return h}}}function ty(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=jC(a),g=FC(a),V=g.length,F=0;F<V;F++)h.call(void 0,g[F],p&&p[F],a)}var ny=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $C(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var g=a[p].indexOf("="),V=null;if(0<=g){var F=a[p].substring(0,g);V=a[p].substring(g+1)}else F=a[p];h(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function _i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof _i){this.h=a.h,ml(this,a.j),this.o=a.o,this.g=a.g,gl(this,a.s),this.l=a.l;var h=a.i,p=new Cs;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),ry(this,p),this.m=a.m}else a&&(h=String(a).match(ny))?(this.h=!1,ml(this,h[1]||"",!0),this.o=Ts(h[2]||""),this.g=Ts(h[3]||"",!0),gl(this,h[4]),this.l=Ts(h[5]||"",!0),ry(this,h[6]||"",!0),this.m=Ts(h[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}_i.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Is(h,iy,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Is(h,iy,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Is(p,p.charAt(0)=="/"?WC:BC,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Is(p,qC)),a.join("")};function Kn(a){return new _i(a)}function ml(a,h,p){a.j=p?Ts(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function gl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function ry(a,h,p){h instanceof Cs?(a.i=h,GC(a.i,a.h)):(p||(h=Is(h,HC)),a.i=new Cs(h,a.h))}function $e(a,h,p){a.i.set(h,p)}function yl(a){return $e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ts(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Is(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,zC),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function zC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var iy=/[#\/\?@]/g,BC=/[#\?:]/g,WC=/[#\?]/g,HC=/[#\?@]/g,qC=/#/g;function Cs(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Tr(a){a.g||(a.g=new Map,a.h=0,a.i&&$C(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Cs.prototype,t.add=function(a,h){Tr(this),this.i=null,a=ro(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function oy(a,h){Tr(a),h=ro(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function sy(a,h){return Tr(a),h=ro(a,h),a.g.has(h)}t.forEach=function(a,h){Tr(this),this.g.forEach(function(p,g){p.forEach(function(V){a.call(h,V,g,this)},this)},this)},t.na=function(){Tr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){const V=a[g];for(let F=0;F<V.length;F++)p.push(h[g])}return p},t.V=function(a){Tr(this);let h=[];if(typeof a=="string")sy(this,a)&&(h=h.concat(this.g.get(ro(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Tr(this),this.i=null,a=ro(this,a),sy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ay(a,h,p){oy(a,h),0<p.length&&(a.i=null,a.g.set(ro(a,h),T(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];const F=encodeURIComponent(String(g)),Q=this.V(g);for(g=0;g<Q.length;g++){var V=F;Q[g]!==""&&(V+="="+encodeURIComponent(String(Q[g]))),a.push(V)}}return this.i=a.join("&")};function ro(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function GC(a,h){h&&!a.j&&(Tr(a),a.i=null,a.g.forEach(function(p,g){var V=g.toLowerCase();g!=V&&(oy(this,g),ay(this,V,p))},a)),a.j=h}function KC(a,h){const p=new ws;if(l.Image){const g=new Image;g.onload=E(Ir,p,"TestLoadImage: loaded",!0,h,g),g.onerror=E(Ir,p,"TestLoadImage: error",!1,h,g),g.onabort=E(Ir,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=E(Ir,p,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function QC(a,h){const p=new ws,g=new AbortController,V=setTimeout(()=>{g.abort(),Ir(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(F=>{clearTimeout(V),F.ok?Ir(p,"TestPingServer: ok",!0,h):Ir(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Ir(p,"TestPingServer: error",!1,h)})}function Ir(a,h,p,g,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),g(p)}catch{}}function YC(){this.g=new bC}function XC(a,h,p){const g=p||"";try{ty(a,function(V,F){let Q=V;c(V)&&(Q=ys(V)),h.push(g+F+"="+encodeURIComponent(Q))})}catch(V){throw h.push(g+"type="+encodeURIComponent("_badmap")),V}}function vl(a){this.l=a.Ub||null,this.j=a.eb||!1}C(vl,Mh),vl.prototype.g=function(){return new _l(this.l,this.j)},vl.prototype.i=function(a){return function(){return a}}({});function _l(a,h){Ue.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(_l,Ue),t=_l.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Rs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ly(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ly(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?As(this):Rs(this),this.readyState==3&&ly(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,As(this))},t.Qa=function(a){this.g&&(this.response=a,As(this))},t.ga=function(){this.g&&As(this)};function As(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Rs(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Rs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function uy(a){let h="";return j(a,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function Gh(a,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=uy(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):$e(a,h,p))}function Xe(a){Ue.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Xe,Ue);var JC=/^https?$/i,ZC=["POST","PUT"];t=Xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?Ug(this.o):Ug(jh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){cy(this,F);return}if(a=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var V in g)p.set(V,g[V]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const F of g.keys())p.set(F,g.get(F));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ZC,h,void 0))||g||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of p)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fy(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){cy(this,F)}};function cy(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,hy(a),El(a)}function hy(a){a.A||(a.A=!0,je(a,"complete"),je(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,je(this,"complete"),je(this,"abort"),El(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),El(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dy(this):this.bb())},t.bb=function(){dy(this)};function dy(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Qn(a)!=4||a.Z()!=2)){if(a.u&&Qn(a)==4)eo(a.Ea,0,a);else if(je(a,"readystatechange"),Qn(a)==4){a.h=!1;try{const Q=a.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=Q===0){var V=String(a.D).match(ny)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),g=!JC.test(V?V.toLowerCase():"")}p=g}if(p)je(a,"complete"),je(a,"success");else{a.m=6;try{var F=2<Qn(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",hy(a)}}finally{El(a)}}}}function El(a,h){if(a.g){fy(a);const p=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||je(a,"ready");try{p.onreadystatechange=g}catch{}}}function fy(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Qn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Vh(h)}};function py(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eA(a){const h={};a=(a.g&&2<=Qn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(y(a[g]))continue;var p=N(a[g]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[V]||[];h[V]=F,F.push(p)}S(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function my(a){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,a),this.cb=Ps("retryDelaySeedMs",1e4,a),this.Wa=Ps("forwardChannelMaxRetries",2,a),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Yg(a&&a.concurrentRequestLimit),this.Da=new YC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=my.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,g){$t(0),this.W=a,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=Iy(this,null,this.W),Sl(this)};function Kh(a){if(gy(a),a.G==3){var h=a.U++,p=Kn(a.I);if($e(p,"SID",a.K),$e(p,"RID",h),$e(p,"TYPE","terminate"),ks(a,p),h=new Sr(a,a.j,h),h.L=2,h.v=yl(Kn(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Cy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),pl(h)}Ty(a)}function wl(a){a.g&&(Yh(a),a.g.cancel(),a.g=null)}function gy(a){wl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Tl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Sl(a){if(!Xg(a.h)&&!a.s){a.s=!0;var h=a.Ga;ve||ne(),K||(ve(),K=!0),te.add(h,a),a.B=0}}function tA(a,h){return Jg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Es(m(a.Ga,a,h),Sy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Sr(this,this.j,a);let F=this.o;if(this.S&&(F?(F=v(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=vy(this,V,h),p=Kn(this.I),$e(p,"RID",a),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),ks(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(uy(F)))+"&"+h:this.m&&Gh(p,this.m,F)),qh(this.h,V),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",h),$e(p,"SID","null"),V.T=!0,zh(V,p,null)):zh(V,p,h),this.G=2}}else this.G==3&&(a?yy(this,a):this.i.length==0||Xg(this.h)||yy(this))};function yy(a,h){var p;h?p=h.l:p=a.U++;const g=Kn(a.I);$e(g,"SID",a.K),$e(g,"RID",p),$e(g,"AID",a.T),ks(a,g),a.m&&a.o&&Gh(g,a.m,a.o),p=new Sr(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=vy(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),qh(a.h,p),zh(p,g,h)}function ks(a,h){a.H&&j(a.H,function(p,g){$e(h,g,p)}),a.l&&ty({},function(p,g){$e(h,g,p)})}function vy(a,h,p){p=Math.min(a.i.length,p);var g=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let F=-1;for(;;){const Q=["count="+p];F==-1?0<p?(F=V[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let Le=!0;for(let wt=0;wt<p;wt++){let Ae=V[wt].g;const xt=V[wt].map;if(Ae-=F,0>Ae)F=Math.max(0,V[wt].g-100),Le=!1;else try{XC(xt,Q,"req"+Ae+"_")}catch{g&&g(xt)}}if(Le){g=Q.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,g}function _y(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;ve||ne(),K||(ve(),K=!0),te.add(h,a),a.v=0}}function Qh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Es(m(a.Fa,a),Sy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ey(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Es(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),wl(this),Ey(this))};function Yh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Ey(a){a.g=new Sr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Kn(a.qa);$e(h,"RID","rpc"),$e(h,"SID",a.K),$e(h,"AID",a.T),$e(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&$e(h,"TO",a.ja),$e(h,"TYPE","xmlhttp"),ks(a,h),a.m&&a.o&&Gh(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=yl(Kn(h)),p.m=null,p.P=!0,Gg(p,a)}t.Za=function(){this.C!=null&&(this.C=null,wl(this),Qh(this),$t(19))};function Tl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function wy(a,h){var p=null;if(a.g==h){Tl(a),Yh(a),a.g=null;var g=2}else if(Hh(a.h,h))p=h.D,Zg(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;g=hl(),je(g,new Bg(g,p)),Sl(a)}else _y(a);else if(V=h.s,V==3||V==0&&0<h.X||!(g==1&&tA(a,h)||g==2&&Qh(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),V){case 1:Ei(a,5);break;case 4:Ei(a,10);break;case 3:Ei(a,6);break;default:Ei(a,2)}}}function Sy(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Ei(a,h){if(a.j.info("Error code "+h),h==2){var p=m(a.fb,a),g=a.Xa;const V=!g;g=new _i(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ml(g,"https"),yl(g),V?KC(g.toString(),p):QC(g.toString(),p)}else $t(2);a.G=0,a.l&&a.l.sa(h),Ty(a),gy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Ty(a){if(a.G=0,a.ka=[],a.l){const h=ey(a.h);(h.length!=0||a.i.length!=0)&&(P(a.ka,h),P(a.ka,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.ra()}}function Iy(a,h,p){var g=p instanceof _i?Kn(p):new _i(p);if(g.g!="")h&&(g.g=h+"."+g.g),gl(g,g.s);else{var V=l.location;g=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var F=new _i(null);g&&ml(F,g),h&&(F.g=h),V&&gl(F,V),p&&(F.l=p),g=F}return p=a.D,h=a.ya,p&&h&&$e(g,p,h),$e(g,"VER",a.la),ks(a,g),g}function Cy(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Xe(new vl({eb:p})):new Xe(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ay(){}t=Ay.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(a,h){return new on(a,h)};function on(a,h){Ue.call(this),this.g=new my(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new io(this)}C(on,Ue),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Kh(this.g)},on.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=ys(a),a=p);h.i.push(new UC(h.Ya++,a)),h.G==3&&Sl(h)},on.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,on.aa.N.call(this)};function Ry(a){Uh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(Ry,Uh);function Py(){Fh.call(this),this.status=1}C(Py,Fh);function io(a){this.g=a}C(io,Ay),io.prototype.ua=function(){je(this.g,"a")},io.prototype.ta=function(a){je(this.g,new Ry(a))},io.prototype.sa=function(a){je(this.g,new Py)},io.prototype.ra=function(){je(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,aI=function(){return new Il},sI=function(){return hl()},oI=yi,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dl.NO_ERROR=0,dl.TIMEOUT=8,dl.HTTP_ERROR=6,Iu=dl,Wg.COMPLETE="complete",iI=Wg,Fg.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,qs=Fg,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,rI=Xe}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Km("@firebase/firestore");function ao(){return Bi.logLevel}function X(t,...e){if(Bi.logLevel<=_e.DEBUG){const n=e.map(lg);Bi.debug(`Firestore (${hs}): ${t}`,...n)}}function yr(t,...e){if(Bi.logLevel<=_e.ERROR){const n=e.map(lg);Bi.error(`Firestore (${hs}): ${t}`,...n)}}function Xo(t,...e){if(Bi.logLevel<=_e.WARN){const n=e.map(lg);Bi.warn(`Firestore (${hs}): ${t}`,...n)}}function lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+t;throw yr(e),new Error(e)}function Pe(t,e){t||ce()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class k4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x4{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new lI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Vt(e)}}class N4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class b4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new N4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new O4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=L4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new ht(0,0))}static max(){return new de(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends Ma{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Ma{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return V4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Z(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Be.fromString(e))}static fromName(e){return new ie(Be.fromString(e).popFirst(5))}static empty(){return new ie(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Be(e.slice()))}}function M4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new ri(i,ie.empty(),e)}function U4(t){return new ri(t.readTime,t.key,-1)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(de.min(),ie.empty(),-1)}static max(){return new ri(de.max(),ie.empty(),-1)}}function F4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==j4)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new W((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function z4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wh.oe=-1;function Sh(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function B4(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u0(e)),e=H4(t.get(n),e);return u0(e)}function H4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function u0(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=o??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new It(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,o){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new dt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hI("Invalid base64 string: "+o):o}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=q4.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Th(t){const e=t.mapValue.fields.__previous_value__;return ug(e)?Th(e):e}function Ua(t){const e=ii(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:Q4(t)?9007199254740991:K4(t)?10:11:ce()}function Gn(t,e){if(t===e)return!0;const n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ua(t).isEqual(Ua(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ii(i.timestampValue),l=ii(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return oi(i.bytesValue).isEqual(oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return et(i.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return et(i.integerValue)===et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=et(i.doubleValue),l=et(o.doubleValue);return s===l?mc(s)===mc(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(c0(s)!==c0(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Gn(s[u],l[u])))return!1;return!0}(t,e);default:return ce()}}function ja(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=si(t),r=si(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=et(o.integerValue||o.doubleValue),u=et(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return d0(t.timestampValue,e.timestampValue);case 4:return d0(Ua(t),Ua(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(o,s){const l=oi(o),u=oi(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=we(l[c],u[c]);if(d!==0)return d}return we(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=we(et(o.latitude),et(s.latitude));return l!==0?l:we(et(o.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,d;const f=o.fields||{},m=s.fields||{},E=(l=f.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,T=we(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:f0(E,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ql.mapValue&&s===Ql.mapValue)return 0;if(o===Ql.mapValue)return 1;if(s===Ql.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=we(u[f],d[f]);if(m!==0)return m;const E=Zo(l[u[f]],c[d[f]]);if(E!==0)return E}return we(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function d0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=ii(t),r=ii(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function f0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Zo(n[i],r[i]);if(o)return o}return we(n.length,r.length)}function es(t){return lp(t)}function lp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${lp(n.fields[s])}`;return i+"}"}(t.mapValue):ce()}function Cu(t){switch(si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(t);return e?16+Cu(e):16;case 5:return 2*t.stringValue.length;case 6:return oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Cu(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yi(r.fields,(o,s)=>{i+=o.length+Cu(s)}),i}(t.mapValue);default:throw ce()}}function p0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function up(t){return!!t&&"integerValue"in t}function cg(t){return!!t&&"arrayValue"in t}function m0(t){return!!t&&"nullValue"in t}function g0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Au(t){return!!t&&"mapValue"in t}function K4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ua(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Au(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yn(ua(this.value))}}function dI(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new Ct([n]);if(Au(r)){const o=dI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ut(e,0,de.min(),de.min(),de.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,de.min(),de.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,de.min(),de.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.position=e,this.inclusive=n}}function y0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),n.key):r=Zo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{}class ot extends fI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J4(e,n,r):n==="array-contains"?new tU(e,r):n==="in"?new nU(e,r):n==="not-in"?new rU(e,r):n==="array-contains-any"?new iU(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Z4(e,r):new eU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends fI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vn(e,n)}matches(e){return pI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pI(t){return t.op==="and"}function mI(t){return X4(t)&&pI(t)}function X4(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function cp(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+es(t.value);if(mI(t))return t.filters.map(e=>cp(e)).join(",");{const e=t.filters.map(n=>cp(n)).join(",");return`${t.op}(${e})`}}function gI(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&gI(s,i.filters[l]),!0):!1}(t,e):void ce()}function yI(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${es(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(yI).join(" ,")+"}"}(t):"Filter"}class J4 extends ot{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Z4 extends ot{constructor(e,n){super(e,"in",n),this.keys=vI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eU extends ot{constructor(e,n){super(e,"not-in",n),this.keys=vI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class tU extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&ja(n.arrayValue,this.value)}}class nU extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ja(this.value.arrayValue,n)}}class rU extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ja(this.value.arrayValue,n)}}class iU extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ja(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function _0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new oU(t,e,n,r,i,o,s)}function hg(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>es(r)).join(",")),e.ue=n}return e.ue}function dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function hp(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sU(t,e,n,r,i,o,s,l){return new rl(t,e,n,r,i,o,s,l)}function fg(t){return new rl(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _I(t){return t.collectionGroup!==null}function ca(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new dt(Ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new yc(o,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new yc(Ct.keyField(),r))}return e.ce}function Wn(t){const e=me(t);return e.le||(e.le=aU(e,ca(t))),e.le}function aU(t,e){if(t.limitType==="F")return _0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new yc(i.field,o)});const n=t.endAt?new gc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gc(t.startAt.position,t.startAt.inclusive):null;return _0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dp(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fp(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return dg(Wn(t),Wn(e))&&t.limitType===e.limitType}function EI(t){return`${hg(Wn(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yI(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>es(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>es(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ca(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=y0(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,ca(r),i)||r.endAt&&!function(s,l,u){const c=y0(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,ca(r),i))}(t,e)}function lU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wI(t){return(e,n)=>{let r=!1;for(const i of ca(t)){const o=uU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function uU(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Zo(u,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Ye(ie.comparator);function vr(){return cU}const SI=new Ye(ie.comparator);function Gs(...t){let e=SI;for(const n of t)e=e.insert(n.key,n);return e}function TI(t){let e=SI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return ha()}function II(){return ha()}function ha(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const hU=new Ye(ie.comparator),dU=new dt(ie.comparator);function Ee(...t){let e=dU;for(const n of t)e=e.add(n);return e}const fU=new dt(we);function pU(){return fU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function mU(t,e){return B4(e)?CI(e):pg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function gU(t,e,n){return t instanceof vc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ug(o)&&(o=Th(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof $a?RI(t,e):t instanceof za?PI(t,e):function(i,o){const s=AI(i,o),l=w0(s)+w0(i.Pe);return up(s)&&up(i.Pe)?CI(l):pg(i.serializer,l)}(t,e)}function yU(t,e,n){return t instanceof $a?RI(t,e):t instanceof za?PI(t,e):n}function AI(t,e){return t instanceof _c?function(r){return up(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class vc extends Ah{}class $a extends Ah{constructor(e){super(),this.elements=e}}function RI(t,e){const n=kI(e);for(const r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class za extends Ah{constructor(e){super(),this.elements=e}}function PI(t,e){let n=kI(e);for(const r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}class _c extends Ah{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function w0(t){return et(t.integerValue||t.doubleValue)}function kI(t){return cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $a&&i instanceof $a||r instanceof za&&i instanceof za?Jo(r.elements,i.elements,Gn):r instanceof _c&&i instanceof _c?Gn(r.Pe,i.Pe):r instanceof vc&&i instanceof vc}(t.transform,e.transform)}class _U{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ru(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function xI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bI(t.key,cr.none()):new il(t.key,t.data,cr.none());{const n=t.data,r=yn.empty();let i=new dt(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ji(t.key,r,new Nn(i.toArray()),cr.none())}}function EU(t,e,n){t instanceof il?function(i,o,s){const l=i.value.clone(),u=T0(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(i,o,s){if(!Ru(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=T0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(NI(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function da(t,e,n,r){return t instanceof il?function(o,s,l,u){if(!Ru(o.precondition,s))return l;const c=o.value.clone(),d=I0(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(o,s,l,u){if(!Ru(o.precondition,s))return l;const c=I0(o.fieldTransforms,u,s),d=s.data;return d.setAll(NI(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,l){return Ru(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function wU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=AI(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function S0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(o,s)=>vU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class il extends Rh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ji extends Rh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T0(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,yU(s,l,n[i]))}return r}function I0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,gU(o,s,e))}return r}class bI extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SU extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&EU(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=II();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=xI(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>S0(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>S0(n,r))}}class mg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return hU}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new mg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Se;function AU(t){switch(t){default:return ce();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function OI(t){if(t===void 0)return yr("GRPC error has no .code"),H.UNKNOWN;switch(t){case rt.OK:return H.OK;case rt.CANCELLED:return H.CANCELLED;case rt.UNKNOWN:return H.UNKNOWN;case rt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case rt.INTERNAL:return H.INTERNAL;case rt.UNAVAILABLE:return H.UNAVAILABLE;case rt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case rt.NOT_FOUND:return H.NOT_FOUND;case rt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case rt.ABORTED:return H.ABORTED;case rt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case rt.DATA_LOSS:return H.DATA_LOSS;default:return ce()}}(Se=rt||(rt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new Di([4294967295,4294967295],0);function C0(t){const e=RU().encode(t),n=new nI;return n.update(e),new Uint8Array(n.digest())}function A0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,o],0)]}class gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ks(`Invalid padding: ${n}`);if(r<0)throw new Ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ks(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Di.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(PU)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=C0(e),[r,i]=A0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new gg(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Te===0)return;const n=C0(e),[r,i]=A0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(de.min(),i,new Ye(we),vr(),Ee())}}class ol{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ol(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class DI{constructor(e,n){this.targetId=e,this.me=n}}class LI{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R0{constructor(){this.fe=0,this.ge=P0(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new ol(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=P0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kU{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=Yl(),this.Qe=Yl(),this.Ke=new Ye(we)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(hp(o))if(r===0){const s=new ie(o.path);this.We(n,s,Ut.newNoDocument(s,de.min()))}else Pe(r===1);else{const s=this.Ze(n);if(s!==r){const l=this.Xe(e),u=l?this.et(l,e,s):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=oi(r).toUint8Array()}catch(u){if(u instanceof hI)return Xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new gg(s,i,o)}catch(u){return Xo(u instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Ye(s);if(l){if(o.current&&hp(l.target)){const u=new ie(l.target.path);this.st(u).has(s)||this.ot(s,u)||this.We(s,u,Ut.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.Qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ph(e,n,this.Ke,this.ke,r);return this.ke=vr(),this.qe=Yl(),this.Qe=Yl(),this.Ke=new Ye(we),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new R0,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new dt(we),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(we),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new R0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new Ye(ie.comparator)}function P0(){return new Ye(ie.comparator)}const xU={asc:"ASCENDING",desc:"DESCENDING"},NU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bU={and:"AND",or:"OR"};class OU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function Ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DU(t,e){return Ec(t,e.toTimestamp())}function Hn(t){return Pe(!!t),de.fromTimestamp(function(n){const r=ii(n);return new ht(r.seconds,r.nanos)}(t))}function yg(t,e){return mp(t,e).canonicalString()}function mp(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MI(t){const e=Be.fromString(t);return Pe(zI(e)),e}function gp(t,e){return yg(t.databaseId,e.path)}function jd(t,e){const n=MI(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(FI(n))}function UI(t,e){return yg(t.databaseId,e)}function LU(t){const e=MI(t);return e.length===4?Be.emptyPath():FI(e)}function yp(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FI(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function k0(t,e,n){return{name:gp(t,e),fields:n.value.mapValue.fields}}function VU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Pe(d===void 0||typeof d=="string"),Pt.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const d=c.code===void 0?H.UNKNOWN:OI(c.code);return new Z(d,c.message||"")}(s);n=new LI(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jd(t,r.document.name),o=Hn(r.document.updateTime),s=r.document.createTime?Hn(r.document.createTime):de.min(),l=new yn({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(i,o,s,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Pu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jd(t,r.document),o=r.readTime?Hn(r.readTime):de.min(),s=Ut.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Pu([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jd(t,r.document),o=r.removedTargetIds||[];n=new Pu([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new CU(i,o),l=r.targetId;n=new DI(l,s)}}return n}function MU(t,e){let n;if(e instanceof il)n={update:k0(t,e.key,e.value)};else if(e instanceof bI)n={delete:gp(t,e.key)};else if(e instanceof Ji)n={update:k0(t,e.key,e.data),updateMask:qU(e.fieldMask)};else{if(!(e instanceof SU))return ce();n={verify:gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof vc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $a)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof za)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _c)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:DU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(t,e.precondition)),n}function UU(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hn(i.updateTime):Hn(o);return s.isEqual(de.min())&&(s=Hn(o)),new _U(s,i.transformResults||[])}(n,e))):[]}function FU(t,e){return{documents:[UI(t,e.path)]}}function jU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,i);const o=function(c){if(c.length!==0)return $I(Vn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:uo(m.field),direction:BU(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=pp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function $U(t){let e=LU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const m=jI(f);return m instanceof Vn&&mI(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(C){return new yc(co(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Sh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,E=f.values||[];return new gc(E,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,E=f.values||[];return new gc(E,m)}(n.endAt)),sU(e,i,s,o,l,"F",u,c)}function zU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=co(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=co(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=co(n.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=co(n.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>jI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function BU(t){return xU[t]}function WU(t){return NU[t]}function HU(t){return bU[t]}function uo(t){return{fieldPath:t.canonicalString()}}function co(t){return Ct.fromServerFormat(t.fieldPath)}function $I(t){return t instanceof ot?function(n){if(n.op==="=="){if(g0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:WU(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(i=>$I(i));return r.length===1?r[0]:{compositeFilter:{op:HU(n.op),filters:r}}}(t):ce()}function qU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,o=de.min(),s=de.min(),l=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.ht=e}}function KU(t){const e=$U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.ln=new YU}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ri.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class YU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ts(0)}static Qn(){return new ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class XU{constructor(e){this.Gn=e,this.buffer=new dt(N0),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();N0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fs(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ds(n)}await this.Yn(3e5)})}}class ZU{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(wh.oe);const r=new XU(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(x0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ao()<=_e.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function eF(t,e){return new ZU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&da(r.mutation,i,Nn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gs();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=vr();const s=ha(),l=function(){return ha()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ji)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),da(d.mutation,c,d.mutation.getFieldMask(),ht.now())):s.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var f;return l.set(c,new nF(d,(f=s.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ha();let i=new Ye((s,l)=>s-l),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Nn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const f=(i.get(l.batchId)||Ee()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,f=II();d.forEach(m=>{if(!o.has(m)){const E=xI(n.get(m),r.get(m));E!==null&&f.set(m,E),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(xi());let l=-1,u=o;return s.next(c=>W.forEach(c,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Ee())).next(d=>({batchId:l,changes:TI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Gs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Gs();return this.indexManager.getCollectionParents(e,o).next(l=>W.forEach(l,u=>{const c=function(f,m){return new rl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Ut.newInvalidDocument(d)))});let l=Gs();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&da(d.mutation,c,Nn.empty(),ht.now()),Ch(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:KU(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.overlays=new Ye(ie.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xi();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=xi(),o=n.length+1,s=new ie(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ye((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=xi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return W.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new IU(n,r));let o=this.Er.get(n);o===void 0&&(o=Ee(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.dr=new dt(mt.Ar),this.Rr=new dt(mt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new mt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ie(new Be([])),r=new mt(n,e),i=new mt(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ie(new Be([])),r=new mt(n,e),i=new mt(n,e+1);let o=Ee();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new mt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ie.comparator(e.key,n.key)||we(e.br,n.br)}static Vr(e,n){return we(e.br,n.br)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new dt(mt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new TU(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.vr=this.vr.add(new mt(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const l=this.Cr(s.br);o.push(l)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(we);return n.forEach(i=>{const o=new mt(i,0),s=new mt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],l=>{r=r.add(l.br)})}),W.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ie.isDocumentKey(o)||(o=o.child(""));const s=new mt(new ie(o),0);let l=new dt(we);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.br)),!0)},s),W.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return W.forEach(n.mutations,i=>{const o=new mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new mt(n,0),i=this.vr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.Nr=e,this.docs=function(){return new Ye(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ut.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vr();const s=n.path,l=new ie(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||F4(U4(d),r)<=0||(i.has(d.key)||Ch(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce()}Lr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uF(this)}getSize(e){return W.resolve(this.size)}}class uF extends tF{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.persistence=e,this.Br=new Xi(n=>hg(n),dg),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.kr=0,this.qr=new vg,this.targetCount=0,this.Qr=ts.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ts(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.Kr={},this.overlays={},this.$r=new wh(0),this.Ur=!1,this.Ur=!0,this.Wr=new sF,this.referenceDelegate=e(this),this.Gr=new cF(this),this.indexManager=new QU,this.remoteDocumentCache=function(i){return new lF(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new GU(n),this.jr=new iF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new aF(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new hF(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return W.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class hF extends $4{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Zr=new vg,this.Xr=null}static ei(e){return new _g(e)}get ti(){if(this.Xr)return this.Xr;throw ce()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,r=>{const i=ie.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class wc{constructor(e,n){this.persistence=e,this.ri=new Xi(r=>W4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eF(this,n)}static ei(e,n){return new wc(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(l=>{l||(r++,o.removeEntry(s,de.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cu(e.data.value)),n}ir(e,n,r){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Eg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Y2()?8:z4(jt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new dF;return this.ts(e,n,s).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,s,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(ao()<=_e.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(ao()<=_e.DEBUG&&X("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ao()<=_e.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):W.resolve())}Xi(e,n){if(E0(n))return W.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fp(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ee(...o);return this.Zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,l);return this.ss(n,c,s,u.readTime)?this.Xi(e,fp(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return E0(n)||i.isEqual(de.min())?W.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?W.resolve(null):(ao()<=_e.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lo(n)),this.os(e,s,n,M4(i,-1)).next(l=>l))})}rs(e,n){let r=new dt(wI(e));return n.forEach((i,o)=>{Ch(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return ao()<=_e.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",lo(n)),this.Zi.getDocumentsMatchingQuery(e,n,ri.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ye(we),this.cs=new Xi(o=>hg(o),dg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function mF(t,e,n,r){return new pF(t,e,n,r)}async function WI(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=Ee();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:l}))})})}function gF(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const f=c.batch,m=f.keys();let E=W.resolve();return m.forEach(C=>{E=E.next(()=>d.getEntry(u,C)).next(T=>{const P=c.docVersions.get(C);Pe(P!==null),T.version.compareTo(P)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ee();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HI(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function yF(t,e){const n=me(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;l.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,f)));let E=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?E=E.withResumeToken(Pt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(f,E),function(T,P,_){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,E,d)&&l.push(n.Gr.updateTargetData(o,E))});let u=vr(),c=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(vF(o,s,e.documentUpdates).next(d=>{u=d.Is,c=d.Es})),!r.isEqual(de.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(f=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return W.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.us=i,o))}function vF(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vr();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Is:s,Es:i}})}function _F(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EF(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new Ur(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function vp(t,e,n){const r=me(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!fs(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function b0(t,e,n){const r=me(t);let i=de.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const f=me(u),m=f.cs.get(d);return m!==void 0?W.resolve(f.us.get(m)):f.Gr.getTargetData(c,d)}(r,s,Wn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:de.min(),n?o:Ee())).next(l=>(wF(r,lU(e),l),{documents:l,ds:o})))}function wF(t,e,n){let r=t.ls.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class O0{constructor(){this.activeTargetIds=pU()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SF{constructor(){this._o=new O0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new O0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function $d(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class AF extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const l=$d(),u=this.No(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,u,c,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Xo("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}ko(n,r,i,o,s,l){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=IF[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=$d();return new Promise((s,l)=>{const u=new rI;u.setWithCredentials(!0),u.listenOnce(iI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Iu.NO_ERROR:const d=u.getResponseJson();X(Dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Iu.TIMEOUT:X(Dt,`RPC '${e}' ${o} timed out`),l(new Z(H.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const f=u.getStatus();if(X(Dt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const C=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(_)>=0?_:H.UNKNOWN}(E.status);l(new Z(C,E.message))}else l(new Z(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(H.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{X(Dt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);X(Dt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=$d(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aI(),l=sI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");X(Dt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=s.createWebChannel(d,u);let m=!1,E=!1;const C=new CF({Eo:P=>{E?X(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(X(Dt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),X(Dt,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},Ao:()=>f.close()}),T=(P,_,y)=>{P.listen(_,I=>{try{y(I)}catch(x){setTimeout(()=>{throw x},0)}})};return T(f,qs.EventType.OPEN,()=>{E||(X(Dt,`RPC '${e}' stream ${i} transport opened.`),C.So())}),T(f,qs.EventType.CLOSE,()=>{E||(E=!0,X(Dt,`RPC '${e}' stream ${i} transport closed`),C.Do())}),T(f,qs.EventType.ERROR,P=>{E||(E=!0,Xo(Dt,`RPC '${e}' stream ${i} transport errored:`,P),C.Do(new Z(H.UNAVAILABLE,"The operation could not be completed")))}),T(f,qs.EventType.MESSAGE,P=>{var _;if(!E){const y=P.data[0];Pe(!!y);const I=y,x=(I==null?void 0:I.error)||((_=I[0])===null||_===void 0?void 0:_.error);if(x){X(Dt,`RPC '${e}' stream ${i} received error:`,x);const U=x.status;let j=function(w){const A=rt[w];if(A!==void 0)return OI(A)}(U),S=x.message;j===void 0&&(j=H.INTERNAL,S="Unknown error status: "+U+" with message "+x.message),E=!0,C.Do(new Z(j,S)),f.close()}else X(Dt,`RPC '${e}' stream ${i} received:`,y),C.vo(y)}}),T(l,oI.STAT_EVENT,P=>{P.stat===ap.PROXY?X(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===ap.NOPROXY&&X(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return new OU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,i,o,s,l,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new qI(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Z(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RF extends GI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=VU(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?Hn(s.readTime):de.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=yp(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=hp(u)?{documents:FU(o,u)}:{query:jU(o,u).ct},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=VI(o,s.resumeToken);const c=pp(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(de.min())>0){l.readTime=Ec(o,s.snapshotVersion.toTimestamp());const c=pp(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=zU(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.c_(n)}}class PF extends GI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=UU(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=yp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MU(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,mp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(H.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.ko(e,mp(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(H.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class xF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(yr(n),this.C_=!1):X("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{Zi(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=me(u);c.k_.add(4),await sl(c),c.K_.set("Unknown"),c.k_.delete(4),await xh(c)}(this))})}),this.K_=new xF(r,i)}}async function xh(t){if(Zi(t))for(const e of t.q_)await e(!0)}async function sl(t){for(const e of t.q_)await e(!1)}function KI(t,e){const n=me(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Ig(n)?Tg(n):ps(n).s_()&&Sg(n,e))}function wg(t,e){const n=me(t),r=ps(n);n.B_.delete(e),r.s_()&&QI(n,e),n.B_.size===0&&(r.s_()?r.a_():Zi(n)&&n.K_.set("Unknown"))}function Sg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).V_(e)}function QI(t,e){t.U_.xe(e),ps(t).m_(e)}function Tg(t){t.U_=new kU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.K_.F_()}function Ig(t){return Zi(t)&&!ps(t).i_()&&t.B_.size>0}function Zi(t){return me(t).k_.size===0}function YI(t){t.U_=void 0}async function bF(t){t.K_.set("Online")}async function OF(t){t.B_.forEach((e,n)=>{Sg(t,e)})}async function DF(t,e){YI(t),Ig(t)?(t.K_.O_(e),Tg(t)):t.K_.set("Unknown")}async function LF(t,e,n){if(t.K_.set("Online"),e instanceof LI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sc(t,r)}else if(e instanceof Pu?t.U_.$e(e):e instanceof DI?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(de.min()))try{const r=await HI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.U_.it(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.B_.get(c);d&&o.B_.set(c,d.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const d=o.B_.get(u);if(!d)return;o.B_.set(u,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),QI(o,u);const f=new Ur(d.target,u,c,d.sequenceNumber);Sg(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Sc(t,r)}}async function Sc(t,e,n){if(!fs(e))throw e;t.k_.add(1),await sl(t),t.K_.set("Offline"),n||(n=()=>HI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await xh(t)})}function XI(t,e){return e().catch(n=>Sc(t,n,e))}async function Nh(t){const e=me(t),n=ai(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;VF(e);)try{const i=await _F(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,MF(e,i)}catch(i){await Sc(e,i)}JI(e)&&ZI(e)}function VF(t){return Zi(t)&&t.L_.length<10}function MF(t,e){t.L_.push(e);const n=ai(t);n.s_()&&n.f_&&n.g_(e.mutations)}function JI(t){return Zi(t)&&!ai(t).i_()&&t.L_.length>0}function ZI(t){ai(t).start()}async function UF(t){ai(t).w_()}async function FF(t){const e=ai(t);for(const n of t.L_)e.g_(n.mutations)}async function jF(t,e,n){const r=t.L_.shift(),i=mg.from(r,e,n);await XI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nh(t)}async function $F(t,e){e&&ai(t).f_&&await async function(r,i){if(function(s){return AU(s)&&s!==H.ABORTED}(i.code)){const o=r.L_.shift();ai(r).__(),await XI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Nh(r)}}(t,e),JI(t)&&ZI(t)}async function L0(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.k_.add(3),await sl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await xh(n)}async function zF(t,e){const n=me(t);e?(n.k_.delete(2),await xh(n)):e||(n.k_.add(2),await sl(n),n.K_.set("Unknown"))}function ps(t){return t.W_||(t.W_=function(n,r,i){const o=me(n);return o.b_(),new RF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:bF.bind(null,t),mo:OF.bind(null,t),po:DF.bind(null,t),R_:LF.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Ig(t)?Tg(t):t.K_.set("Unknown")):(await t.W_.stop(),YI(t))})),t.W_}function ai(t){return t.G_||(t.G_=function(n,r,i){const o=me(n);return o.b_(),new PF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:UF.bind(null,t),po:$F.bind(null,t),p_:FF.bind(null,t),y_:jF.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Nh(t)):(await t.G_.stop(),t.L_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Cg(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(yr("AsyncQueue",`${e}: ${t}`),fs(t))return new Z(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Gs(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.z_=new Ye(ie.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ce():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ns{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new ns(e,n,Vo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class WF{constructor(){this.queries=M0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=me(n),o=i.queries;i.queries=M0(),o.forEach((s,l)=>{for(const u of l.J_)u.onError(r)})})(this,new Z(H.ABORTED,"Firestore shutting down"))}}function M0(){return new Xi(t=>EI(t),Ih)}async function eC(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new BF,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Ag(s,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&Rg(n)}async function tC(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HF(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.J_)l.ta(i)&&(r=!0);s.H_=i}}r&&Rg(n)}function qF(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function Rg(t){t.X_.forEach(e=>{e.next()})}var _p,U0;(U0=_p||(_p={})).na="default",U0.Cache="cache";class nC{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.key=e}}class iC{constructor(e){this.key=e}}class GF{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ee(),this.mutatedKeys=Ee(),this.Va=wI(e),this.ma=new Vo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new V0,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),E=Ch(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;m&&E?m.data.isEqual(E.data)?C!==T&&(r.track({type:3,doc:E}),P=!0):this.ya(m,E)||(r.track({type:2,doc:E}),P=!0,(u&&this.Va(E,u)>0||c&&this.Va(E,c)<0)&&(l=!0)):!m&&E?(r.track({type:0,doc:E}),P=!0):m&&!E&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(l=!0)),P&&(E?(s=s.add(E),o=T?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,f)=>function(E,C){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return T(E)-T(C)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,s.length!==0||c?{snapshot:new ns(this.query,e.ma,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new V0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ee(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new iC(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new rC(r))}),n}va(e){this.da=e.ds,this.Ra=Ee();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ns.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class KF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QF{constructor(e){this.key=e,this.Fa=!1}}class YF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Xi(l=>EI(l),Ih),this.Oa=new Map,this.Na=new Set,this.La=new Ye(ie.comparator),this.Ba=new Map,this.ka=new vg,this.qa={},this.Qa=new Map,this.Ka=ts.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function XF(t,e,n=!0){const r=cC(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await oC(r,e,n,!0),i}async function JF(t,e){const n=cC(t);await oC(n,e,!0,!1)}async function oC(t,e,n,r){const i=await EF(t.localStore,Wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await ZF(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&KI(t.remoteStore,i),l}async function ZF(t,e,n,r,i){t.Ua=(f,m,E)=>async function(T,P,_,y){let I=P.view.ga(_);I.ss&&(I=await b0(T.localStore,P.query,!1).then(({documents:S})=>P.view.ga(S,I)));const x=y&&y.targetChanges.get(P.targetId),U=y&&y.targetMismatches.get(P.targetId)!=null,j=P.view.applyChanges(I,T.isPrimaryClient,x,U);return j0(T,P.targetId,j.ba),j.snapshot}(t,f,m,E);const o=await b0(t.localStore,e,!0),s=new GF(e,o.ds),l=s.ga(o.documents),u=ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);j0(t,n,c.ba);const d=new KF(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function e9(t,e,n){const r=me(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!Ih(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wg(r.remoteStore,i.targetId),Ep(r,i.targetId)}).catch(ds)):(Ep(r,i.targetId),await vp(r.localStore,i.targetId,!0))}async function t9(t,e){const n=me(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function n9(t,e,n){const r=u9(t);try{const i=await function(s,l){const u=me(s),c=ht.now(),d=l.reduce((E,C)=>E.add(C.key),Ee());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=vr(),T=Ee();return u.hs.getEntries(E,d).next(P=>{C=P,C.forEach((_,y)=>{y.isValidDocument()||(T=T.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,C)).next(P=>{f=P;const _=[];for(const y of l){const I=wU(y,f.get(y.key).overlayedDocument);I!=null&&_.push(new Ji(y.key,I,dI(I.value.mapValue),cr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,c,_,l)}).next(P=>{m=P;const _=P.applyToLocalDocumentSet(f,T);return u.documentOverlayCache.saveOverlays(E,P.batchId,_)})}).then(()=>({batchId:m.batchId,changes:TI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.qa[s.currentUser.toKey()];c||(c=new Ye(we)),c=c.insert(l,u),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await al(r,i.changes),await Nh(r.remoteStore)}catch(i){const o=Ag(i,"Failed to persist write");n.reject(o)}}async function sC(t,e){const n=me(t);try{const r=await yF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?Pe(s.Fa):i.removedDocuments.size>0&&(Pe(s.Fa),s.Fa=!1))}),await al(n,r,e)}catch(r){await ds(r)}}function F0(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const l=s.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=me(s);u.onlineState=l;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.J_)m.ea(l)&&(c=!0)}),c&&Rg(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r9(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Ye(ie.comparator);s=s.insert(o,Ut.newNoDocument(o,de.min()));const l=Ee().add(o),u=new Ph(de.min(),new Map,new Ye(we),s,l);await sC(r,u),r.La=r.La.remove(o),r.Ba.delete(e),Pg(r)}else await vp(r.localStore,e,!1).then(()=>Ep(r,e,n)).catch(ds)}async function i9(t,e){const n=me(t),r=e.batch.batchId;try{const i=await gF(n.localStore,e);lC(n,r,null),aC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await al(n,i)}catch(i){await ds(i)}}async function o9(t,e,n){const r=me(t);try{const i=await function(s,l){const u=me(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(Pe(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);lC(r,e,n),aC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await al(r,i)}catch(i){await ds(i)}}function aC(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function lC(t,e,n){const r=me(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Ep(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||uC(t,r)})}function uC(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(wg(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Pg(t))}function j0(t,e,n){for(const r of n)r instanceof rC?(t.ka.addReference(r.key,e),s9(t,r)):r instanceof iC?(X("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||uC(t,r.key)):ce()}function s9(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Na.add(r),Pg(t))}function Pg(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ie(Be.fromString(e)),r=t.Ka.next();t.Ba.set(r,new QF(n)),t.La=t.La.insert(n,r),KI(t.remoteStore,new Ur(Wn(fg(n.path)),r,"TargetPurposeLimboResolution",wh.oe))}}async function al(t,e,n){const r=me(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{s.push(r.Ua(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Eg.zi(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(u,c){const d=me(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(c,m=>W.forEach(m.Wi,E=>d.persistence.referenceDelegate.addReference(f,m.targetId,E)).next(()=>W.forEach(m.Gi,E=>d.persistence.referenceDelegate.removeReference(f,m.targetId,E)))))}catch(f){if(!fs(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const E=d.us.get(m),C=E.snapshotVersion,T=E.withLastLimboFreeSnapshotVersion(C);d.us=d.us.insert(m,T)}}}(r.localStore,o))}async function a9(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await WI(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(l=>{l.forEach(u=>{u.reject(new Z(H.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await al(n,r.Ts)}}function l9(t,e){const n=me(t),r=n.Ba.get(e);if(r&&r.Fa)return Ee().add(r.key);{let i=Ee();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const l=n.xa.get(s);i=i.unionWith(l.view.fa)}return i}}function cC(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r9.bind(null,e),e.Ma.R_=HF.bind(null,e.eventManager),e.Ma.Wa=qF.bind(null,e.eventManager),e}function u9(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o9.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return mF(this.persistence,new fF,e.initialUser,this.serializer)}ja(e){return new BI(_g.ei,this.serializer)}za(e){return new SF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class c9 extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Pe(this.persistence.referenceDelegate instanceof wc);const r=this.persistence.referenceDelegate.garbageCollector;return new JU(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new BI(r=>wc.ei(r,n),this.serializer)}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a9.bind(null,this.syncEngine),await zF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WF}()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),r=function(o){return new AF(o)}(e.databaseInfo);return function(o,s,l,u){return new kF(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new NF(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>F0(this.syncEngine,n,0),function(){return D0.p()?new D0:new TF}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,d){const f=new YF(i,o,s,l,u,c);return d&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=me(i);X("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await sl(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=uI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bd(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await d9(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>L0(e.remoteStore,i)),t._onlineComponents=e}async function d9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await Bd(t,new Tc)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Bd(t,new c9(void 0));return t._offlineComponents}async function dC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await $0(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await $0(t,new wp))),t._onlineComponents}function f9(t){return dC(t).then(e=>e.syncEngine)}async function fC(t){const e=await dC(t),n=e.eventManager;return n.onListen=XF.bind(null,e.syncEngine),n.onUnlisten=e9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t9.bind(null,e.syncEngine),n}function p9(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new hC({next:m=>{d.eu(),s.enqueueAndForget(()=>tC(o,f));const E=m.docs.has(l);!E&&m.fromCache?c.reject(new Z(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&u&&u.source==="server"?c.reject(new Z(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new nC(fg(l.path),d,{includeMetadataChanges:!0,ua:!0});return eC(o,f)}(await fC(t),t.asyncQueue,e,n,r)),r.promise}function m9(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new hC({next:m=>{d.eu(),s.enqueueAndForget(()=>tC(o,f)),m.fromCache&&u.source==="server"?c.reject(new Z(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new nC(l,d,{includeMetadataChanges:!0,ua:!0});return eC(o,f)}(await fC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e,n){if(!n)throw new Z(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g9(t,e,n,r){if(e===!0&&r===!0)throw new Z(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B0(t){if(!ie.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W0(t){if(ie.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(t);throw new Z(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new P4;switch(r.type){case"firstParty":return new b4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=z0.get(n);r&&(X("ComponentProvider","Removing Datastore"),z0.delete(n),r.terminate())}(this),Promise.resolve()}}function y9(t,e,n,r={}){var i;const o=(t=Wi(t,Oh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Vt.MOCK_USER;else{l=B2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(c)}t._authCredentials=new k4(new lI(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Zr extends ms{constructor(e,n,r){super(e,n,fg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ie(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function v9(t,e,...n){if(t=qt(t),mC("collection","path",e),t instanceof Oh){const r=Be.fromString(e,...n);return W0(r),new Zr(t,null,r)}{if(!(t instanceof nn||t instanceof Zr))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return W0(r),new Zr(t.firestore,null,r)}}function _9(t,e,...n){if(t=qt(t),arguments.length===1&&(e=uI.newId()),mC("doc","path",e),t instanceof Oh){const r=Be.fromString(e,...n);return B0(r),new nn(t,null,new ie(r))}{if(!(t instanceof nn||t instanceof Zr))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return B0(r),new nn(t.firestore,t instanceof Zr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new qI(this,"async_queue_retry"),this.fu=()=>{const r=zd();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ur;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!fs(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Cg.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Dh extends Oh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new q0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function E9(t,e){const n=_1(),r="(default)",i=Ym(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$2("firestore");o&&y9(i,...o)}return i}function kg(t){if(t._terminated)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w9(t),t._firestoreClient}function w9(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,d){return new G4(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new h9(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(Pt.fromBase64String(e))}catch(n){throw new Z(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=/^__.*__$/;class T9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new il(e,this.data,n,this.fieldTransforms)}}function yC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Og{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ic(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(yC(this.Mu)&&S9.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class I9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kh(e)}$u(e,n,r,i=!1){return new Og({Mu:e,methodName:n,Ku:r,path:Ct.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vC(t){const e=t._freezeSettings(),n=kh(t._databaseId);return new I9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C9(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);wC("Data must be an object, but it was:",s,r);const l=_C(r,s);let u,c;if(o.merge)u=new Nn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const m=R9(e,f,n);if(!s.contains(m))throw new Z(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);k9(d,m)||d.push(m)}u=new Nn(d),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new T9(new yn(l),u,c)}function A9(t,e,n,r=!1){return Dg(n,t.$u(r?4:3,e))}function Dg(t,e){if(EC(t=qt(t)))return wC("Unsupported field value:",e,t),_C(t,e);if(t instanceof gC)return function(r,i){if(!yC(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=Dg(l,i.ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ht.fromDate(r);return{timestampValue:Ec(i.serializer,o)}}if(r instanceof ht){const o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ec(i.serializer,o)}}if(r instanceof Ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:VI(i.serializer,r._byteString)};if(r instanceof nn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bg)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return pg(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${bh(r)}`)}(t,e)}function _C(t,e){const n={};return cI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const o=Dg(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function EC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Ng||t instanceof rs||t instanceof nn||t instanceof gC||t instanceof bg)}function wC(t,e,n){if(!EC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bh(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function R9(t,e,n){if((e=qt(e))instanceof xg)return e._internalPath;if(typeof e=="string")return SC(t,e);throw Ic("Field path arguments must be of type string or ",t,!1,void 0,n)}const P9=new RegExp("[~\\*/\\[\\]]");function SC(t,e,n){if(e.search(P9)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xg(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ic(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Z(H.INVALID_ARGUMENT,l+t+u)}function k9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x9 extends TC{data(){return super.data()}}function IC(t,e){return typeof e=="string"?SC(t,e):e instanceof xg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class b9 extends Lg{}function O9(t,e,...n){let r=[];e instanceof Lg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Mg).length,l=o.filter(u=>u instanceof Vg).length;if(s>1||s>0&&l>0)throw new Z(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vg extends b9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vg(e,n,r)}_apply(e){const n=this._parse(e);return CC(e._query,n),new ms(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=vC(e.firestore);return function(o,s,l,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){K0(f,d);const E=[];for(const C of f)E.push(G0(u,o,C));m={arrayValue:{values:E}}}else m=G0(u,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||K0(f,d),m=A9(l,s,f,d==="in"||d==="not-in");return ot.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Mg extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)CC(s,u),s=dp(s,u)}(e._query,n),new ms(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function G0(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new Z(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(e)&&n.indexOf("/")!==-1)throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ie.isDocumentKey(r))throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p0(t,new ie(r))}if(n instanceof nn)return p0(t,n._key);throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function K0(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CC(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class D9{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>et(s.doubleValue));return new bg(o)}convertGeoPoint(e){return new Ng(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const n=ii(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Pe(zI(r));const i=new Fa(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(n)||yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AC extends TC{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(IC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ku extends AC{data(e={}){return super.data(e)}}class V9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ku(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new ku(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new ku(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:M9(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){t=Wi(t,nn);const e=Wi(t.firestore,Dh);return p9(kg(e),t._key).then(n=>z9(e,t,n))}class RC extends D9{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function F9(t){t=Wi(t,ms);const e=Wi(t.firestore,Dh),n=kg(e),r=new RC(e);return N9(t._query),m9(n,t._query).then(i=>new V9(e,r,t,i))}function j9(t,e,n){t=Wi(t,nn);const r=Wi(t.firestore,Dh),i=L9(t.converter,e);return $9(r,[C9(vC(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function $9(t,e){return function(r,i){const o=new ur;return r.asyncQueue.enqueueAndForget(async()=>n9(await f9(r),i,o)),o.promise}(kg(t),e)}function z9(t,e,n){const r=n.docs.get(e._key),i=new RC(t);return new AC(t,i,e._key,r,new Qs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){hs=i})(us),Yo(new ji("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Dh(new x4(r.getProvider("auth-internal")),new D4(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Jr(l0,"4.7.5",e),Jr(l0,"4.7.5","esm2017")})();var B9="firebase",W9="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(B9,W9,"app");const H9={apiKey:"AIzaSyAYaM9RpvoujjP42Bb2jrRl69WigcqER10",authDomain:"crwn-2c2a7.firebaseapp.com",projectId:"crwn-2c2a7",storageBucket:"crwn-2c2a7.firebasestorage.app",messagingSenderId:"224199242811",appId:"1:224199242811:web:64527a1aab7289d9b3981e"};v1(H9);const PC=new er;PC.setCustomParameters({prompt:"select_account"});const ll=A4(),q9=()=>LM(ll,PC),kC=E9(),G9=async()=>{const t=v9(kC,"categories"),e=O9(t);return(await F9(e)).docs.map(r=>r.data())},K9=async(t,e={})=>{if(!t)return;const n=_9(kC,"users",t.uid),r=await U9(n);if(!r.exists()){const{displayName:i,email:o}=t,s=new Date;try{await j9(n,{displayName:i,email:o,createdAt:s,...e})}catch(l){console.log("error creating the user",l.message)}}return r},Q9=async(t,e)=>{if(!(!t||!e))return await cM(ll,t,e)},Y9=async(t,e)=>{if(!(!t||!e))return await hM(ll,t,e)},X9=async()=>await mM(ll),J9=()=>new Promise((t,e)=>{const n=pM(ll,r=>{n(),t(r)},e)});function*Z9(){try{const t=yield nt(G9,"categories");yield qn(Qb(t))}catch(t){yield qn(Yb(t))}}function*e3(){yield Qi(Oi.FETCH_CATEGORIES_START,Z9)}function*t3(){yield zm([nt(e3)])}function*Lh(t,e){try{const n=yield nt(K9,t,e);yield qn(Cb({id:n.id,...n.data()}))}catch(n){yield qn(dh(n))}}function*n3(){try{const{user:t}=yield nt(q9);yield nt(Lh,t)}catch(t){yield qn(dh(t))}}function*r3({payload:{email:t,password:e}}){try{const{user:n}=yield nt(Y9,t,e);yield nt(Lh,n)}catch(n){yield qn(dh(n))}}function*i3(){try{const t=yield nt(J9);if(yield nt(Lh,t),!t)return}catch(t){yield qn(dh(t))}}function*o3({payload:{email:t,password:e,displayName:n}}){try{const{user:r}=yield nt(Q9,t,e);yield nt(Rb(r,{displayName:n}))}catch(r){yield qn(Pb(r))}}function*s3(){try{yield nt(X9),yield qn(xb())}catch(t){yield qn(Nb(t))}}function*a3({payload:{user:t,additionalDetails:e}}){yield nt(Lh,t,e)}function*l3(){yield Qi(Ze.GOOGLE_SIGN_IN_START,n3)}function*u3(){yield Qi(Ze.CHECK_USER_SESSION,i3)}function*c3(){yield Qi(Ze.EMAIL_SIGN_IN_START,r3)}function*h3(){yield Qi(Ze.SIGN_UP_START,o3)}function*d3(){yield Qi(Ze.SIGN_UP_SUCCESS,a3)}function*f3(){yield Qi(Ze.SIGN_OUT_START,s3)}function*p3(){yield zm([nt(u3),nt(l3),nt(c3),nt(h3),nt(d3),nt(f3)])}function*m3(){yield zm([nt(t3),nt(p3)])}const g3={key:"root",storage:kT,blacklist:["user"],whitelist:["cart"]},xC=x2(),y3=JO(g3,ED),v3=[!1,xC].filter(Boolean),_3=ST,E3=_3(MO(...v3)),NC=bm(y3,void 0,E3);xC.run(m3);const w3=iD(NC);Ff.createRoot(document.getElementById("root")).render($(Re.StrictMode,{children:$(Rx,{store:NC,children:$(VS,{loading:null,persistor:w3,children:$(Pk,{children:$(HS,{stripe:xO,children:$(SO,{})})})})})}));
